{"version":3,"sources":["components/Cart/PayGate.js","components/Navbar/Navbar.js","components/Shop/ViewShop/EditItems.js","components/Shop/ViewShop/ShowItem.js","components/Home/UpdateEvents.js","components/Home/UpdateServices.js","components/Home/UpdateDescription.js","config/options.js","components/Home/Home.js","components/Shop/CreateShop.js","components/Shop/ShopsOverview.js","components/Shop/Vinarne.js","components/Login/SignUp.js","components/Login/Login.js","components/Shop/ViewShop/AddItems.js","components/Shop/ViewShop/ShopItems.js","components/Shop/ViewShop/ShopJumbotron.js","components/Shop/ViewShop.js","components/Shop/shopOnline/ShopOnline.js","components/Cart/PlaceOrder.js","components/Cart/ShoppingCart.js","components/Payment/Orders.js","components/Payment/SuccessPayment.js","components/Payment/RejectPayment.js","components/Wines/WineOverview.js","components/Wines/Vinka.js","components/Events/AddEvent.js","components/Events/EditEvent.js","components/Events/Events.js","components/Services/AddService.js","components/Services/EditService.js","components/Services/Services.js","App.js","index.js"],"names":["paymentPopup","setPaymentPopup","orderInfo","total","orderId","style","backgroundColor","show","onHide","padding","width","height","id","src","amount","reference","signature","key","message","encryptedKey","locutus","encryptedMessage","uint8arr","crypto","createHmac","update","digest","Buffer","from","buffer","reduce","str","byte","toString","padStart","toUpperCase","GetSignature","toFixed","constructOrder","position","right","top","cursor","onClick","isLoggedIn","handleLogOut","userName","Navbar","fixed","bg","variant","expand","Brand","alt","className","Toggle","aria-controls","Collapse","Nav","to","showEditItems","setShowEditItems","shopId","itemId","itemDataProp","setShouldReload","shouldReload","useState","itemName","setItemName","price","setPrice","description","setDescription","imageLink","setImageLink","canSaveItem","setCanSaveItem","maxCount","setMaxCount","color","setColor","type","setType","taste","setTaste","itemData","setItemData","getImage","image","replace","useEffect","Modal","Header","closeButton","Title","Body","Row","Col","htmlFor","value","name","onChange","e","target","placeholder","InputGroup","maxLength","resize","minHeight","Button","newItemData","deleteFormerImage","size","maxFiles","multiple","canCancel","getUploadParams","meta","url","onChangeStatus","status","file","axios","get","params","then","catch","err","console","log","deleteFile","accept","inputContent","marginTop","classNames","dropzone","Footer","put","disabled","colMdSettings","colXsSettings","shopItems","userId","setShowAddedPopup","isOwner","count","setCount","isHovered","setIsHovered","clicked","setClicked","editing","setEditing","map","item","_id","passShopId","xs","md","lg","xl","Card","onMouseEnter","hoverObj","handleMouseOver","onMouseLeave","currentTarget","parentNode","post","deleteCard","marginBottom","zIndex","fontSize","margin","editingObj","handleEditing","marginLeft","EditItems","Img","Text","ImgOverlay","background","display","passCount","setTimeout","localShoppingCart","localStorage","getItem","removeItem","newShoppingCart","JSON","parse","setItem","stringify","addItemToCart","Container","Form","Control","as","countObj","handleCount","result","num","push","showCount","passId","dummy","document","createElement","body","appendChild","select","execCommand","removeChild","copyFunction","textDecoration","eventsPopup","setEventsPopup","forceRefresh","setForceRefresh","eventsImage","eventsText","descriptionEvents","imageLinkEvents","res","data","servicesPopup","setServicesPopup","servicesImage","servicesText","descriptionServices","imageLinkServices","descriptionsPopup","setDescriptionsPopup","descriptionsText","descriptionGeneral","MAX_HEIGHT_JUMBO","options","carouselData","setCarouselData","featuredWines","setFeaturedWines","loading","setLoading","showAddedPopup","featuredIds","setFeaturedIds","isIdAvail","setIsIdAvail","tempId","setTempId","eventsData","setEventsData","servicesData","setServicesData","setDescriptionGeneral","featured","events","services","response","newObj","prev","ShowEvents","ShowServices","ShowGeneral","handleFeaturedIds","i","newValue","newIdAvail","length","window","location","reload","handleSuccessFeatureChange","ShowUpdateFeaturedWines","sm","newTempIds","handleTempId","onBlur","Spinner","animation","Alert","onClose","dismissible","UpdateEvents","UpdateServices","UpdateDescription","Carousel","indicators","maxHeight","shop","shopName","owner","Item","Caption","ShowItem","rel","href","marginRight","userData","setShopName","fullName","ownerId","shortid","generate","shopData","showCreateShop","setShowCreateShop","CreateShop","overviewImage","handleMouseLeave","textAlign","setShopData","ShopsOverview","shoppingCart","handleLogin","firstName","setFirstName","middleName","setMiddleName","lastName","setLastName","email","setEmail","passwordFirst","setPasswordFirst","passwordSecond","setPasswordSecond","passwordsMatch","setPasswordsMatch","emailExists","setEmailExists","phone","setPhone","street","setStreet","postal","setPostal","city","setCity","checkIfPasswordMeetsCriteria","search","checkIfEmailMeetsCriteria","match","checkIfNameMeetsCriteria","checkIfCityMeetsCriteria","checkIfStreetMeetsCriteria","checkIfPhoneMeetsCriteria","checkIfPostalMeetsCriteria","substring","address","password","signUp","setSignUp","hideButton","setHideButton","action","method","SignUp","showAddItems","setShowAddItems","setShopItems","AddItems","border","history","useHistory","currentUrl","setCurrentUrl","newUrl","setNewUrl","isUrlAvailible","setIsUrlAvailible","editMode","setEditMode","error","setError","setOwner","setOverviewImage","showImageFromDb","localUploadingTitle","setLocalUploadingTitle","localUploadingOverview","setLocalUploadingOverview","handleError","Jumbotron","backgroundSize","fluid","delete","ShopJumbotron","ShopItems","shopUrl","useParams","ViewShop","setUserInformation","handleSignUp","lastRef","useRef","shops","setShops","refresh","setRefresh","userInformation","login","setLogin","registration","setRegistration","shipmentOnly","setShipmentOnly","nanoid","passOrderInfo","setPassOrderInfo","executeScroll","current","scrollIntoView","behavior","block","sortItems","cartItems","sortShop","cartItem","itemsArr","findItem","find","el","undefined","index","findIndex","prevItems","isInCart","prevCount","Number","newShopId","parsedShoppingCart","a","addItemsToShoppingCartFromLocal","showItemData","data-id","Image","rounded","newLocalShoppingCart","filter","removeItemFromCart","paddingTop","PayGate","sort","justifyContent","getTotalPrice","Login","PlaceOrder","showTotalCartPrice","ref","createNewOrder","ordersData","setOrdersData","shippedObj","setShippedObj","expandedObj","setExpandedObj","validatedOrdersData","obj","ShowItemDataForOrder","passItemData","shopTotal","Fragment","order","ShowOrderDetails","passShops","ShowBuyerDetails","passUserInformation","buyerId","iban","span","offset","ShowOrders","createdAt","isShipped","statusColor","oldValue","handleExpanded","moment","format","float","paddingBottom","checked","stopPropagation","newVal","expandObj","handleShipping","colSpan","Table","striped","bordered","hover","query","URLSearchParams","useLocation","paymentId","paymentResultCode","ShowWines","WineOverview","eventPopup","setEventPopup","Date","startDate","setStartDate","setName","idFromName","setIdFromName","link","setLink","where","setWhere","when","setWhen","setNewId","toLowerCase","showTimeSelect","selected","date","eventData","valueOf","b","event","maxWidth","eventId","EditEvent","passLink","open","focus","AddEvent","servicePopup","setServicePopup","serviceData","service","text","serviceId","EditService","AddService","setIsLoggedIn","setUserData","loadingData","setLoadingData","withCredentials","integrity","crossOrigin","exact","path","Home","Vinarne","Vinka","ShoppingCart","SuccessPayment","RejectPayment","Orders","Events","Services","ShopOnline","ReactDOM","render","App","getElementById"],"mappings":"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","file":"static/js/main.9c0afcbd.chunk.js","sourcesContent":["import React, {useEffect, useState } from 'react'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport crypto from 'crypto'\r\nimport locutus from 'locutus/php/misc/pack'\r\n\r\nexport default ({paymentPopup, setPaymentPopup, orderInfo}) => {\r\n    const {total, orderId } = orderInfo\r\n\r\n    const toHexString = bytes => bytes.reduce((str, byte) => str + byte.toString(16).padStart(2, '0'), '');\r\n\r\n    const GetSignature = (key, message) => {\r\n        const encryptedKey = locutus('A*', key)\r\n        const encryptedMessage = locutus('A*', message)\r\n        const uint8arr = crypto.createHmac('sha256', encryptedKey).update(encryptedMessage).digest()\r\n        const converted = toHexString(Buffer.from(uint8arr.buffer))\r\n        return converted.toUpperCase()\r\n    }\r\n\r\n    const constructOrder = () => {\r\n        const baseUrl = \"https://playground.trustpay.eu/mapi5/wire/paypopup\";\r\n        const accountId = 2107205663;\r\n        const amount = total;\r\n        const currency = \"EUR\";\r\n        const reference = orderId;\r\n        const paymentType = 0;\r\n    \r\n        const secretKey = \"5FIwY8FAc15vKHD96B9XQLhPIZdK8lNr\";\r\n        const sigData = `${accountId}/${amount.toFixed(2)}/${currency}/${reference}/${paymentType}`;\r\n        const signature = GetSignature(secretKey, sigData); //eslint-disable-line\r\n    \r\n        const url = `${baseUrl}?AccountId=${accountId}&Amount=${amount}&Currency=${currency}&Reference=${reference}&PaymentType=${paymentType}&Signature=${signature}`\r\n        return url;\r\n    }\r\n\r\n    return (\r\n        <Modal style={{backgroundColor: 'rgba(255,255,255,0) !important'}} show={paymentPopup} onHide={() => setPaymentPopup(true)}>\r\n            <iframe style={{padding: \"-15px\", width:\"100%\", height: \"550px\"}} id=\"TrustPayFrame\" src={constructOrder()}></iframe>\r\n            <div style={{\r\n                position: 'absolute', \r\n                right: 15, \r\n                top: 15, \r\n                height: 50, \r\n                width: 50, \r\n                cursor: 'pointer'\r\n            }} onClick={() => setPaymentPopup(false)}></div>\r\n        </Modal>\r\n    )\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\n\r\nimport {FiShoppingCart} from \"react-icons/fi\"\r\n\r\n// Navbar.js\r\nexport default ({ isLoggedIn, handleLogOut, userName }) => {\r\n  return (\r\n    <Navbar fixed=\"top\" bg=\"dark\" variant=\"dark\" expand=\"md\">\r\n      <Navbar.Brand>\r\n        <img\r\n          alt=\"\"\r\n          src=\"https://st2.depositphotos.com/8301258/11284/v/950/depositphotos_112842636-stock-illustration-logo-shop-bags-icon-symbol.jpg\"\r\n          width=\"30\"\r\n          height=\"30\"\r\n          className=\"d-inline-block align-top\"\r\n        />\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n      <Navbar.Collapse id=\"basic-navbar-nav\">\r\n        <Nav className=\"mr-auto\">\r\n          <Link className={`nav-elem`} to=\"/\">\r\n            Domov\r\n          </Link>\r\n\r\n          <Link className={`nav-elem`} to=\"/vinarne\">\r\n            Vinarne\r\n          </Link>\r\n\r\n          <Link className={`nav-elem`} to=\"/vinka\">\r\n            Vinka\r\n          </Link>\r\n\r\n          <Link className={`nav-elem`} to=\"/akcie\">\r\n            Akcie\r\n          </Link>\r\n\r\n          <Link className={`nav-elem`} to=\"/sluzby\">\r\n            Sluzby\r\n          </Link>\r\n        </Nav>\r\n        <Nav className=\"mr-sm-2\">\r\n            <Link className={`nav-elem`} to=\"/cart-page\">\r\n              <FiShoppingCart />\r\n            </Link>\r\n          {isLoggedIn ? (\r\n            <>\r\n              <Link className={`nav-elem`} to=\"/objednavky\">\r\n                Objednavky\r\n              </Link>\r\n              <Link className={`nav-elem`} onClick={handleLogOut} to=\"\">\r\n                Logout\r\n              </Link>\r\n            </>\r\n          ) : (\r\n            <Link className={`nav-elem`} to=\"/login-page\">\r\n              Login\r\n            </Link>\r\n          )}\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\"\r\n\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nexport default ({ showEditItems, setShowEditItems, shopId, itemId, itemDataProp, setShouldReload, shouldReload }) => {\r\n  const [itemName, setItemName] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [imageLink, setImageLink] = useState(\"\");\r\n  const [canSaveItem, setCanSaveItem] = useState(false);\r\n  const [maxCount, setMaxCount] = useState('')\r\n  const [color, setColor] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [taste, setTaste] = useState(\"\");\r\n\r\n  const [itemData, setItemData] = useState({...itemDataProp})\r\n\r\n  const resetPropsOnHide = () => {\r\n    setImageLink(\"\")\r\n    setItemName(\"\")\r\n    setPrice(\"\")\r\n    setDescription(\"\")\r\n    setCanSaveItem(false)\r\n    setShowEditItems('')\r\n  }\r\n\r\n  const getImage = (image) => {\r\n    try {\r\n      const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n      return img;\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleSaveItem = () => {\r\n    if (itemName) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/itemName/${itemName}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (price) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/price/${price}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (description) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/description/${description}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (imageLink) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/imageLink/${imageLink}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (maxCount) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/maxCount/${maxCount}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (color) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/color/${color}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (type) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/type/${type}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (taste) {\r\n      axios\r\n        .put(`https://mas-vino.herokuapp.com/shop/${shopId}/update-item/${itemId}/taste/${taste}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n  };\r\n\r\n  const deleteFile = (file) => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/deleteFile/${shopId}`, {\r\n        params: file\r\n      })\r\n      .then(() => \r\n        {return}\r\n      )\r\n      .catch((err) => err && console.log(err));\r\n  };\r\n  useEffect(() => {\r\n    const isAlready = getImage(imageLink) ? getImage(imageLink) : imageLink;\r\n    if (isAlready || imageLink || description || price || itemName || color || type || taste) {\r\n      setCanSaveItem(true);\r\n    }\r\n  }, [imageLink, description, price, itemName, color, type, taste]);\r\n\r\n  const getUploadParams = ({ meta }) => {\r\n    return { url: `https://mas-vino.herokuapp.com/fileUpload/${shopId}` };\r\n  };\r\n\r\n  const handleChangeStatus = ({ meta, file }, status) => {\r\n    if (status === \"removed\") {\r\n      deleteFile(meta);\r\n    }\r\n    if (status === \"done\") {\r\n      setImageLink(`${shopId}-${meta.name}`);\r\n    }\r\n  };\r\n\r\n  const deleteFormerImage = () => {\r\n    const newItemData = {...itemData, imageLink: ''}\r\n    setItemData(newItemData)\r\n  }\r\n\r\n  return (\r\n    <Modal show={showEditItems} onHide={() => resetPropsOnHide()}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Add an item to your shop.</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"shopName\">Name your item:</label>\r\n            <input\r\n              value={itemName || itemData.itemName}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"shopName\"\r\n              onChange={(e) => setItemName(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"price\">Price:</label>\r\n            <input\r\n              value={price || itemData.price}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"price\"\r\n              onChange={(e) => setPrice(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"color\">Farba:</label>\r\n            <input\r\n              value={color || itemData.color}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"color\"\r\n              placeholder=\"povinne\"\r\n              onChange={(e) => setColor(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"taste\">Chut:</label>\r\n            <input\r\n              value={taste || itemData.taste}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"taste\"\r\n              onChange={(e) => setTaste(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"type\">Druh:</label>\r\n            <input\r\n              value={type || itemData.type}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"type\"\r\n              onChange={(e) => setType(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col>\r\n            <label htmlFor=\"sizes\">Maximalny pocet flias v jednej objednavke:</label>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col className=\"form-group\">\r\n          <InputGroup>\r\n              <input\r\n                value={maxCount || itemData.maxCount || ''}\r\n                className=\"form-control\"\r\n                type=\"number\"\r\n                name=\"sizes\"\r\n                onChange={(e) => setMaxCount(e.target.value)}\r\n                placeholder={'Nechaj prazdne ak nieje hranica'}\r\n              />\r\n            </InputGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"description\">Description:</label>\r\n            <textarea\r\n              maxLength=\"230\"\r\n              value={description || itemData.description}\r\n              className=\"form-control\"\r\n              name=\"description\"\r\n              type=\"text\"\r\n              style={{ resize: \"none\", minHeight: \"100px\" }}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <br />\r\n        <SlideDown className={\"my-dropdown-slidedown\"}>\r\n        {itemData.imageLink ? \r\n        <Row className=\"justify-content-center text-center\">\r\n          <Col className=\"form-group\">\r\n            <img style={{height:'110px', width: '80px'}} src={getImage(itemData.imageLink) ? getImage(itemData.imageLink) : itemData.imageLink} />\r\n            <Button onClick={() => deleteFormerImage()} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n          </Col>\r\n        </Row> :\r\n        <Row>\r\n          <Col>\r\n            <Dropzone\r\n              maxFiles={1}\r\n              multiple={false}\r\n              canCancel={false}\r\n              getUploadParams={getUploadParams}\r\n              onChangeStatus={handleChangeStatus}\r\n              accept=\"image/*\"\r\n              inputContent={() => (\r\n                <p\r\n                  className=\"text-center\"\r\n                  key=\"label\"\r\n                  style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                >\r\n                  Drop or click to choose image.\r\n                  <br />\r\n                  <BsUpload />\r\n                </p>\r\n              )}\r\n              classNames={{\r\n                dropzone: \"dropzoning\"\r\n              }}\r\n            />\r\n          </Col>\r\n        </Row>}\r\n      </SlideDown>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        {canSaveItem ? (\r\n          <Button variant=\"dark\" onClick={handleSaveItem}>\r\n            Save Item\r\n          </Button>\r\n        ) : (\r\n          <Button disabled variant=\"dark\">\r\n            Save Item\r\n          </Button>\r\n        )}\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport { MdDelete, MdEdit } from \"react-icons/md\";\r\n\r\nimport EditItems from \"./EditItems\";\r\n\r\nexport default ({colMdSettings, colXsSettings, shopItems, shopId, userId, setShouldReload, shouldReload, setShowAddedPopup, isOwner, url}) => {\r\n    const [count, setCount] = useState(\"\")\r\n    const [isHovered, setIsHovered] = useState(\"\")\r\n    const [clicked, setClicked] = useState('')\r\n    const [editing, setEditing] = useState('')\r\n\r\n    const copyFunction = (passId) => {\r\n      const dummy = document.createElement(\"textarea\");\r\n      document.body.appendChild(dummy);\r\n      dummy.value = passId;\r\n      dummy.select();\r\n      document.execCommand(\"copy\");\r\n      document.body.removeChild(dummy);\r\n      setClicked('#333333')\r\n      setTimeout(() => setClicked(''),150)\r\n    }\r\n    \r\n    const getImage = (image) => {\r\n      try {\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n      } catch {\r\n          return null;\r\n      }\r\n    };\r\n\r\n    const deleteCard = (e) => {\r\n      const itemId = e.currentTarget.parentNode.id;\r\n      axios\r\n          .post(\r\n          `https://mas-vino.herokuapp.com/shop/${shopId}/delete-item/${itemId}`,\r\n          {}\r\n          )\r\n          .then(() => setShouldReload(!shouldReload))\r\n          .catch((err) => err && console.log(`Error ${err}`));\r\n    };\r\n\r\n    return shopItems.map((item) => {\r\n      const { _id, itemName, price, description, imageLink, maxCount } = item;\r\n      const passShopId = shopId === 'home' ? item.shopId : shopId\r\n\r\n      const image = getImage(imageLink)\r\n        ? getImage(imageLink)\r\n        : imageLink;\r\n\r\n      const showCount = () => {\r\n        let result = []\r\n        for (let num = 1; num<= (maxCount ?? 200); num++) {\r\n          result.push(<option key={num} value={num}>{num}</option>)\r\n        }\r\n        \r\n        return result\r\n      }\r\n\r\n      const handleCount = (e) => {\r\n        let countObj = {}\r\n        countObj[_id] = e.target.value\r\n        setCount({...count, ...countObj})\r\n      }\r\n\r\n      const handleEditing = (e) => {\r\n        const itemId = e.currentTarget.parentNode.id;\r\n        let editingObj = {}\r\n        editingObj[itemId] = true\r\n        setEditing({...editing, ...editingObj})\r\n      }\r\n\r\n      const handleMouseOver = () => {\r\n        let hoverObj = {}\r\n        hoverObj[_id] = 'block'\r\n        setIsHovered({...isHovered, ...hoverObj})\r\n      }\r\n\r\n      const handleMouseLeave = () => {\r\n        setIsHovered(\"\")\r\n      }\r\n\r\n      const addItemToCart = (e) => {\r\n        const itemId = e.currentTarget.parentNode.parentNode.parentNode.id;\r\n        const passCount = count[_id] || 1\r\n        if (userId) {\r\n          axios\r\n            .post(`https://mas-vino.herokuapp.com/users/${userId}/cart/add-cart-item/${passShopId}/${itemId}`, {\r\n            shopId: passShopId, itemId, count: passCount\r\n            })\r\n            .then(() => setShowAddedPopup(true))\r\n            .catch(err => err && console.log(err))\r\n            .then(() => setTimeout(() => setShowAddedPopup(false), 5000))\r\n        } else {\r\n          const localShoppingCart = localStorage.getItem('shoppingCart')\r\n          localStorage.removeItem('shoppingCart')\r\n          const newShoppingCart = localShoppingCart ? [...JSON.parse(localShoppingCart), {shopId: passShopId, itemId, count: passCount}] : [{shopId: passShopId, itemId, count: passCount}]\r\n          localStorage.setItem('shoppingCart', JSON.stringify(newShoppingCart))\r\n          setShowAddedPopup(true)\r\n          setTimeout(() => setShowAddedPopup(false), 5000)\r\n        }\r\n      }\r\n      return (\r\n        <Col className=\"mt-2 mb-2\" style={{color: \"whitesmoke\"}} xs={colXsSettings ?? 6} md={colMdSettings ?? 6} lg={colMdSettings ?? 4} xl={colMdSettings ?? 3} key={_id}>\r\n          <Card onMouseEnter={() => handleMouseOver()} onMouseLeave={() => handleMouseLeave()} style={{height: \"410px\" }} id={_id} >\r\n            {isOwner &&\r\n            <Button\r\n              onClick={(e) => deleteCard(e)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                zIndex: \"+5\"\r\n              }}\r\n              variant=\"outline-danger\"\r\n            >\r\n              <MdDelete style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n            {isOwner &&\r\n            <Button\r\n              onClick={(e) => handleEditing(e)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                marginLeft: \"40px\",\r\n                zIndex: \"+5\"\r\n              }}\r\n              variant=\"outline-warning\"\r\n            >\r\n              <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n            {editing[_id] && <EditItems shouldReload={shouldReload} setShouldReload={setShouldReload} itemDataProp={item} showEditItems={editing[_id]} setShowEditItems={setEditing} shopId={passShopId} itemId={_id} />}\r\n            <Card.Img className=\"shop-item-img mt-4\" variant=\"top\" src={image} />\r\n            <Card.Body style={{color: \"Black\"}}>\r\n              <Card.Title>{itemName}</Card.Title>\r\n              <Card.Text>{price} </Card.Text>\r\n            </Card.Body>\r\n            <Card.ImgOverlay style={{ background: \"rgba(52,58,64,0.7)\", display: `${isHovered[_id] === 'block' ? 'block' : 'none'}`}} >\r\n              <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                <Button style={{width: \"100%\"}} onClick={(e) => addItemToCart(e)} variant=\"dark\">Add to shopping cart.</Button>\r\n                <Container>\r\n                  <Row className=\"mt-2\">\r\n                    <Col>\r\n                      <Form.Control\r\n                        as=\"select\"\r\n                        value={count[_id]}\r\n                        onChange={(e) => handleCount(e)}\r\n                      >\r\n                        {showCount()}\r\n                      </Form.Control>\r\n                    </Col>\r\n                  </Row>\r\n                  {isOwner &&\r\n                  <Row>\r\n                    <Col><a onClick={() => copyFunction(_id)} style={{textDecoration: 'none', cursor: 'pointer', color: clicked}}><strong>copy my id!</strong></a></Col>\r\n                  </Row>}\r\n                  <Row style={{height: '240px', marginTop: '5px', marginBottom: '5px'}}>\r\n                    <Col>{description}</Col>\r\n                  </Row>\r\n                  {url && \r\n                    <Link to={`/${url}`}>\r\n                      <Button style={{width: \"100%\"}} variant=\"dark\">Visit shop.</Button>\r\n                    </Link>\r\n                  }\r\n                </Container>\r\n              </SlideDown>\r\n            </Card.ImgOverlay>\r\n          </Card>\r\n        </Col>\r\n      );\r\n    });\r\n  };","import React, {useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nconst IMAGE_PREFIX = 'homescreen-event-image'\r\n\r\nexport default ({eventsPopup, setEventsPopup, forceRefresh, setForceRefresh, eventsImage, eventsText}) => {\r\n    const [description, setDescription] = useState(eventsText)\r\n    const [imageLink, setImageLink] = useState(eventsImage)\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            console.log(image)\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${IMAGE_PREFIX}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${IMAGE_PREFIX}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${IMAGE_PREFIX}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        axios.put(`https://mas-vino.herokuapp.com/home/events-description`, { descriptionEvents: description, imageLinkEvents: imageLink })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setForceRefresh(!forceRefresh)\r\n                setEventsPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n\r\n    return (\r\n        <Modal show={eventsPopup} onHide={() => setEventsPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"400px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {\r\n                imageLink ? \r\n                <Row className=\"justify-content-center text-center\">\r\n                    <Col className=\"form-group\">\r\n                    <img style={{height:'110px', width: '160px'}} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                    <Button onClick={() => setImageLink('')} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n                    </Col>\r\n                </Row> :\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok udalosti. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(description && imageLink) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Upravit\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Upravit\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setEventsPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, {useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nconst IMAGE_PREFIX = 'homescreen-service-image'\r\n\r\nexport default ({servicesPopup, setServicesPopup, forceRefresh, setForceRefresh, servicesImage, servicesText}) => {\r\n    const [description, setDescription] = useState(servicesText)\r\n    const [imageLink, setImageLink] = useState(servicesImage)\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            console.log(image)\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${IMAGE_PREFIX}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${IMAGE_PREFIX}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${IMAGE_PREFIX}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        axios.put(`https://mas-vino.herokuapp.com/home/services-description`, { descriptionServices: description, imageLinkServices: imageLink })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setForceRefresh(!forceRefresh)\r\n                setServicesPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n\r\n    return (\r\n        <Modal show={servicesPopup} onHide={() => setServicesPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"400px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {\r\n                imageLink ? \r\n                <Row className=\"justify-content-center text-center\">\r\n                    <Col className=\"form-group\">\r\n                    <img style={{height:'110px', width: '160px'}} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                    <Button onClick={() => setImageLink('')} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n                    </Col>\r\n                </Row> :\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok udalosti. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(description && imageLink) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Upravit\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Upravit\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setServicesPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, {useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nexport default ({descriptionsPopup, setDescriptionsPopup, forceRefresh, setForceRefresh, descriptionsText}) => {\r\n    const [description, setDescription] = useState(descriptionsText)\r\n\r\n    const handleSave = () => {\r\n        axios.put(`https://mas-vino.herokuapp.com/home/general-description`, { descriptionGeneral: description })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setForceRefresh(!forceRefresh)\r\n                setDescriptionsPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n\r\n    return (\r\n        <Modal show={descriptionsPopup} onHide={() => setDescriptionsPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"400px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n            <br />\r\n            {description ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Upravit\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Upravit\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setDescriptionsPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","export default {\r\n    MAX_HEIGHT_JUMBO: 320\r\n}","import React, {useState, useEffect} from \"react\";\r\nimport axios from 'axios';\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport ShowItem from '../Shop/ViewShop/ShowItem';\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Carousel from \"react-bootstrap/Carousel\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport UpdateEvents from './UpdateEvents';\r\nimport UpdateServices from './UpdateServices';\r\nimport UpdateDescription from './UpdateDescription';\r\n\r\nimport options from '../../config/options';\r\n\r\nimport { MdEdit,MdMailOutline } from \"react-icons/md\";\r\nimport { BiCodeAlt } from \"react-icons/bi\";\r\nimport { FaFacebookF,FaInstagram } from \"react-icons/fa\";\r\n\r\nconst {MAX_HEIGHT_JUMBO} = options\r\n\r\n//Home.js\r\nexport default ({userId, isOwner}) => {\r\n  const [carouselData, setCarouselData] = useState('')\r\n  const [featuredWines, setFeaturedWines] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [showAddedPopup, setShowAddedPopup] = useState(false)\r\n  const [featuredIds, setFeaturedIds] = useState([])\r\n  const [isIdAvail, setIsIdAvail] = useState(['','','',''])\r\n  const [tempId, setTempId] = useState([])\r\n\r\n  const [eventsData, setEventsData] = useState([])\r\n  const [servicesData, setServicesData] = useState([])\r\n  const [descriptionGeneral, setDescriptionGeneral] = useState('')\r\n\r\n  const [eventsPopup, setEventsPopup] = useState(false)\r\n  const [servicesPopup, setServicesPopup] = useState(false)\r\n  const [descriptionsPopup, setDescriptionsPopup] = useState(false)\r\n\r\n  const [forceRefresh, setForceRefresh] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    axios.get(`https://mas-vino.herokuapp.com/home/`)\r\n      .then(res => {\r\n        const featured = res.data.featuredWines\r\n        const events = [res.data.descriptionEvents, res.data.imageLinkEvents]\r\n        const services = [res.data.descriptionServices, res.data.imageLinkServices]\r\n        const description = res.data.descriptionGeneral\r\n        setEventsData(events)\r\n        setServicesData(services)\r\n        setDescriptionGeneral(description)\r\n        setFeaturedIds(featured)\r\n        setTempId(featured)\r\n        setFeaturedWines([])\r\n        featured.map(item => {\r\n          axios.get(`https://mas-vino.herokuapp.com/shop/find-item-by-id/${item}`)\r\n            .then(res => {\r\n              const response = res.data\r\n              const newObj = {...response[0], shopId: response[1]}\r\n              return setFeaturedWines(prev => [...prev, newObj])\r\n            })\r\n            .catch(err => err && console.log('Error while setting full featured wines, ', err))\r\n        })\r\n      })\r\n      .catch(err => err && console.log('Error while fetching featured wines, ', err))\r\n    axios.get(`https://mas-vino.herokuapp.com/shop/`)\r\n      .then(res => setCarouselData(res.data))\r\n      .catch(err => err && console.log('Error while fetching shops for carousel, ', err))\r\n      .then(() => setLoading(false))  \r\n  }, [forceRefresh])\r\n\r\n  const getImage = (image) => {\r\n    try {\r\n        const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n        return img;\r\n    } catch {\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const ShowEvents = () => {\r\n    return (\r\n      <Row className=\"mt-4 mb-4\">\r\n        <Col className=\"mt-4 mb-4\">\r\n          {eventsData[0]} <br/>\r\n          <Link to=\"/akcie\"><Button variant=\"dark\">Zoznam akcii</Button></Link>\r\n        </Col>\r\n        <Col className=\"mt-4 mb-4\">\r\n          {isOwner &&\r\n            <Button\r\n              onClick={() => setEventsPopup(true)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                zIndex: \"+1\",\r\n                position:'absolute'\r\n              }}\r\n              variant=\"outline-warning\"\r\n            >\r\n              <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n          <img className=\"w-100\" src={getImage(eventsData[1]) ? getImage(eventsData[1]) : eventsData[1]} /> \r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n\r\n  const ShowServices = () => {\r\n    return (\r\n      <Row className=\"mt-4 mb-4 pt-4 pb-4\">\r\n        <Col className=\"mt-4 mb-4\">\r\n          {isOwner &&\r\n            <Button\r\n              onClick={() => setServicesPopup(true)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                zIndex: \"+1\",\r\n                position:'absolute'\r\n              }}\r\n              variant=\"outline-warning\"\r\n            >\r\n              <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n          <img className=\"w-100\" src={getImage(servicesData[1]) ? getImage(servicesData[1]) : servicesData[1]} /> \r\n        </Col>\r\n        <Col className=\"mt-4 mb-4\">\r\n          {servicesData[0]} <br/>\r\n          <Link to=\"/sluzby\"><Button variant=\"dark\">Zoznam sluzieb</Button></Link>\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n\r\n  const ShowGeneral = () => {\r\n    return (\r\n      <Row className=\"text-center mt-4 mb-4\">\r\n        <Col className=\"mt-4 mb-4\">\r\n          {isOwner &&\r\n            <Button\r\n              onClick={() => setDescriptionsPopup(true)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                zIndex: \"+1\",\r\n                position:'absolute'\r\n              }}\r\n              variant=\"outline-warning\"\r\n            >\r\n              <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n          {descriptionGeneral}\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n\r\n  const showCarouselWithData = () => {\r\n    return carouselData.map(shop => {\r\n      const {shopName, owner, url, imageLink} = shop\r\n      const image = getImage(imageLink)\r\n        ? getImage(imageLink)\r\n        : imageLink;\r\n      return (\r\n        <Carousel.Item key={`id-${image}`} style={{maxHeight: MAX_HEIGHT_JUMBO}}>\r\n            <Link to={`/${url}`}>\r\n            <img\r\n              className=\"d-block w-100\"\r\n              src={image}\r\n              alt={`Carousel-${imageLink}`}\r\n            />\r\n            <Carousel.Caption>\r\n              <h3>{shopName}</h3>\r\n              <p>{owner}</p>\r\n            </Carousel.Caption>\r\n          </Link>\r\n        </Carousel.Item>\r\n      )\r\n    })\r\n  }\r\n\r\n  const handleSuccessFeatureChange = () => {\r\n    for (let i = 0; i<featuredIds.length; i++) {\r\n      if (featuredIds[i] !== tempId[i]) {\r\n        setFeaturedIds(tempId)\r\n        axios.post(`https://mas-vino.herokuapp.com/home/featured-wines`, {featuredWines: tempId})\r\n          .then(res => window.location.reload())\r\n          .catch(err => err && console.log(err))\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleFeaturedIds = (e, i) => {\r\n    const newValue = tempId[i]\r\n    let newIdAvail = [...isIdAvail]\r\n    axios.get(`https://mas-vino.herokuapp.com/shop/find-item-by-id/${newValue}`)\r\n      .then(res => {\r\n        if (res.data[0]) {\r\n          newIdAvail[i] = ''\r\n          setIsIdAvail(newIdAvail)\r\n          handleSuccessFeatureChange()\r\n        } else {\r\n          newIdAvail[i] = 'invalid-input'\r\n          setIsIdAvail(newIdAvail)\r\n        }\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  const handleTempId = (e, i) => {\r\n    const newValue = e.target.value\r\n    let newTempIds = [...tempId]\r\n    newTempIds[i] = newValue\r\n    setTempId(newTempIds)\r\n  }\r\n\r\n  const ShowUpdateFeaturedWines = () => {\r\n    return tempId.map((featured, i) => {\r\n      return (\r\n        <Col key={`featuerd-${i}`} sm={6} md={3} className={`text-center mt-1`}>\r\n          <input\r\n            className={`form-control text-center ${isIdAvail[i]}`}\r\n            type=\"text\"\r\n            name={`featured-${i}`}\r\n            value={featured}\r\n            onChange={(e) => handleTempId(e, i)}\r\n            onBlur={(e) => handleFeaturedIds(e, i)}\r\n          />\r\n        </Col>\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    loading ? \r\n    <Spinner\r\n      style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n      animation=\"border\"\r\n    />\r\n    :\r\n    <>\r\n      {showAddedPopup &&\r\n          <Alert style={{position: \"fixed\", zIndex: '9', top:56, right:0}} variant=\"success\" onClose={() => setShowAddedPopup(false)} dismissible>\r\n            <p>Item added to cart!</p>\r\n          </Alert>\r\n      }\r\n      {eventsPopup &&\r\n        <UpdateEvents eventsText={eventsData[0]} eventsImage={eventsData[1]} eventsPopup={eventsPopup} setEventsPopup={setEventsPopup} forceRefresh={forceRefresh} setForceRefresh={setForceRefresh} />\r\n      }\r\n      {servicesPopup &&\r\n        <UpdateServices servicesText={servicesData[0]} servicesImage={servicesData[1]} servicesPopup={servicesPopup} setServicesPopup={setServicesPopup} forceRefresh={forceRefresh} setForceRefresh={setForceRefresh} />\r\n      }\r\n      {descriptionsPopup &&\r\n        <UpdateDescription descriptionsText={descriptionGeneral} descriptionsPopup={descriptionsPopup} setDescriptionsPopup={setDescriptionsPopup} forceRefresh={forceRefresh} setForceRefresh={setForceRefresh} />\r\n      }\r\n      <Carousel indicators={false} style={{maxHeight: MAX_HEIGHT_JUMBO}}>\r\n        {carouselData && showCarouselWithData()}  \r\n      </Carousel>\r\n      <div>\r\n        <Container>\r\n          <ShowGeneral />\r\n        </Container>\r\n      </div>\r\n      <div style={{background: 'rgba(52,58,64, 0.2)'}}>\r\n        <Container className=\"pt-3 pb-3\">\r\n          {isOwner &&\r\n          <Row>\r\n            <ShowUpdateFeaturedWines />\r\n          </Row>}\r\n          <Row className=\"text-center pt-4 pb-4\">\r\n            <ShowItem colXsSettings={6} colMdSettings={3} shopItems={featuredWines} shopId={'home'} userId={userId} setShouldReload={false} shouldReload={false} setShowAddedPopup={setShowAddedPopup} isOwner={false} />\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n      <div>\r\n        <Container>\r\n          <ShowEvents />\r\n        </Container>\r\n      </div>\r\n      <div style={{background: 'rgba(52,58,64, 0.2)'}}>\r\n        <Container>\r\n          <ShowServices />\r\n        </Container>\r\n      </div>\r\n      <div>\r\n        <Container>\r\n          <Row className=\"text-center pt-4 pb-4 mb-4\">\r\n            <Col>\r\n              <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://github.com/mattiass771\" style={{textDecoration: 'none', color: '#333333'}}>\r\n                <BiCodeAlt style={{fontSize: '150%', marginTop: '-2px'}} /> by <strong>MZ</strong>\r\n              </a>\r\n            </Col>\r\n            <Col>\r\n              <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://facebook.com\" style={{textDecoration: 'none', color: '#333333'}}>\r\n                <FaFacebookF style={{fontSize: '130%', marginTop: '-2px', marginRight: '-4px'}} />acebook.com<strong>/masvino</strong>\r\n              </a>\r\n            </Col>\r\n            <Col>\r\n              <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://instagram.com\" style={{textDecoration: 'none', color: '#333333'}}>\r\n                <FaInstagram style={{fontSize: '150%', marginTop: '-2px'}} /><strong>#masvino</strong>\r\n              </a>\r\n            </Col>\r\n            <Col>\r\n              <MdMailOutline style={{fontSize: '150%', marginTop: '-2px'}} /><strong style={{color: '#333333'}}>masvino@mail.com</strong>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport shortid from 'shortid';\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\n// CreateShop.js\r\nexport default ({ userData }) => {\r\n  const [shopName, setShopName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  const owner = userData.fullName;\r\n  const ownerId = userData._id;\r\n\r\n  const handleOpenShop = () => {\r\n    console.log(owner, shopName, ownerId, description, shortid.generate())\r\n    axios\r\n      .post(`https://mas-vino.herokuapp.com/shop/add`, {\r\n        shopName,\r\n        owner,\r\n        ownerId,\r\n        description,\r\n        url: shortid.generate()\r\n      })\r\n      .then((res) => console.log(res.data))\r\n      .catch((err) => err && console.log(`Error catched: ${err}`))\r\n      .then(() => window.location.reload());\r\n  };\r\n\r\n  return (\r\n    <SlideDown className={\"my-dropdown-slidedown\"}>\r\n      <Container>\r\n        <br />\r\n        <Row>\r\n          <Col className=\"text-center\">\r\n            <h1>Create new shop!</h1>\r\n            <p>\r\n              Please fill out the form below and shortly after, your very own shop\r\n              will be generated.\r\n            </p>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"form-group\">\r\n            <label htmlFor=\"shopName\">Name your shop:</label>\r\n            <input\r\n              value={shopName}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"shopName\"\r\n              onChange={(e) => setShopName(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"form-group\">\r\n            <label htmlFor=\"setDescription\">\r\n              Add a brief description to your shop:\r\n            </label>\r\n            <textarea\r\n              value={description}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"setDescription\"\r\n              onChange={(e) => setDescription(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center\">\r\n            <Button variant=\"dark\" onClick={handleOpenShop}>\r\n              Open Shop!\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      <hr />\r\n    </SlideDown>\r\n  );\r\n};\r\n","import React, {useState} from 'react';\r\nimport CreateShop from \"./CreateShop\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Card from \"react-bootstrap/Card\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default ({userData, shopData}) => {\r\n    const [showCreateShop, setShowCreateShop] = useState(false)\r\n    const [isHovered, setIsHovered] = useState(\"\")\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n      };\r\n\r\n    const showShops = () => {\r\n        return shopData.map(shop => {\r\n            const { _id, shopName, description, url, overviewImage } = shop\r\n            const handleMouseOver = () => {\r\n                let hoverObj = {}\r\n                hoverObj[_id] = 'none'\r\n                setIsHovered({...isHovered, ...hoverObj})\r\n            }\r\n            const handleMouseLeave = () => {\r\n                let hoverObj = {}\r\n                hoverObj[_id] = 'block'\r\n                setIsHovered({...isHovered, ...hoverObj})\r\n            }\r\n            return (\r\n                <Col className=\"mt-2 mb-2\" md={4} key={_id} >\r\n                    <Link to={`/${url}`}>\r\n                        <Card className=\"h-100\" onMouseEnter={() => handleMouseOver()} onMouseLeave={() => handleMouseLeave()} style={{ textAlign:\"center\", color: \"whitesmoke\" }} id={_id} >\r\n                            <Card.Img className=\"h-100\" src={getImage(overviewImage) ? getImage(overviewImage) : `https://miro.medium.com/max/295/1*i5iqn7xB-l0kLwsJJBYEWQ.jpeg`} />\r\n                            <Card.ImgOverlay className={`${isHovered[_id] === 'none' ? 'fade-out' : 'fade-in'}`} style={{ background: \"rgba(52,58,64,0.4)\"}} >\r\n                                    <Card.Title>\r\n                                        {shopName}\r\n                                    </Card.Title>\r\n                                    <Card.Text>\r\n                                        {description}\r\n                                    </Card.Text>\r\n                            </Card.ImgOverlay>\r\n                        </Card>\r\n                    </Link>\r\n                </Col>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Row>\r\n                {userData.isOwner && \r\n                <Col className=\"text-center\">\r\n                    {showCreateShop ? \r\n                    <CreateShop userData={userData} /> :\r\n                    <Button style={{marginTop: \"20px\"}} variant=\"dark\" onClick={() => setShowCreateShop(true)}>New Shop</Button>\r\n                    }\r\n                </Col>}\r\n            </Row>\r\n            <Row className=\"mt-4\">\r\n                {showShops()}\r\n            </Row>\r\n        </Container>\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport ShopsOverview from \"./ShopsOverview\";\r\n\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\n//Shop.js\r\nexport default ({ userData }) => {\r\n  const [shopData, setShopData] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/shop/`)\r\n      .then((res) => setShopData(res.data ? res.data : {}))\r\n      .catch((err) => {\r\n        if (err) return console.log(`Fetch error: ${err}`);\r\n      })\r\n      .then(() => setLoading(false));\r\n  }, []); //eslint-disable-line\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <Spinner\r\n          style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n          animation=\"border\"\r\n        />\r\n      ) : <ShopsOverview userData={userData} shopData={shopData} />}\r\n    </>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\n// Login.js\r\nexport default ({shoppingCart = false, handleLogin}) => {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [middleName, setMiddleName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [passwordFirst, setPasswordFirst] = useState(\"\");\r\n  const [passwordSecond, setPasswordSecond] = useState(\"\");\r\n  const [passwordsMatch, setPasswordsMatch] = useState(false);\r\n  const [emailExists, setEmailExists] = useState(null);\r\n  const [phone, setPhone] = useState(\"\")\r\n\r\n  const [street, setStreet] = useState(\"\")\r\n  const [postal, setPostal] = useState(\"\")\r\n  const [city, setCity] = useState(\"\")\r\n\r\n  const handleSignUp = () => {\r\n    const fullName = middleName\r\n      ? firstName + \" \" + middleName + \" \" + lastName\r\n      : firstName + \" \" + lastName;\r\n    const address = `${street},${postal.toString()},${city}`\r\n    console.log(typeof phone, phone, typeof address, address )\r\n    axios\r\n      .post(`https://mas-vino.herokuapp.com/users/add-user`, {\r\n        userName: email,\r\n        password: passwordSecond,\r\n        fullName: fullName,\r\n        email: email,\r\n        phone: phone,\r\n        address: address\r\n      })\r\n      .then((res) => console.log(res.data))\r\n      .catch((err) => err && console.log(`Error: ${err}`))\r\n      .then(() => shoppingCart ? handleLogin() : window.location.reload());\r\n  };\r\n\r\n  const checkIfPasswordMeetsCriteria = () => {\r\n    if (\r\n      passwordFirst.search(/[0-9]/) !== -1 &&\r\n      passwordFirst.search(/[a-z]/) !== -1 &&\r\n      passwordFirst.search(/[A-Z]/) !== -1 &&\r\n      passwordFirst &&\r\n      passwordFirst.length > 7\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  const checkIfEmailInDatabase = () => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/users/email/${email}`)\r\n      .then((res) => setEmailExists(res.data))\r\n      .catch((err) => err && console.log(`Error: ${err}`));\r\n  };\r\n\r\n  const checkIfEmailMeetsCriteria = () => {\r\n    if (\r\n      email &&\r\n      emailExists === null &&\r\n      email.match(/[a-z]+[.]?[a-z]*[@][a-z]+[.][a-z]{1,5}/gi)\r\n    )\r\n      return \"\";\r\n    else if (email && email.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfNameMeetsCriteria = (name) => {\r\n    if (name && name.match(/^[a-z]+$/i)) return \"\";\r\n    else if (name && name.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfCityMeetsCriteria = () => {\r\n    if (city && city.match(/^[a-z]+$/i)) return \"\";\r\n    else if (city && city.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfStreetMeetsCriteria = () => {\r\n    if (street && street.match(/^[a-z ]+[0-9 ]+[/]{0,1}[a-z0-9 ]*$/i)) return \"\";\r\n    else if (street && street.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfPhoneMeetsCriteria = () => {\r\n    if (phone && phone.match(/^[+]?[0-9]{6,14}[0-9]$/)) return \"\";\r\n    else if (phone && phone.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfPostalMeetsCriteria = () => {\r\n    if (postal && postal.match(/^[0-9]{5}$/)) return \"\";\r\n    else if (postal && postal.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (passwordFirst && passwordSecond && passwordFirst === passwordSecond) setPasswordsMatch(true);\r\n    else setPasswordsMatch(false);\r\n  }, [passwordSecond]); //eslint-disable-line\r\n\r\n  return (\r\n    <SlideDown className={\"my-dropdown-slidedown\"}>\r\n      <Container>\r\n        <br />\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <h2>Sign up!</h2>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"firstName\">First Name:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                firstName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"firstName\"\r\n              value={firstName}\r\n              onChange={(e) =>\r\n                setFirstName(\r\n                  e.target.value &&\r\n                    e.target.value[0].toUpperCase() +\r\n                      e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"middleName\">Middle Name (Optional):</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                middleName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"middleName\"\r\n              value={middleName}\r\n              onChange={(e) =>\r\n                setMiddleName(\r\n                  e.target.value &&\r\n                    e.target.value[0].toUpperCase() +\r\n                      e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"lastName\">Last Name:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                lastName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"lastName\"\r\n              value={lastName}\r\n              onChange={(e) =>\r\n                setLastName(\r\n                  e.target.value &&\r\n                  e.target.value[0].toUpperCase() +\r\n                  e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"email\">E-mail:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfEmailMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              onBlur={checkIfEmailInDatabase}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"phone\">Phone:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfPhoneMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"phone\"\r\n              value={phone}\r\n              onChange={(e) => setPhone(e.target.value &&\r\n                (e.target.value).substring(0,16)\r\n                )}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"street\">Street and house no.:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfStreetMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"street\"\r\n              value={street}\r\n              onChange={(e) => setStreet(\r\n                e.target.value &&\r\n                e.target.value[0].toUpperCase() +\r\n                e.target.value.substring(1)\r\n              )}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"postal\">Postal:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfPostalMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"postal\"\r\n              value={postal}\r\n              onChange={(e) => setPostal(e.target.value && (e.target.value).substring(0,5))}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"city\">City:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfCityMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"city\"\r\n              value={city}\r\n              onChange={(e) => setCity(e.target.value)}\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"passwordFirst\">New Password:</label>\r\n            <input\r\n              className={`form-control text-center ${\r\n                !checkIfPasswordMeetsCriteria() && passwordFirst.length > 0\r\n                  ? \"invalid-input\"\r\n                  : \"\"\r\n              }`}\r\n              type=\"password\"\r\n              name=\"passwordFirst\"\r\n              value={passwordFirst}\r\n              onChange={(e) => setPasswordFirst(e.target.value)}\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"passwordSecond\">Repeat Password:</label>\r\n            <input\r\n              className=\"form-control text-center\"\r\n              type=\"password\"\r\n              name=\"passwordSecond\"\r\n              value={passwordSecond}\r\n              onChange={(e) => setPasswordSecond(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        {checkIfPasswordMeetsCriteria() ? null : (\r\n          <Row className=\"justify-content-md-center\">\r\n            <Col md={6} className=\"text-center mt-3\">\r\n              <em style={{ color: \"#7b1818\" }}>\r\n                Password must be at least 8 characters long and must contain one\r\n                lowercase, one uppercase character and one number.\r\n              </em>\r\n            </Col>\r\n          </Row>\r\n        )}\r\n\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-3\">\r\n            {emailExists && (\r\n              <>\r\n                <em style={{ color: \"#7b1818\" }}>\r\n                  This e-mail is already registered in our system!\r\n                </em>\r\n                <br />\r\n                <br />\r\n              </>\r\n            )}\r\n            {checkIfPasswordMeetsCriteria() && !passwordsMatch && (\r\n              <>\r\n                <em style={{ color: \"#7b1818\" }}>Passwords must match!</em>\r\n              </>\r\n            )}\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-3\">\r\n            {checkIfEmailMeetsCriteria() === \"\" &&\r\n            checkIfNameMeetsCriteria(firstName) === \"\" &&\r\n            checkIfNameMeetsCriteria(lastName) === \"\" &&\r\n            checkIfPasswordMeetsCriteria() &&\r\n            checkIfPhoneMeetsCriteria() === \"\" &&\r\n            checkIfStreetMeetsCriteria() === \"\" &&\r\n            checkIfPostalMeetsCriteria() === \"\" &&\r\n            checkIfCityMeetsCriteria() === \"\" &&\r\n            passwordsMatch &&\r\n            emailExists === null ? (\r\n              <Button onClick={handleSignUp} variant=\"dark\">\r\n                Sign up!\r\n              </Button>\r\n            ) : (\r\n              <Button disabled variant=\"dark\">\r\n                Sign up!\r\n              </Button>\r\n            )}\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </SlideDown>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport SignUp from \"./SignUp\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\n// Login.js\r\nexport default ({shoppingCart = false}) => {\r\n  const [signUp, setSignUp] = useState(\"display-none\");\r\n  const [hideButton, setHideButton] = useState(\"\");\r\n\r\n  const showSignUp = () => {\r\n    setSignUp(\"\");\r\n    setHideButton(\"display-none\");\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n        <SlideDown className={\"my-dropdown-slidedown\"}>\r\n        <br />\r\n        <Row>\r\n          <Col className=\"text-center\">\r\n            <h2>Sign in!</h2>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <form action={shoppingCart ? 'https://mas-vino.herokuapp.com/login?shopping=cart' : 'https://mas-vino.herokuapp.com/login'} method=\"post\">\r\n              <input\r\n                className=\"form-control text-center\"\r\n                type=\"text\"\r\n                placeholder=\"username\"\r\n                name=\"username\"\r\n              />\r\n              <br />\r\n              <input\r\n                className=\"form-control text-center\"\r\n                type=\"password\"\r\n                placeholder=\"password\"\r\n                name=\"password\"\r\n              />\r\n              <br />\r\n              <input\r\n                className=\"btn btn-dark\"\r\n                id=\"sub\"\r\n                type=\"submit\"\r\n                value=\"Sign in!\"\r\n              ></input>\r\n            </form>\r\n          </Col>\r\n        </Row>\r\n        <hr />\r\n        {!shoppingCart &&\r\n        <>\r\n          <div className={`${hideButton}`}>\r\n            <Row className={`justify-content-md-center`}>\r\n              <Col md={6} className=\"text-center mt-1\">\r\n                <Button onClick={showSignUp} variant=\"dark\">\r\n                  Hey, I am new here!\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n          <div className={`${signUp}`}>\r\n            <SignUp />\r\n          </div>\r\n        </>}\r\n      </SlideDown>\r\n    </Container>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\"\r\n\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nexport default ({ showAddItems, setShowAddItems, shopData }) => {\r\n  const [itemName, setItemName] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [imageLink, setImageLink] = useState(\"\");\r\n  const [canSaveItem, setCanSaveItem] = useState(false);\r\n  const [maxCount, setMaxCount] = useState('')\r\n  const [color, setColor] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [taste, setTaste] = useState(\"\");\r\n\r\n  const shopId = shopData._id;\r\n\r\n  const resetPropsOnHide = () => {\r\n    setImageLink(\"\")\r\n    setItemName(\"\")\r\n    setPrice(\"\")\r\n    setDescription(\"\")\r\n    setCanSaveItem(false)\r\n    setShowAddItems(false)\r\n  }\r\n\r\n  const getImage = (image) => {\r\n    try {\r\n      const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n      return img;\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleSaveItem = () => {\r\n    if (imageLink && description && price && itemName && color) {\r\n      axios\r\n        .post(`https://mas-vino.herokuapp.com/shop/${shopId}/add-item`, {\r\n          itemName,\r\n          price,\r\n          description,\r\n          imageLink,\r\n          maxCount: maxCount,\r\n          color,\r\n          type,\r\n          taste\r\n        })\r\n        .then(() => setShowAddItems(false))\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n  };\r\n\r\n  const deleteFile = (file) => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/deleteFile/${shopId}`, {\r\n        params: file\r\n      })\r\n      .then(() => \r\n        {return}\r\n      )\r\n      .catch((err) => err && console.log(err));\r\n  };\r\n  useEffect(() => {\r\n    const isAlready = getImage(imageLink) ? getImage(imageLink) : imageLink;\r\n    if (isAlready && imageLink && description && price && itemName && color) {\r\n      setCanSaveItem(true);\r\n    }\r\n  }, [imageLink, description, price, itemName, color]);\r\n\r\n  // specify upload params and url for your files\r\n  const getUploadParams = ({ meta }) => {\r\n    return { url: `https://mas-vino.herokuapp.com/fileUpload/${shopId}` };\r\n  };\r\n\r\n  // called every time a file's `status` changes\r\n  const handleChangeStatus = ({ meta, file }, status) => {\r\n    if (status === \"removed\") {\r\n      deleteFile(meta);\r\n    }\r\n    if (status === \"done\") {\r\n      setImageLink(`${shopId}-${meta.name}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal show={showAddItems} onHide={() => resetPropsOnHide()}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Add an item to your shop.</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"shopName\">Name your item:</label>\r\n            <input\r\n              value={itemName}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"shopName\"\r\n              onChange={(e) => setItemName(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"price\">Price:</label>\r\n            <input\r\n              value={price}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"price\"\r\n              onChange={(e) => setPrice(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"color\">Farba:</label>\r\n            <input\r\n              value={color}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"color\"\r\n              placeholder=\"povinne\"\r\n              onChange={(e) => setColor(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"taste\">Chut:</label>\r\n            <input\r\n              value={taste}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"taste\"\r\n              onChange={(e) => setTaste(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"type\">Druh:</label>\r\n            <input\r\n              value={type}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"type\"\r\n              onChange={(e) => setType(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col>\r\n            <label htmlFor=\"sizes\">Maximalny pocet flias v jednej objednavke:</label>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col className=\"form-group\">\r\n          <InputGroup>\r\n              <input\r\n                value={maxCount}\r\n                className=\"form-control\"\r\n                type=\"number\"\r\n                name=\"sizes\"\r\n                onChange={(e) => setMaxCount(e.target.value)}\r\n                placeholder=\"Nechaj prazdne ak nieje hranica\"\r\n              />\r\n            </InputGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"description\">Description:</label>\r\n            <textarea\r\n              maxLength=\"230\"\r\n              value={description}\r\n              className=\"form-control\"\r\n              name=\"description\"\r\n              type=\"text\"\r\n              style={{ resize: \"none\", minHeight: \"100px\" }}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <br />\r\n        <SlideDown className={\"my-dropdown-slidedown\"}>\r\n        <Row>\r\n          <Col>\r\n            <Dropzone\r\n              maxFiles={1}\r\n              multiple={false}\r\n              canCancel={false}\r\n              getUploadParams={getUploadParams}\r\n              onChangeStatus={handleChangeStatus}\r\n              accept=\"image/*\"\r\n              inputContent={() => (\r\n                <p\r\n                  className=\"text-center\"\r\n                  key=\"label\"\r\n                  style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                >\r\n                  Drop or click to choose image.\r\n                  <br />\r\n                  <BsUpload />\r\n                </p>\r\n              )}\r\n              classNames={{\r\n                dropzone: \"dropzoning\"\r\n              }}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </SlideDown>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        {canSaveItem ? (\r\n          <Button variant=\"dark\" onClick={handleSaveItem}>\r\n            Save Item\r\n          </Button>\r\n        ) : (\r\n          <Button disabled variant=\"dark\">\r\n            Save Item\r\n          </Button>\r\n        )}\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Alert from \"react-bootstrap/Alert\"\r\n\r\nimport axios from \"axios\";\r\n\r\nimport AddItems from \"./AddItems\";\r\n\r\nimport { FiPlusSquare } from \"react-icons/fi\";\r\n\r\nimport ShowItem from './ShowItem'\r\n\r\nexport default ({ shopData, isOwner, userId }) => {\r\n  const [showAddItems, setShowAddItems] = useState(false);\r\n  const [shopItems, setShopItems] = useState(shopData.shopItems);\r\n  const [shouldReload, setShouldReload] = useState(false);\r\n  const [showAddedPopup, setShowAddedPopup] = useState(false)\r\n\r\n  const shopId = shopData._id\r\n\r\n  useEffect(() => {\r\n    if (!showAddItems) {\r\n      setShouldReload(!shouldReload);\r\n    }\r\n  }, [showAddItems]); //eslint-disable-line\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/shop/${shopId}`)\r\n      .then((res) => setShopItems(res.data.shopItems))\r\n      .catch((err) => err && console.log(err.data))\r\n      .then(() => {\r\n        return;\r\n      });\r\n  }, [shouldReload]); //eslint-disable-line\r\n\r\n  return (\r\n    <Container className=\"text-center\">\r\n      {showAddedPopup &&\r\n        <Alert style={{position: \"fixed\", top:56, right:0}} variant=\"success\" onClose={() => setShowAddedPopup(false)} dismissible>\r\n          <p>Item added to cart!</p>\r\n        </Alert>\r\n      }\r\n      {isOwner &&\r\n        <AddItems\r\n          shopData={shopData}\r\n          showAddItems={showAddItems}\r\n          setShowAddItems={setShowAddItems}\r\n        />}\r\n      <Row>\r\n        <ShowItem \r\n          shopItems={shopItems} \r\n          userId={userId} \r\n          shopId={shopId} \r\n          setShouldReload={setShouldReload}\r\n          shouldReload={shouldReload}\r\n          setShowAddedPopup={setShowAddedPopup}\r\n          isOwner={isOwner}\r\n          />\r\n        {isOwner && \r\n        <Col className=\"mt-2 mb-2\" md={6} lg={4} xl={3}>\r\n          <Card style={{height: '400px'}}>\r\n            <Button\r\n              variant=\"outline-dark\"\r\n              style={{ border: '0px', height: '100%'}}\r\n              onClick={() => setShowAddItems(true)}\r\n            >\r\n              <FiPlusSquare\r\n                style={{\r\n                  margin: \"0 auto\",\r\n                  fontSize: \"400%\"\r\n                }}\r\n              />\r\n            </Button>\r\n          </Card>\r\n        </Col>}\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\"\r\nimport Button from \"react-bootstrap/Button\"\r\nimport Alert from \"react-bootstrap/Alert\"\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\n\r\nimport { BsUpload } from \"react-icons/bs\";\r\nimport { MdDelete } from \"react-icons/md\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport options from '../../../config/options';\r\nconst {MAX_HEIGHT_JUMBO} = options\r\n\r\n// CreateShop.js\r\nexport default ({ shopData, isOwner }) => {\r\n  let history = useHistory();\r\n  const url = shopData.url;\r\n  const [currentUrl, setCurrentUrl] = useState(url)\r\n  const [newUrl, setNewUrl] = useState(url)\r\n  const [isUrlAvailible, setIsUrlAvailible] = useState(true)\r\n  const [editMode, setEditMode] = useState(false)\r\n  const [shopName, setShopName] = useState(shopData.shopName)\r\n  const [error, setError] = useState('')\r\n  const [description, setDescription] = useState(shopData.description)\r\n  const [owner, setOwner] = useState(shopData.owner)\r\n  const [imageLink, setImageLink] = useState('');\r\n  const [overviewImage, setOverviewImage] = useState('');\r\n  const [showImageFromDb, setShowImageFromDb] = useState(shopData.imageLink ? shopData.imageLink : '')\r\n  const [localUploadingTitle, setLocalUploadingTitle] = useState(false)\r\n  const [localUploadingOverview, setLocalUploadingOverview] = useState(false)\r\n\r\n  const getImage = (image) => {\r\n    try {\r\n      const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n      return img;\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // specify upload params and url for your files\r\n  const getUploadParams = ({ meta }) => {\r\n    return { url: `https://mas-vino.herokuapp.com/fileUpload/${shopData._id}` };\r\n  };\r\n\r\n  const deleteFile = (file) => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/deleteFile/${shopData._id}`, {\r\n        params: file\r\n      })\r\n      .then(() => \r\n        {return}\r\n      )\r\n      .catch((err) => err && console.log(err));\r\n  };\r\n\r\n  // called every time a file's `status` changes\r\n  const handleChangeStatus = ({ meta, file }, status) => {\r\n    if (status === \"removed\") {\r\n      deleteFile(meta);\r\n    }\r\n    if (status === \"done\") {\r\n      if (localUploadingTitle) {\r\n        setImageLink(`${shopData._id}-${meta.name.replace(/_/g,'-')}`);\r\n      } else if (localUploadingOverview) {\r\n        setOverviewImage(`${shopData._id}-${meta.name.replace(/_/g,'-')}`);\r\n      }\r\n    }\r\n  };\r\n\r\n  const deleteCard = (e) => {\r\n    axios\r\n        .delete(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}`\r\n        )\r\n        .then(() => history.push(`/vinarne`))\r\n        .catch((err) => err && console.log(`Error ${err}`));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (imageLink) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/imageLink/${imageLink}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    } \r\n  }, [imageLink])\r\n\r\n  useEffect(() => {\r\n    if (overviewImage) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/overviewImage/${overviewImage}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    } \r\n  }, [overviewImage])\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/shop/link/${currentUrl}`)\r\n      .then((res) => {\r\n        if (res.data && currentUrl !== newUrl) setIsUrlAvailible(false)\r\n        else setIsUrlAvailible(true)\r\n      })\r\n      .catch((err) => err && console.log(err))\r\n  }, [currentUrl])\r\n\r\n  const handleError = (error) => {\r\n    console.log('Error connecting to the database: ', error)\r\n    setError('Chyba pri aktualizacii dat, data neboli upravene v databaze.')\r\n    return setTimeout(() => setError(''), 5000)\r\n  }\r\n\r\n  const handleUrlChange = () => {\r\n    if (isUrlAvailible) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/url/${currentUrl}`\r\n      )\r\n      .then((res) => {\r\n        return setNewUrl(currentUrl);\r\n      })\r\n      .catch((err) => err && handleError(err))\r\n      .then(() => history.push(`/${currentUrl}`))\r\n    }\r\n  }\r\n\r\n  const handleShopNameChange = () => {\r\n    if (shopName) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/shopName/${shopName}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    }\r\n  }\r\n\r\n  const handleDescriptionChange = () => {\r\n    if (description) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/description/${description}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    }\r\n  }\r\n\r\n  const handleOwnerChange = () => {\r\n    if (owner) {\r\n      axios\r\n      .put(\r\n        `https://mas-vino.herokuapp.com/shop/${shopData._id}/update-shop/owner/${owner}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    }\r\n  }\r\n\r\n  const handleLocalUploadingOverview = () => {\r\n    setLocalUploadingTitle(false)\r\n    setLocalUploadingOverview(true)\r\n  }\r\n\r\n  const handleLocalUploadingTitle = () => {\r\n    setLocalUploadingOverview(false)\r\n    setLocalUploadingTitle(true)\r\n  }\r\n\r\n  return (\r\n    <Jumbotron style={{background: `url(${getImage(showImageFromDb) ? getImage(showImageFromDb) : ''}) no-repeat`, backgroundSize: 'cover' }} fluid>\r\n      <Container className=\"text-center\">\r\n      {!editMode ?\r\n        <Row>\r\n          <Col>\r\n            <h2>{shopName}</h2>\r\n            <p>{description}</p>\r\n            <p>{owner}</p>\r\n            <p><a className=\"link-no-deco\" href={`https://mas-vino.herokuapp.com/${currentUrl}`}>https://mas-vino.herokuapp.com/{currentUrl}</a></p>\r\n          </Col>\r\n        </Row>\r\n        :\r\n        <>\r\n          <Row className=\"justify-content-center\">\r\n            <Button\r\n              onClick={(e) => deleteCard(e)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                zIndex: \"+5\"\r\n              }}\r\n              variant=\"outline-danger\"\r\n            >\r\n              <MdDelete style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>\r\n            <Col xs={8}>\r\n              <input \r\n                className={'form-control text-center'}\r\n                value={shopName} \r\n                onChange={(e) => setShopName(e.target.value)} \r\n                onBlur={handleShopNameChange}\r\n                name=\"shopName\"\r\n                placeholder=\"Nazov\"\r\n              />\r\n              <textarea \r\n                style={{minHeight: '100px'}}\r\n                className={'form-control text-center'}\r\n                value={description} \r\n                onChange={(e) => setDescription(e.target.value)} \r\n                onBlur={handleDescriptionChange}\r\n                name=\"description\"\r\n                placeholder=\"Popis\"\r\n              />\r\n              <input \r\n                className={'form-control text-center'}\r\n                value={owner} \r\n                onChange={(e) => setOwner(e.target.value)} \r\n                onBlur={handleOwnerChange}\r\n                name=\"owner\"\r\n                placeholder=\"Majitel\"\r\n              />\r\n              <div>\r\n                <InputGroup>\r\n              <p style={{marginRight: 10, marginTop: 5}}>www.vimko.sk/</p>\r\n                  <input \r\n                    className={isUrlAvailible ? 'form-control text-center' : 'text-center form-control invalid-input'}\r\n                    value={currentUrl} \r\n                    onChange={(e) => setCurrentUrl(e.target.value)} \r\n                    name=\"currentUrl\"\r\n                    onBlur={handleUrlChange}\r\n                  />\r\n                </InputGroup>\r\n                {!isUrlAvailible && <p style={{color: \"red\"}}>Adresa uz existuje, vyberte prosim inu.</p>}\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"justify-content-md-center\">\r\n            <Col className=\"text-center\">\r\n              <Button variant=\"dark\" onClick={() => handleLocalUploadingTitle()}>Upload title image</Button>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;\r\n              <Button variant=\"dark\" onClick={() => handleLocalUploadingOverview()}>Upload overview image</Button>\r\n            </Col>\r\n          </Row>\r\n        </>\r\n        }\r\n        {((localUploadingTitle || localUploadingOverview) && editMode) ? \r\n        <SlideDown className={\"my-dropdown-slidedown\"}>\r\n        <Row>\r\n          <Col>\r\n            <Dropzone\r\n              maxFiles={1}\r\n              multiple={false}\r\n              canCancel={false}\r\n              getUploadParams={getUploadParams}\r\n              onChangeStatus={handleChangeStatus}\r\n              accept=\"image/*\"\r\n              inputContent={() => (\r\n                <p\r\n                  className=\"text-center\"\r\n                  key=\"label\"\r\n                  style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                >\r\n                  Drop or click to choose {localUploadingTitle ? 'title' : 'overview'} image.\r\n                  <br />\r\n                  <BsUpload />\r\n                </p>\r\n              )}\r\n              classNames={{\r\n                dropzone: \"dropzoning\"\r\n              }}\r\n            />\r\n          </Col>\r\n        </Row></SlideDown> : null\r\n        }\r\n        {isOwner &&\r\n        <Row className=\"mt-4\">\r\n          <Col>\r\n            <Alert style={{display: `${error ? 'block' : 'none'}`}} variant=\"danger\">{error}</Alert>\r\n            {isUrlAvailible ? \r\n            <Button onClick={() => setEditMode(editMode ? false : true)} variant=\"dark\">{editMode ? 'Hotovo' : 'Upravit'}</Button> :\r\n            <Button disabled onClick={() => setEditMode(editMode ? false : true)} variant=\"dark\">{editMode ? 'Hotovo' : 'Upravit'}</Button>}\r\n          </Col>\r\n        </Row>}\r\n      </Container>\r\n    </Jumbotron>\r\n  );\r\n};","import React from \"react\";\r\n\r\nimport ShopItems from \"./ViewShop/ShopItems\";\r\nimport ShopJumbotron from \"./ViewShop/ShopJumbotron\";\r\n\r\n// CreateShop.js\r\nexport default ({ shopData, isOwner, userId }) => {\r\n  return (\r\n    <>\r\n      <ShopJumbotron shopData={shopData} isOwner={isOwner} />\r\n      <ShopItems shopData={shopData} isOwner={isOwner} userId={userId} />\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\"\r\n\r\nimport ViewShop from \"../ViewShop\"\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\nexport default ({userId, isOwner}) => {\r\n    const {shopUrl} = useParams()\r\n    const [isUrlAvailible, setIsUrlAvailible] = useState(true)\r\n    const [shopData, setShopData] = useState({})\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        axios.get(`https://mas-vino.herokuapp.com/shop/link/${shopUrl}`)\r\n            .then((res) => res.data ? setShopData(res.data) : setShopData({}))\r\n            .catch((err) => err && console.log(err))\r\n            .then(() => {\r\n                if (shopData._id) setIsUrlAvailible(false)\r\n                setLoading(false)\r\n            })\r\n    }, [])\r\n\r\n    return (\r\n        loading ? \r\n        <Spinner\r\n          style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n          animation=\"border\"\r\n        /> :\r\n        isUrlAvailible && shopData._id ? \r\n        <ViewShop shopData={shopData} isOwner={isOwner} userId={userId} /> :\r\n        <h5 style={{ marginTop: \"20%\" }} className=\"text-center\">No shop found. The url https://mas-vino.herokuapp.com/{shopUrl} is still available.</h5>\r\n        \r\n    )\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\n// Login.js\r\nexport default ({setUserInformation}) => {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [middleName, setMiddleName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\")\r\n\r\n  const [street, setStreet] = useState(\"\")\r\n  const [postal, setPostal] = useState(\"\")\r\n  const [city, setCity] = useState(\"\")\r\n\r\n  const handleSignUp = () => {\r\n    const fullName = middleName\r\n      ? firstName + \" \" + middleName + \" \" + lastName\r\n      : firstName + \" \" + lastName;\r\n    const address = `${street},${postal.toString()},${city}`\r\n    return setUserInformation({ fullName, email, phone, address })\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log('check')\r\n    if (\r\n      checkIfEmailMeetsCriteria() === \"\" &&\r\n      checkIfNameMeetsCriteria(firstName) === \"\" &&\r\n      checkIfNameMeetsCriteria(lastName) === \"\" &&\r\n      checkIfPhoneMeetsCriteria() === \"\" &&\r\n      checkIfStreetMeetsCriteria() === \"\" &&\r\n      checkIfPostalMeetsCriteria() === \"\" &&\r\n      checkIfCityMeetsCriteria() === \"\"\r\n    ) {\r\n      handleSignUp()\r\n    } else {\r\n      setUserInformation('')\r\n    }\r\n  }, [firstName, lastName, email, street, city, postal, phone])\r\n\r\n  const checkIfEmailMeetsCriteria = () => {\r\n    if (\r\n      email &&\r\n      email.match(/[a-z]+[.]?[a-z]*[@][a-z]+[.][a-z]{1,5}/gi)\r\n    )\r\n      return \"\";\r\n    else if (email && email.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfNameMeetsCriteria = (name) => {\r\n    if (name && name.match(/^[a-z]+$/i)) return \"\";\r\n    else if (name && name.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfCityMeetsCriteria = () => {\r\n    if (city && city.match(/^[a-z]+$/i)) return \"\";\r\n    else if (city && city.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfStreetMeetsCriteria = () => {\r\n    if (street && street.match(/^[a-z ]+[0-9 ]+[/]{0,1}[a-z0-9 ]*$/i)) return \"\";\r\n    else if (street && street.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfPhoneMeetsCriteria = () => {\r\n    if (phone && phone.match(/^[+]?[0-9]{6,14}[0-9]$/)) return \"\";\r\n    else if (phone && phone.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfPostalMeetsCriteria = () => {\r\n    if (postal && postal.match(/^[0-9]{5}$/)) return \"\";\r\n    else if (postal && postal.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  return (\r\n    <SlideDown className={\"my-dropdown-slidedown\"}>\r\n      <Container>\r\n        <br />\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"firstName\">First Name:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                firstName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"firstName\"\r\n              value={firstName}\r\n              onChange={(e) =>\r\n                setFirstName(\r\n                  e.target.value &&\r\n                    e.target.value[0].toUpperCase() +\r\n                      e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"middleName\">Middle Name (Optional):</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                middleName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"middleName\"\r\n              value={middleName}\r\n              onChange={(e) =>\r\n                setMiddleName(\r\n                  e.target.value &&\r\n                    e.target.value[0].toUpperCase() +\r\n                      e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"lastName\">Last Name:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                lastName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"lastName\"\r\n              value={lastName}\r\n              onChange={(e) =>\r\n                setLastName(\r\n                  e.target.value &&\r\n                  e.target.value[0].toUpperCase() +\r\n                  e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"email\">E-mail:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfEmailMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"phone\">Phone:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfPhoneMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"phone\"\r\n              value={phone}\r\n              onChange={(e) => setPhone(e.target.value &&\r\n                (e.target.value).substring(0,16)\r\n                )}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"street\">Street and house no.:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfStreetMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"street\"\r\n              value={street}\r\n              onChange={(e) => setStreet(\r\n                e.target.value &&\r\n                e.target.value[0].toUpperCase() +\r\n                e.target.value.substring(1)\r\n              )}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"postal\">Postal:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfPostalMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"postal\"\r\n              value={postal}\r\n              onChange={(e) => setPostal(e.target.value && (e.target.value).substring(0,5))}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"city\">City:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfCityMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"city\"\r\n              value={city}\r\n              onChange={(e) => setCity(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-3\">\r\n            \r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </SlideDown>\r\n  );\r\n};\r\n","import React, { useEffect, useState, useRef } from \"react\"\r\nimport axios from 'axios'\r\nimport { nanoid } from 'nanoid'\r\n\r\nimport Row from 'react-bootstrap/Row'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Image from 'react-bootstrap/Image'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\nimport PlaceOrder from './PlaceOrder'\r\nimport SignUp from '../Login/SignUp'\r\nimport Login from '../Login/Login'\r\nimport PayGate from './PayGate'\r\n\r\nexport default ({userId}) => {\r\n    const lastRef = useRef(null)\r\n    const [shops, setShops] = useState('')\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [userInformation, setUserInformation] = useState('')\r\n    const [login, setLogin] = useState(false)\r\n    const [registration, setRegistration] = useState(false)\r\n    const [shipmentOnly, setShipmentOnly] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n    const [orderId, setOrderId] = useState(nanoid())\r\n    const [passOrderInfo, setPassOrderInfo] = useState({})\r\n    const [paymentPopup, setPaymentPopup] = useState(false)\r\n\r\n    const executeScroll = () => lastRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' })   \r\n \r\n    const sortItems = (cartItems) => {\r\n        let sortShop = []\r\n        for (let cartItem of cartItems) {\r\n            axios.get(`https://mas-vino.herokuapp.com/shop/${cartItem.shopId}`)\r\n                .then((res) => {\r\n                    if (res.data && res.data.shopName) {\r\n                        const { shopName, owner } = res.data\r\n                        const itemsArr = res.data.shopItems\r\n                        const { count, itemId } = cartItem\r\n                        const findItem = itemsArr.find(el => el._id === cartItem.itemId)\r\n                        if (findItem === undefined) {\r\n                            axios.post(`https://mas-vino.herokuapp.com/users/${userId}/cart/delete-cart-item/${cartItem.shopId}/${cartItem.itemId}`)\r\n                                .then((res) => console.log(res))\r\n                                .catch(err => err && console.log('could not delete item', err))\r\n                        } else {\r\n                            const { itemName, price, imageLink } = findItem\r\n                            const index = sortShop.findIndex(el => el.shopId === cartItem.shopId)\r\n                            if (index >= 0) {\r\n                                const prevItems = sortShop[index].itemData\r\n                                const isInCart = prevItems.findIndex(el => el.itemId === itemId)\r\n                                if (isInCart !== -1) {\r\n                                    const prevCount = sortShop[index].itemData[isInCart].count\r\n                                    sortShop[index].itemData[isInCart].count = Number(count) + Number(prevCount)\r\n                                } else {\r\n                                    sortShop[index].itemData = [...prevItems, {itemId, itemName, price, imageLink, count}]\r\n                                }\r\n                            } else {\r\n                                const newShopId = cartItem.shopId\r\n                                sortShop = [...sortShop, {shopId: newShopId, shopName, owner, itemData: [{itemId, itemName, price, imageLink, count}]}]\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    if (err) return console.log(err)\r\n                })\r\n                .then(() => setShops([...sortShop]))\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setLoading(true)\r\n        const localShoppingCart = localStorage.getItem('shoppingCart')\r\n        if (userId) {\r\n            const parsedShoppingCart = localShoppingCart ? JSON.parse(localShoppingCart) : []\r\n            if (parsedShoppingCart.length !== 0) {\r\n                const addItemsToShoppingCartFromLocal = async () => {\r\n                    for (let cartItem of parsedShoppingCart) {\r\n                        const {shopId, itemId, count} = cartItem\r\n                        console.log('importing item ', itemId)\r\n                        await axios\r\n                            .post(`https://mas-vino.herokuapp.com/users/${userId}/cart/add-cart-item/${shopId}/${itemId}`, {\r\n                                shopId, itemId, count\r\n                            })\r\n                            .then((res) => console.log(res))\r\n                            .catch(err => err && console.log(err))\r\n                    }\r\n                    localStorage.removeItem('shoppingCart')\r\n                    console.log('Importing done.')\r\n                }\r\n                addItemsToShoppingCartFromLocal()\r\n            }\r\n            axios\r\n                .get(`https://mas-vino.herokuapp.com/users/${userId}`)\r\n                .then((res) => {\r\n                    if (res.data) {\r\n                        const {shoppingCart, fullName, email, phone, address} = res.data\r\n                        sortItems([...shoppingCart, ...parsedShoppingCart])\r\n                        setUserInformation({ fullName, email, phone, address })\r\n                    }\r\n                })\r\n                .catch(err => err && console.log(err))\r\n        } else {\r\n            const localShoppingCart = localStorage.getItem('shoppingCart')\r\n            localShoppingCart && sortItems(JSON.parse(localShoppingCart))\r\n        }\r\n        setLoading(false)\r\n    }, [refresh])\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    const removeItemFromCart = (e, itemId, shopId) => {\r\n        if (userId) {\r\n            axios.post(`https://mas-vino.herokuapp.com/users/${userId}/cart/delete-cart-item/${shopId}/${itemId}`)\r\n                .then((res) => console.log(res))\r\n                .catch(err => err && console.log('could not delete item', err))\r\n                .then(() => setRefresh(!refresh)) \r\n            if (shops.length === 1) setShops('')\r\n        } else {\r\n            const localShoppingCart = JSON.parse(localStorage.getItem('shoppingCart'))\r\n            const newLocalShoppingCart = localShoppingCart.filter(item => item.itemId !== itemId)\r\n            localStorage.removeItem('shoppingCart')\r\n            console.log(newLocalShoppingCart, shops)\r\n            if (newLocalShoppingCart.length !== 0) {\r\n                localStorage.setItem('shoppingCart', JSON.stringify(newLocalShoppingCart))\r\n            } else {\r\n                setShops('')\r\n            }\r\n            setRefresh(!refresh)\r\n        }\r\n    }\r\n\r\n    const showItemData = (itemData, shopId) => {\r\n        const outputData = itemData.map((item, i) => {\r\n            return (\r\n                <Col data-id={`${item.itemId}`} md={3} xs={6} lg={2} key={`${item.itemId}`} style={{textAlign: \"center\"}}>\r\n                    <Image src={getImage(item.imageLink) ? getImage(item.imageLink) : ''} rounded style={{height:75}} />\r\n                    <h6>{item.itemName}</h6>\r\n                    <p>\r\n                    Count: {item.count}<br />\r\n                    {item.price} </p>\r\n                    <Button style={{position: 'absolute', right: \"20%\", top: 0}} onClick={(e) => removeItemFromCart(e, item.itemId, shopId)} variant=\"danger\" size=\"sm\">X</Button>\r\n                </Col>\r\n            )\r\n        })\r\n        return outputData\r\n    }\r\n\r\n    const getTotalPrice = (itemData) => {\r\n        let total = 0\r\n        for (let item of itemData) {\r\n            total += Number((item.price).replace(/,/g,\".\"))*item.count\r\n        }\r\n        return total\r\n    }\r\n\r\n    const showCartItems = () => {\r\n        return shops.sort().map(shop => {\r\n            return (\r\n                <Row key={shop.shopId} style={{marginBottom: \"15px\"}}>\r\n                    <Col style={{marginBottom: \"50px\"}} xs={12}>\r\n                        <hr />\r\n                        <div style={{display: \"flex\", justifyContent:\"space-between\"}}>\r\n                            <div>\r\n                                <h4>{shop.shopName}</h4>\r\n                            </div>\r\n                            <div className=\"text-right\">\r\n                                <h5>Suma: {(getTotalPrice(shop.itemData)).toFixed(2).toString().replace(/\\./g,',')} </h5>\r\n                            </div>\r\n                        </div>\r\n                    </Col>\r\n                    {showItemData(shop.itemData, shop.shopId)}\r\n                </Row>\r\n            )\r\n        })\r\n    }\r\n\r\n    const createNewOrder = () => {\r\n        let result = 0\r\n        shops.map(shop => (shop.itemData).map(item => result += (Number((item.price).replace(/,/g,\".\"))*item.count)))\r\n        console.log(shops, userId, result, nanoid(), userInformation)\r\n        const total = result\r\n        const status = 'vytvorena'\r\n        setPassOrderInfo({ orderId, userInformation, userId, shops, total, status })\r\n        setPaymentPopup(true)\r\n        axios.post(`https://mas-vino.herokuapp.com/orders/add`, { orderId, userInformation, userId, shops, total, status })\r\n            .then(res => {\r\n                return\r\n            })\r\n            .catch(err => err && console.log(err))\r\n    }\r\n\r\n    const handleRegistration = () => {\r\n        setTimeout(() => executeScroll(),500)\r\n        setLogin(false)\r\n        setShipmentOnly(false)\r\n        setRegistration(true)\r\n    }\r\n\r\n    const handleShipmentOnly = () => {\r\n        setTimeout(() => executeScroll(),500)\r\n        setLogin(false)\r\n        setRegistration(false)\r\n        setShipmentOnly(true)\r\n    }\r\n\r\n    const handleLogin = () => {\r\n        setTimeout(() => executeScroll(),500)\r\n        setRegistration(false)\r\n        setShipmentOnly(false)\r\n        setLogin(true)\r\n    }\r\n\r\n\r\n    const showTotalCartPrice = () => {\r\n        let result = 0\r\n        shops.map(shop => (shop.itemData).map(item => result += (Number((item.price).replace(/,/g,\".\"))*item.count)))\r\n        return (\r\n            <Col>\r\n                <h3>Finalna suma: {result.toFixed(2).toString().replace(/\\./g,',')} </h3>\r\n            </Col>\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n        return console.log(userInformation)\r\n    }, [userInformation])\r\n\r\n    return (\r\n        <Container style={{paddingTop: \"50px\"}}>\r\n            { passOrderInfo && paymentPopup &&\r\n                <PayGate orderInfo={passOrderInfo} setPaymentPopup={setPaymentPopup} paymentPopup={paymentPopup} />\r\n            }\r\n            {loading ? \r\n                <Spinner\r\n                    style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n                    animation=\"border\"\r\n                /> : \r\n            (shops && showCartItems())}\r\n            <Row className=\"text-center\">\r\n                <Col>\r\n                    {(!userInformation && shops ) &&\r\n                        <p>\r\n                            <Button onClick={() => handleRegistration()} variant=\"dark\">Dorucovacie udaje s registraciou</Button>\r\n                            &nbsp;&nbsp;\r\n                            <Button onClick={() => handleLogin()} variant=\"dark\">Mam ucet a chcem sa prihlasit</Button>\r\n                            &nbsp;&nbsp;\r\n                            <Button onClick={() => handleShipmentOnly()} variant=\"dark\">Dorucovacie udaje bez registracie</Button>\r\n                        </p>\r\n                    }\r\n                </Col>\r\n            </Row>\r\n            <Row className=\"text-center\">\r\n                {login && <Login shoppingCart={true} />}\r\n                {registration && <SignUp shoppingCart={true} handleLogin={handleLogin} />}\r\n                {shipmentOnly && <PlaceOrder setUserInformation={setUserInformation} />}\r\n            </Row>\r\n            <Row className=\"text-center\">\r\n                <br />\r\n                <br />\r\n                {shops && showTotalCartPrice()}\r\n            </Row>\r\n            <Row className=\"text-center\">\r\n                <Col>\r\n                    {userInformation && shops ?\r\n                        <Button ref={lastRef} onClick={() => createNewOrder()} variant=\"dark\">Prejst k platbe</Button>\r\n                    :\r\n                    <>  \r\n                        {!shops && \r\n                            <>\r\n                                <h4>Nakupny kosik je momentalne prazdny.</h4>\r\n                                <br />\r\n                                <br />\r\n                            </>\r\n                        }\r\n                        <Button disabled variant=\"dark\">Prejst k platbe</Button>\r\n                    </>\r\n                }\r\n                </Col>\r\n            </Row>\r\n            <br />\r\n            <div ref={lastRef}></div>\r\n        </Container>\r\n    )\r\n}","import React, {useEffect, useState} from 'react';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\n\r\nimport Table from 'react-bootstrap/Table'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\n\r\nexport default ({userId, isOwner}) => {\r\n    const [ordersData, setOrdersData] = useState([])\r\n    const [shippedObj, setShippedObj] = useState({})\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [expandedObj, setExpandedObj] = useState({})\r\n\r\n    // TODO: pridat moznost znovu zaplatit pri rejected order\r\n\r\n    useEffect(() => {\r\n        axios.get(`https://mas-vino.herokuapp.com/orders`)\r\n            .then(res => {\r\n                const result = res.data\r\n                const validatedOrdersData = isOwner ? result : result.filter(obj => obj.userId === userId)\r\n                setOrdersData(validatedOrdersData)\r\n            })\r\n            .catch(err => err && console.log(err.data))\r\n    }, [])\r\n\r\n    const handleShipping = (e, _id) => {\r\n        e.stopPropagation()\r\n        const newVal = e.target.checked\r\n        let newObj = {}\r\n        let expandObj = {}\r\n\r\n        newObj[_id] = newVal\r\n        setShippedObj({...shippedObj, ...newObj})\r\n\r\n        const oldValue = expandedObj[_id] ?? false\r\n        expandObj[_id] = oldValue\r\n        setExpandedObj({...expandedObj, ...expandObj})\r\n\r\n        axios.put(`https://mas-vino.herokuapp.com/orders/${_id}/update-shipped/`, {isShipped: newVal})\r\n            .then(res => console.log(res.data))\r\n            .catch(err => err && console.log(err))\r\n            .then(() => setRefresh(!refresh))\r\n    }\r\n\r\n    const handleExpanded = (_id) => {\r\n        let newObj = {}\r\n        const oldValue = expandedObj[_id] ?? false\r\n        newObj[_id] = !oldValue\r\n        setExpandedObj({...expandedObj, ...newObj})\r\n    }\r\n\r\n    const ShowItemDataForOrder = ({passItemData}) => {\r\n        let shopTotal = 0\r\n        return passItemData.map((item, i) => {\r\n            const { itemName, price, count, itemId } = item\r\n            shopTotal += (count * Number(price.replace(/,/g, '.')))\r\n            return (\r\n                <React.Fragment key={itemId}>\r\n                    <Col style={{border: '1px solid #cccccc'}} md={3}>\r\n                        ({count}) <strong>{itemName}</strong>, {price}\r\n                    </Col>\r\n                    {!passItemData[i+1] && \r\n                        <Col className=\"text-center\" style={{border: '1px solid #cccccc', backgroundColor: \"rgb(245, 245, 245)\"}} md={2} order={12}>\r\n                            <h6 >spolu: <strong>{shopTotal.toFixed(2).toString().replace(/\\./g, ',')} </strong></h6>\r\n                        </Col>\r\n                    }\r\n                </React.Fragment>\r\n            )\r\n        })\r\n    }\r\n\r\n\r\n    const ShowOrderDetails = ({passShops}) => {\r\n        return passShops.map((shop, i) => {\r\n            const { shopName, itemData, shopId } = shop\r\n            return (\r\n                <Container key={shopId} fluid>\r\n                    <Row>\r\n                        <Col md={2}><h5>{shopName}:</h5></Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <ShowItemDataForOrder passItemData={itemData} />\r\n                    </Row>\r\n                    {passShops[i+1] && \r\n                    <hr />}\r\n                </Container>\r\n            )\r\n        })\r\n    }\r\n\r\n    const ShowBuyerDetails = ({passUserInformation, buyerId}) => {\r\n        const { fullName, email, phone, address, iban } = passUserInformation\r\n        return (\r\n            <div className=\"text-center\" key={buyerId}>\r\n                <Row>\r\n                    <Col md={{span: 2, offset: 1}}><strong>{fullName}</strong></Col>\r\n                    <Col md={2}><strong>{phone}</strong></Col>\r\n                    <Col md={3}><strong>{address}</strong></Col>\r\n                    <Col md={{span: 3}}><strong>{iban ?? 'IBAN NENAJDENY'}</strong></Col>\r\n                </Row>\r\n                <hr />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const ShowOrders = () => {\r\n        return ordersData.map(order => {\r\n            const { _id, orderId, userInformation, createdAt, status, shops, isShipped, total, userId: buyerId } = order\r\n            const { email } = userInformation\r\n            const statusColor = status === 'vytvorena' ? 'orange' : status === 'zaplatena' ? 'green' : status === 'odmietnuta' ? 'red' : 'black';\r\n            return (\r\n                <tbody key={orderId}>\r\n                    <tr onClick={() => handleExpanded(_id)}>\r\n                        <td>{orderId}</td>\r\n                        <td>{email}</td>\r\n                        <td>{moment(createdAt).format(\"DD MMM YYYY, HH:mm:ss\")}</td>\r\n                        <td>{total.toFixed(2).toString().replace(/\\./g,',')} </td>\r\n                        <td style={{color: statusColor}}>{(shippedObj[_id] ?? isShipped) ? <em style={{color: 'blue', float:'left'}}>odoslana</em> : status}\r\n                            {status === 'zaplatena' && isOwner &&\r\n                            <input \r\n                                style={{\r\n                                    float: 'right', \r\n                                    cursor: 'pointer',\r\n                                    paddingBottom: '-50px'\r\n                                }}\r\n                                type='checkbox'\r\n                                name='checkShipping'\r\n                                checked={shippedObj[_id] ?? isShipped}\r\n                                onChange={(e) => handleShipping(e, _id)}\r\n                            />}\r\n                        </td>\r\n                    </tr>\r\n                    {expandedObj[_id] &&\r\n                    <tr style={{backgroundColor: status === 'zaplatena' ? '#f4fff4' : status === 'odmietnuta' ? '#ffecec' : 'rgb(250, 250, 250)' }}>\r\n                        <td colSpan=\"5\">\r\n                            <ShowBuyerDetails passUserInformation={userInformation} buyerId={buyerId} />\r\n                            <ShowOrderDetails passShops={shops} />\r\n                        </td>    \r\n                    </tr>}\r\n                </tbody>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Table striped bordered hover>\r\n            <thead>\r\n                <tr>\r\n                    <th>ID</th>\r\n                    <th>Email</th>\r\n                    <th>Datum</th>\r\n                    <th>Total</th>\r\n                    <th>Stav</th>\r\n                </tr>\r\n            </thead>\r\n            <ShowOrders />\r\n        </Table>    \r\n    )\r\n}","import React, {useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\n\r\nconst useQuery = () => {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default ({userId}) => {\r\n    let query = useQuery();\r\n    const orderId = query.get('Reference')\r\n    const result = query.get('ResultCode')\r\n    const paymentId = query.get('PaymentRequestId')\r\n\r\n    useEffect(() => {\r\n        if (orderId.length !== 0) {\r\n            axios.post(`https://mas-vino.herokuapp.com/orders/${orderId}/process-payment/`, {paymentResultCode: result, paymentId})\r\n                .then(res => console.log(res.data))\r\n                .catch(err => err && console.log(err))\r\n                .then(() => {\r\n                    if (userId) {\r\n                        axios.get(`https://mas-vino.herokuapp.com/users/${userId}/cart/clear-cart`)\r\n                            .then(res => console.log(res.data))\r\n                            .catch(error => error && console.log(error))\r\n                    }\r\n                    localStorage.removeItem('shoppingCart')\r\n                })\r\n            \r\n        }\r\n    }, [])\r\n    \r\n    return (\r\n        <p className=\"text-center\">Platba za objednavku cislo {orderId} bola prijata. <br/>Cislo platby {paymentId}</p>\r\n    )\r\n}","import React, {useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst useQuery = () => {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default ({userId}) => {\r\n    let query = useQuery();\r\n    const orderId = query.get('Reference')\r\n    const paymentId = query.get('PaymentRequestId')\r\n    \r\n    return (\r\n        <p className=\"text-center\" style={{color:'red'}}>Platba za objednavku cislo {orderId} nepresla. <br/>Referencne cislo platby {paymentId}</p>\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\n\r\nimport ShowItem from '../Shop/ViewShop/ShowItem';\r\n\r\nimport Row from 'react-bootstrap/Row'\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\n//Shop.js\r\nexport default ({ userData, shopData }) => {\r\n  const [showAddedPopup, setShowAddedPopup] = useState(false)\r\n  const {userId} = userData\r\n\r\n  const ShowWines = () => {\r\n    return shopData.map((shop,i) => {\r\n      const {shopItems, url, shopId} = shop\r\n      return (\r\n        <ShowItem key={`${shopId}-${i}`} shopItems={shopItems} url={url} shopId={shopId} userId={userId} setShouldReload={false} shouldReload={false} setShowAddedPopup={setShowAddedPopup} isOwner={false} />\r\n      )\r\n    })\r\n  }\r\n  \r\n  return (\r\n    <Container>\r\n      <Row className=\"text-center\">\r\n        <ShowWines />\r\n      </Row>\r\n    </Container>\r\n  );\r\n};","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport WineOverview from \"./WineOverview\";\r\n\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\n//Shop.js\r\nexport default ({ userData }) => {\r\n  const [shopData, setShopData] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/shop/`)\r\n      .then((res) => setShopData(res.data ? res.data : {}))\r\n      .catch((err) => {\r\n        if (err) return console.log(`Fetch error: ${err}`);\r\n      })\r\n      .then(() => setLoading(false));\r\n  }, []); //eslint-disable-line\r\n  return (\r\n    <><br/>\r\n      {loading ? (\r\n        <Spinner\r\n          style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n          animation=\"border\"\r\n        />\r\n      ) : <WineOverview userData={userData} shopData={shopData} />}\r\n    </>\r\n  );\r\n};","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nexport default ({eventPopup, setEventPopup, refresh, setRefresh}) => {\r\n    const [startDate, setStartDate] = useState(new Date());\r\n\r\n    const [name, setName] = useState('')\r\n    const [idFromName, setIdFromName] = useState('')\r\n    const [link, setLink] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [imageLink, setImageLink] = useState('')\r\n    const [where, setWhere] = useState('')\r\n    const [when, setWhen] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (name) {\r\n            const setNewId = name.replace(/\\s/g, '-').toLowerCase()\r\n            setIdFromName(setNewId)\r\n        }\r\n    }, [name])\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${idFromName}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${idFromName}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${idFromName}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setWhen(moment(startDate).format('DD.MM.YYYY, HH:mm'))\r\n    },[startDate])\r\n\r\n    const handleSave = () => {\r\n        axios.post(`https://mas-vino.herokuapp.com/events/add`, {name, link, description, imageLink, where, when})\r\n            .then(res => {\r\n                setRefresh(!refresh)\r\n                setEventPopup(false)\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n    \r\n    return (\r\n        <Modal show={eventPopup} onHide={() => setEventPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"name\">Nazov udalosti:</label>\r\n                        <input \r\n                            name=\"name\"\r\n                            className=\"form-control text-center\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"povinne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"where\">Miesto udalosti:</label>\r\n                        <input \r\n                            name=\"where\"\r\n                            className=\"form-control text-center\"\r\n                            value={where}\r\n                            onChange={(e) => setWhere(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"link\">Externy link udalosti:</label>\r\n                        <input \r\n                            name=\"link\"\r\n                            className=\"form-control text-center\"\r\n                            value={link}\r\n                            onChange={(e) => setLink(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        Cas a datum udalosti (povinne): <strong>{when}</strong>\r\n                        <br /><br />\r\n                        Vyber: <DatePicker showTimeSelect selected={startDate} onChange={date => setStartDate(date)} />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"200px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {name &&\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok udalosti. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(name && description && imageLink && when) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Pridat\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Pridat\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setEventPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n        )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nexport default ({eventPopup, setEventPopup, refresh, setRefresh, eventData}) => {\r\n    const [startDate, setStartDate] = useState(moment(eventData.when, 'DD.MM.YYYY, HH:mm').valueOf());\r\n\r\n    const [name, setName] = useState(eventData.name)\r\n    const [idFromName, setIdFromName] = useState(eventData.idFromName)\r\n    const [link, setLink] = useState(eventData.link)\r\n    const [description, setDescription] = useState(eventData.description)\r\n    const [imageLink, setImageLink] = useState(eventData.imageLink)\r\n    const [where, setWhere] = useState(eventData.where)\r\n    const [when, setWhen] = useState(eventData.when)\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            console.log(image)\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (name) {\r\n            const setNewId = name.replace(/\\s/g, '-').toLowerCase()\r\n            setIdFromName(setNewId)\r\n        }\r\n    }, [name])\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${idFromName}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${idFromName}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${idFromName}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setWhen(moment(startDate).format('DD.MM.YYYY, HH:mm'))\r\n    },[startDate])\r\n\r\n    const handleSave = () => {\r\n        axios.post(`https://mas-vino.herokuapp.com/events/update-event/${eventData._id}`, {name, link, description, imageLink, where, when})\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setRefresh(!refresh)\r\n                setEventPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n    \r\n    return (\r\n        <Modal show={eventPopup} onHide={() => setEventPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"name\">Nazov udalosti:</label>\r\n                        <input \r\n                            name=\"name\"\r\n                            className=\"form-control text-center\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"povinne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"where\">Miesto udalosti:</label>\r\n                        <input \r\n                            name=\"where\"\r\n                            className=\"form-control text-center\"\r\n                            value={where}\r\n                            onChange={(e) => setWhere(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"link\">Externy link udalosti:</label>\r\n                        <input \r\n                            name=\"link\"\r\n                            className=\"form-control text-center\"\r\n                            value={link}\r\n                            onChange={(e) => setLink(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        Cas a datum udalosti (povinne): <strong>{when}</strong>\r\n                        <br /><br />\r\n                        Vyber: <DatePicker showTimeSelect selected={startDate} onChange={date => setStartDate(date)} />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"200px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {\r\n                (name && imageLink) ? \r\n                <Row className=\"justify-content-center text-center\">\r\n                    <Col className=\"form-group\">\r\n                    <img style={{height:'110px', width: '160px'}} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                    <Button onClick={() => setImageLink('')} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n                    </Col>\r\n                </Row> :\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok udalosti. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(name && description && imageLink && when) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Pridat\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Pridat\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setEventPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n        )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nimport Card from 'react-bootstrap/Card'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport AddEvent from './AddEvent'\r\nimport EditEvent from './EditEvent'\r\n\r\nimport {MdDateRange, MdLocationOn, MdDelete, MdEdit} from 'react-icons/md'\r\n\r\nexport default ({isOwner}) => {\r\n    const [eventsData, setEventsData] = useState([])\r\n    const [eventPopup, setEventPopup] = useState(false)\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [editing, setEditing] = useState('')\r\n\r\n    const handleEditing = (e) => {\r\n        const itemId = e.currentTarget.parentNode.id;\r\n        let editingObj = {}\r\n        editingObj[itemId] = true\r\n        setEditing({...editing, ...editingObj})\r\n    }\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n            return img;\r\n        } catch {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    const deleteCard = (eventId) => {\r\n        axios.delete(`https://mas-vino.herokuapp.com/events/${eventId}/`)\r\n            .then(() => setRefresh(!refresh))\r\n            .catch((err) => err && console.log(`Error ${err}`));\r\n    };\r\n\r\n    const sortEventsData = (data) => {\r\n        return data.sort((a, b) => (a.when < b.when) ? 1 : -1)\r\n    }\r\n\r\n    useEffect(() => {\r\n        axios.get(`https://mas-vino.herokuapp.com/events/`)\r\n            .then(res => {\r\n                const events = res.data\r\n                const result = sortEventsData(events)\r\n                setEventsData(result)\r\n            })\r\n            .catch(err => err && console.log(err))\r\n    }, [refresh])\r\n\r\n    const handleSubmit = (passLink) => {\r\n        const win = window.open(passLink, \"_blank\");\r\n        win.focus();\r\n    }\r\n\r\n    const ShowEvents = () => {\r\n        return eventsData.map(event => {\r\n            const { _id, name, link, description, imageLink, when, where } = event\r\n            return (\r\n                <Col key={_id} style={{maxWidth:'800px'}} className=\"mt-4\" md={12} lg={6}>\r\n                    <Card className=\"h-100\" id={_id}>\r\n                        {isOwner &&\r\n                            <Button\r\n                                onClick={() => deleteCard(_id)}\r\n                                style={{\r\n                                    width: \"40px\",\r\n                                    height: \"40px\",\r\n                                    marginBottom: \"-40px\",\r\n                                    zIndex: \"+5\"\r\n                                }}\r\n                                variant=\"outline-danger\"\r\n                                >\r\n                                <MdDelete style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n                            </Button>}\r\n                        {isOwner &&\r\n                        <Button\r\n                            onClick={(e) => handleEditing(e)}\r\n                            style={{\r\n                                width: \"40px\",\r\n                                height: \"40px\",\r\n                                marginBottom: \"-40px\",\r\n                                marginLeft: \"40px\",\r\n                                zIndex: \"+5\"\r\n                            }}\r\n                            variant=\"outline-warning\"\r\n                            >\r\n                            <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n                            </Button>}\r\n                            \r\n                        {editing &&\r\n                            <EditEvent refresh={refresh} setRefresh={setRefresh} setEventPopup={setEditing} eventPopup={editing[_id]} eventData={event} />\r\n                        }\r\n                        <Card.Img variant=\"top\" style={{ height: '350px' }} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                        <Card.Body>\r\n                            <Card.Title>{name}<Button onClick={() => handleSubmit(link)} size=\"sm\" variant=\"dark\" style={{float: 'right', marginTop: '-5px'}}>Viac info</Button></Card.Title>\r\n                            <Card.Text>{description}</Card.Text>\r\n                        </Card.Body>\r\n                        {(when || where) &&\r\n                        <Card.Footer>\r\n                            <small className=\"text-muted\"><MdDateRange style={{fontSize: '130%'}} /> {when}<br /> <MdLocationOn style={{fontSize: '130%'}} /> {where}</small>\r\n                        </Card.Footer>}\r\n                    </Card>\r\n                </Col>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Container className=\"mb-4\">\r\n            {eventPopup &&\r\n                <AddEvent refresh={refresh} setRefresh={setRefresh} setEventPopup={setEventPopup} eventPopup={eventPopup} />\r\n            }\r\n            {isOwner &&\r\n            <Row className=\"justify-content-center\" >\r\n                <Button className=\"mt-4\" variant=\"dark\" onClick={() => setEventPopup(true)}>Pridat Event</Button>\r\n            </Row>}\r\n            <Row className=\"justify-content-center justify-content-md-start\" >\r\n                <ShowEvents />\r\n            </Row>\r\n        </Container>\r\n    )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nexport default ({servicePopup, setServicePopup, refresh, setRefresh}) => {\r\n    const [name, setName] = useState('')\r\n    const [idFromName, setIdFromName] = useState('')\r\n    const [link, setLink] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [imageLink, setImageLink] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (name) {\r\n            const setNewId = name.replace(/\\s/g, '-').toLowerCase()\r\n            setIdFromName(setNewId)\r\n        }\r\n    }, [name])\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${idFromName}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${idFromName}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${idFromName}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        axios.post(`https://mas-vino.herokuapp.com/services/add`, {name, link, description, imageLink})\r\n            .then(res => {\r\n                setRefresh(!refresh)\r\n                setServicePopup(false)\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n    \r\n    return (\r\n        <Modal show={servicePopup} onHide={() => setServicePopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"name\">Nazov sluzby:</label>\r\n                        <input \r\n                            name=\"name\"\r\n                            className=\"form-control text-center\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"povinne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"link\">Externy link sluzby:</label>\r\n                        <input \r\n                            name=\"link\"\r\n                            className=\"form-control text-center\"\r\n                            value={link}\r\n                            onChange={(e) => setLink(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"200px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {name &&\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok sluzby. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(name && description && imageLink) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Pridat\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Pridat\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setServicePopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n        )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nexport default ({servicePopup, setServicePopup, refresh, setRefresh, serviceData}) => {\r\n    const [name, setName] = useState(serviceData.name)\r\n    const [idFromName, setIdFromName] = useState(serviceData.idFromName)\r\n    const [link, setLink] = useState(serviceData.link)\r\n    const [description, setDescription] = useState(serviceData.description)\r\n    const [imageLink, setImageLink] = useState(serviceData.imageLink)\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            console.log(image)\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (name) {\r\n            const setNewId = name.replace(/\\s/g, '-').toLowerCase()\r\n            setIdFromName(setNewId)\r\n        }\r\n    }, [name])\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`https://mas-vino.herokuapp.com/deleteFile/${idFromName}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `https://mas-vino.herokuapp.com/fileUpload/${idFromName}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${idFromName}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        console.log(serviceData)\r\n        axios.post(`https://mas-vino.herokuapp.com/services/update-service/${serviceData._id}`, {name, link, description, imageLink})\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setRefresh(!refresh)\r\n                setServicePopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n    \r\n    return (\r\n        <Modal show={servicePopup} onHide={() => setServicePopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"name\">Nazov sluzby:</label>\r\n                        <input \r\n                            name=\"name\"\r\n                            className=\"form-control text-center\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"povinne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"link\">Externy link sluzby:</label>\r\n                        <input \r\n                            name=\"link\"\r\n                            className=\"form-control text-center\"\r\n                            value={link}\r\n                            onChange={(e) => setLink(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"200px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {\r\n                (name && imageLink) ? \r\n                <Row className=\"justify-content-center text-center\">\r\n                    <Col className=\"form-group\">\r\n                    <img style={{height:'110px', width: '160px'}} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                    <Button onClick={() => setImageLink('')} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n                    </Col>\r\n                </Row> :\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok sluzby. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(name && description && imageLink) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Pridat\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Pridat\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setServicePopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n        )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport Card from 'react-bootstrap/Card'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport AddService from './AddService'\r\nimport EditService from './EditService'\r\n\r\nimport {MdDateRange, MdLocationOn, MdDelete, MdEdit} from 'react-icons/md'\r\n\r\nexport default ({isOwner}) => {\r\n    const [servicesData, setServicesData] = useState([])\r\n    const [servicePopup, setServicePopup] = useState(false)\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [editing, setEditing] = useState('')\r\n\r\n    const handleEditing = (e) => {\r\n        const itemId = e.currentTarget.parentNode.id;\r\n        let editingObj = {}\r\n        editingObj[itemId] = true\r\n        setEditing({...editing, ...editingObj})\r\n    }\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n            return img;\r\n        } catch {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    const deleteCard = (serviceId) => {\r\n        axios.delete(`https://mas-vino.herokuapp.com/services/${serviceId}/`)\r\n            .then(() => setRefresh(!refresh))\r\n            .catch((err) => err && console.log(`Error ${err}`));\r\n    };\r\n\r\n    useEffect(() => {\r\n        axios.get(`https://mas-vino.herokuapp.com/services/`)\r\n            .then(res => {\r\n                const result = res.data\r\n                setServicesData(result)\r\n            })\r\n            .catch(err => err && console.log(err))\r\n    }, [refresh])\r\n\r\n    const handleSubmit = (passLink) => {\r\n        const win = window.open(passLink, \"_blank\");\r\n        win.focus();\r\n    }\r\n\r\n    const ShowServices = () => {\r\n        return servicesData.map(service => {\r\n            const { _id, name, link, description, imageLink, when, where } = service\r\n            return (\r\n                <Col key={_id} style={{maxWidth:'800px'}} className=\"mt-4\" md={12} lg={6}>\r\n                    <Card bg=\"dark\" text=\"white\" className=\"h-100\" id={_id}>\r\n                        {isOwner &&\r\n                            <Button\r\n                                onClick={() => deleteCard(_id)}\r\n                                style={{\r\n                                    width: \"40px\",\r\n                                    height: \"40px\",\r\n                                    marginBottom: \"-40px\",\r\n                                    zIndex: \"+5\"\r\n                                }}\r\n                                variant=\"outline-danger\"\r\n                                >\r\n                                <MdDelete style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n                            </Button>}\r\n                        {isOwner &&\r\n                        <Button\r\n                            onClick={(e) => handleEditing(e)}\r\n                            style={{\r\n                                width: \"40px\",\r\n                                height: \"40px\",\r\n                                marginBottom: \"-40px\",\r\n                                marginLeft: \"40px\",\r\n                                zIndex: \"+5\"\r\n                            }}\r\n                            variant=\"outline-warning\"\r\n                            >\r\n                            <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n                            </Button>}\r\n                            \r\n                        {editing &&\r\n                            <EditService refresh={refresh} setRefresh={setRefresh} setServicePopup={setEditing} servicePopup={editing[_id]} serviceData={service} />\r\n                        }\r\n                        <Card.Img variant=\"top\" style={{ height: '350px' }} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                        <Card.Body>\r\n                            <Card.Title>{name}<Button onClick={() => handleSubmit(link)} size=\"sm\" variant=\"outline-light\" style={{float: 'right', marginTop: '-5px'}}>Viac info</Button></Card.Title>\r\n                            <Card.Text>{description}</Card.Text>\r\n                        </Card.Body>\r\n                        {(when || where) &&\r\n                        <Card.Footer>\r\n                            <small className=\"text-muted\"><MdDateRange style={{fontSize: '130%'}} /> {when}<br /> <MdLocationOn style={{fontSize: '130%'}} /> {where}</small>\r\n                        </Card.Footer>}\r\n                    </Card>\r\n                </Col>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Container className=\"mb-4\">\r\n            {servicePopup &&\r\n                <AddService refresh={refresh} setRefresh={setRefresh} setServicePopup={setServicePopup} servicePopup={servicePopup} />\r\n            }\r\n            {isOwner &&\r\n            <Row className=\"justify-content-center\" >\r\n                <Button className=\"mt-4\" variant=\"dark\" onClick={() => setServicePopup(true)}>Pridat Sluzbu</Button>\r\n            </Row>}\r\n            <Row className=\"justify-content-center justify-content-md-start\" >\r\n                <ShowServices />\r\n            </Row>\r\n        </Container>\r\n    )\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { Route, Switch, BrowserRouter as Router } from \"react-router-dom\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport axios from \"axios\";\r\n\r\nimport \"./index.css\";\r\nimport \"react-dropzone-uploader/dist/styles.css\";\r\n\r\nimport Home from \"./components/Home/Home\";\r\nimport Vinarne from \"./components/Shop/Vinarne\";\r\nimport Login from \"./components/Login/Login\";\r\nimport ShopOnline from \"./components/Shop/shopOnline/ShopOnline\"\r\nimport ShoppingCart from \"./components/Cart/ShoppingCart\"\r\nimport PayGate from \"./components/Cart/PayGate\"\r\nimport Orders from \"./components/Payment/Orders\"\r\nimport SuccessPayment from \"./components/Payment/SuccessPayment\";\r\nimport RejectPayment from \"./components/Payment/RejectPayment\";\r\nimport Vinka from \"./components/Wines/Vinka\";\r\nimport Events from \"./components/Events/Events\";\r\nimport Services from \"./components/Services/Services\";\r\n\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\n// App.js\r\nexport default () => {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [userData, setUserData] = useState({});\r\n  const [loadingData, setLoadingData] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setLoadingData(true)\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/get-user-data`, {\r\n        withCredentials: true\r\n      })\r\n      .then((res) => {\r\n        if (res.data) {\r\n          const { _id, userName, fullName, email, shopId, isOwner } = res.data;\r\n          setUserData({ _id, userName, fullName, email, shopId, isOwner });\r\n          setIsLoggedIn(userName ? true : false);\r\n        } else {\r\n          setUserData({})\r\n        }\r\n      })\r\n      .catch((err) => err && console.log(\"Load Error \" + err))\r\n      .then(() => setLoadingData(false))\r\n  }, []);\r\n  const handleLogOut = () => {\r\n    axios\r\n      .get(`https://mas-vino.herokuapp.com/logout`, {\r\n        withCredentials: true\r\n      })\r\n      .then(() => {\r\n        setUserData({});\r\n        setIsLoggedIn(false);\r\n      })\r\n      .catch((err) => console.log(`Error ${err}`))\r\n      .then(() => window.location.reload());\r\n  };\r\n  return (\r\n    <Router>\r\n      <link\r\n        rel=\"stylesheet\"\r\n        href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css\"\r\n        integrity=\"sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk\"\r\n        crossOrigin=\"anonymous\"\r\n      />\r\n      <div>\r\n        <Navbar userName={userData.fullName} isLoggedIn={isLoggedIn} handleLogOut={handleLogOut} />\r\n        {loadingData ? \r\n              <Spinner\r\n                style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n                animation=\"border\"\r\n              /> :\r\n        <div style={{marginTop: \"56px\"}}>\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <Home userId={userData._id} isOwner={userData.isOwner}  />\r\n            </Route>\r\n            <Route exact path=\"/vinarne\">\r\n              <Vinarne userData={userData} />\r\n            </Route>\r\n            <Route exact path=\"/vinka\">\r\n              <Vinka userData={userData} />\r\n            </Route>\r\n            <Route exact path=\"/login-page\">\r\n              {isLoggedIn ? <Home userId={userData._id} isOwner={userData.isOwner} /> : <Login />}\r\n            </Route>\r\n            <Route exact path=\"/cart-page\">\r\n              <ShoppingCart userId={userData._id} />\r\n            </Route>\r\n            <Route exact path={`/success-payment`}>\r\n              <SuccessPayment userId={userData._id} />\r\n            </Route>\r\n                <Route exact path={`/failed-payment`}>\r\n              <RejectPayment userId={userData._id} />\r\n            </Route>\r\n            <Route exact path={`/cancel-payment`}>\r\n              <RejectPayment userId={userData._id} />\r\n            </Route>\r\n            <Route exact path={`/objednavky`}>\r\n              <Orders userId={userData._id} isOwner={userData.isOwner} />\r\n            </Route>\r\n            <Route exact path={`/akcie`}>\r\n              <Events isOwner={userData.isOwner} />\r\n            </Route>\r\n            <Route exact path={`/sluzby`}>\r\n              <Services isOwner={userData.isOwner} />\r\n            </Route>\r\n            <Route exact path={`/:shopUrl`}>\r\n              <ShopOnline userId={userData._id} isOwner={userData.isOwner} />\r\n            </Route>\r\n            <Route exact path={`/shop/payment`}>\r\n              <PayGate />\r\n            </Route>\r\n          </Switch>\r\n        </div>}\r\n      </div>    \r\n    </Router>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}
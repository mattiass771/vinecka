(this["webpackJsonpshop-app"]=this["webpackJsonpshop-app"]||[]).push([[0],{112:function(e,t,a){"use strict";(function(e){var n=a(1),c=a.n(n),r=a(15),o=a(244),l=a.n(o),m=a(150),s=a.n(m);t.a=function(t){var a=t.paymentPopup,n=t.setPaymentPopup,o=t.orderInfo,m=o.total,i=o.orderId;return c.a.createElement(r.a,{style:{backgroundColor:"rgba(255,255,255,0) !important"},show:a,onHide:function(){return n(!0)}},c.a.createElement("iframe",{style:{padding:"-15px",width:"100%",height:"550px"},id:"TrustPayFrame",src:function(){var t=m,a=i,n=function(t,a){var n=s()("A*",t),c=s()("A*",a),r=l.a.createHmac("sha256",n).update(c).digest();return e.from(r.buffer).reduce((function(e,t){return e+t.toString(16).padStart(2,"0")}),"").toUpperCase()}("5FIwY8FAc15vKHD96B9XQLhPIZdK8lNr","".concat(2107205663,"/").concat(t.toFixed(2),"/").concat("EUR","/").concat(a,"/").concat(0));return"".concat("https://playground.trustpay.eu/mapi5/wire/paypopup","?AccountId=").concat(2107205663,"&Amount=").concat(t,"&Currency=").concat("EUR","&Reference=").concat(a,"&PaymentType=").concat(0,"&Signature=").concat(n)}()}),c.a.createElement("div",{style:{position:"absolute",right:15,top:15,height:50,width:50,cursor:"pointer"},onClick:function(){return n(!1)}}))}}).call(this,a(33).Buffer)},237:function(e,t,a){e.exports=a.p+"static/media/logo.c8c0a018.png"},250:function(e,t,a){e.exports=a(465)},278:function(e,t,a){},294:function(e,t){},296:function(e,t){},308:function(e,t){},310:function(e,t){},337:function(e,t){},339:function(e,t){},340:function(e,t){},345:function(e,t){},347:function(e,t){},366:function(e,t){},378:function(e,t){},381:function(e,t){},465:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(47),o=a.n(r),l=a(2),m=a(23),s=a(27),i=a(17),u=a(114),p=a(40),d=a(237),h=a.n(d),f=a(75),E=function(e){var t=e.isLoggedIn,a=e.handleLogOut,r=(e.userName,Object(n.useState)(0)),o=Object(l.a)(r,2),s=o[0],d=o[1],E=Object(n.useState)(!0),g=Object(l.a)(E,2),b=g[0],v=g[1],j=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),x=function(){var e=window.pageYOffset;v(!(j-e<1100&&e>50)&&(s>e||e<50)),d(e)};return Object(n.useEffect)((function(){return window.addEventListener("scroll",x),function(){return window.removeEventListener("scroll",x)}}),[s,b,x]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"text-center w-100",style:Object(i.a)(Object(i.a)({},{position:"fixed",transition:"top 0.6s",zIndex:"+3"}),{},{top:b?"0":"-156px",borderBottom:"1px solid whitesmoke"})},c.a.createElement("img",{alt:"",src:h.a,width:"auto",height:"100"})),c.a.createElement(u.a,{className:"justify-content-center",style:Object(i.a)(Object(i.a)({},{position:"fixed",transition:"top 0.6s",width:"100%",zIndex:"+2",backgroundColor:"#2c1111",fontSize:"120%"}),{},{top:b?"0":"-156px",paddingTop:"108px"}),variant:"dark",expand:"md"},c.a.createElement(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),c.a.createElement(u.a.Collapse,{id:"basic-navbar-nav",className:"row justify-content-lg-center"},c.a.createElement(p.a,{className:"ml-4 ml-md-0"},c.a.createElement(p.a.Link,{className:"navihover",active:!0},c.a.createElement(m.b,{className:"navilink pt-4 pb-3 mr-lg-4 ml-lg-4",to:"/"},"Domov")),c.a.createElement(p.a.Link,{className:"navihover",active:!0},c.a.createElement(m.b,{className:"navilink pt-3 pb-3 mr-lg-4 ml-lg-4",to:"/vinarne"},"Vinarne")),c.a.createElement(p.a.Link,{className:"navihover"},c.a.createElement(m.b,{className:"navilink pt-3 pb-3 mr-lg-4 ml-lg-4",to:"/vinka"},"Vinka")),c.a.createElement(p.a.Link,{className:"navihover"},c.a.createElement(m.b,{className:"navilink pt-3 pb-3 mr-lg-4 ml-lg-4",to:"/akcie"},"Akcie")),c.a.createElement(p.a.Link,{className:"navihover"},c.a.createElement(m.b,{className:"navilink pt-3 pb-3 mr-lg-4 ml-lg-4",to:"/sluzby"},"Sluzby")),c.a.createElement(p.a.Link,{className:"navihover"},c.a.createElement(m.b,{className:"navilink pt-3 pb-3 mr-lg-4 ml-lg-4",to:"/kontakt"},"Kontakt"))),c.a.createElement(p.a,{style:{position:"absolute",right:16}},c.a.createElement(p.a.Link,{className:"navihover"},c.a.createElement(m.b,{className:"navilink pt-3 pb-3",to:"/cart-page"},c.a.createElement(f.b,null))),t?c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a.Link,{className:"navihover"},c.a.createElement(m.b,{className:"navilink pt-3 pb-3",to:"/objednavky"},"Objednavky")),c.a.createElement(p.a.Link,{className:"navihover"},c.a.createElement(m.b,{className:"navilink pt-3 pb-3",onClick:a,to:""},"Logout"))):c.a.createElement(p.a.Link,{className:"navihover"},c.a.createElement(m.b,{className:"navilink pt-3 pb-3",to:"/login-page"},"Login"))))))},g=a(7),b=a.n(g),v=(a(278),a(279),a(30)),j=a(5),x=a(3),k=a(19),O=a(8),y=a(82),N=a(20),S=a(71),w=a(24),C=a(32),I=a.n(C),z=a(28),F=a(15),L=a(76),P=a(22),D=(a(37),function(e){var t=e.showEditItems,a=e.setShowEditItems,r=e.shopId,o=e.itemId,m=e.itemDataProp,s=e.setShouldReload,u=e.shouldReload,p=Object(n.useState)(""),d=Object(l.a)(p,2),h=d[0],f=d[1],E=Object(n.useState)(""),g=Object(l.a)(E,2),v=g[0],k=g[1],y=Object(n.useState)(""),N=Object(l.a)(y,2),S=N[0],w=N[1],C=Object(n.useState)(""),D=Object(l.a)(C,2),T=D[0],R=D[1],U=Object(n.useState)(!1),_=Object(l.a)(U,2),H=_[0],B=_[1],M=Object(n.useState)(""),A=Object(l.a)(M,2),Y=A[0],Z=A[1],V=Object(n.useState)(""),J=Object(l.a)(V,2),W=J[0],$=J[1],K=Object(n.useState)(""),q=Object(l.a)(K,2),G=q[0],Q=q[1],X=Object(n.useState)(""),ee=Object(l.a)(X,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(Object(i.a)({},m)),ce=Object(l.a)(ne,2),re=ce[0],oe=ce[1],le=function(e){try{return"https://vineckabucket.s3.eu-central-1.amazonaws.com/".concat(e.replace(/_/g,"-"))}catch(t){return null}};Object(n.useEffect)((function(){((le(T)?le(T):T)||T||S||v||h||W||G||te)&&B(!0)}),[T,S,v,h,W,G,te]);return c.a.createElement(F.a,{show:t,onHide:function(){return R(""),f(""),k(""),w(""),B(!1),void a("")}},c.a.createElement(F.a.Header,{closeButton:!0},c.a.createElement(F.a.Title,null,"Add an item to your shop.")),c.a.createElement(F.a.Body,null,c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{className:"form-group"},c.a.createElement("label",{htmlFor:"shopName"},"Name your item:"),c.a.createElement("input",{value:h||re.itemName,className:"form-control",type:"text",name:"shopName",onChange:function(e){return f(e.target.value)}}))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{className:"form-group"},c.a.createElement("label",{htmlFor:"price"},"Price:"),c.a.createElement("input",{value:v||re.price,className:"form-control",type:"text",name:"price",onChange:function(e){return k(e.target.value)}}))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{className:"form-group"},c.a.createElement("label",{htmlFor:"color"},"Farba:"),c.a.createElement("input",{value:W||re.color,className:"form-control",type:"text",name:"color",placeholder:"povinne",onChange:function(e){return $(e.target.value)}}))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{className:"form-group"},c.a.createElement("label",{htmlFor:"taste"},"Chut:"),c.a.createElement("input",{value:te||re.taste,className:"form-control",type:"text",name:"taste",onChange:function(e){return ae(e.target.value)}}))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{className:"form-group"},c.a.createElement("label",{htmlFor:"type"},"Druh:"),c.a.createElement("input",{value:G||re.type,className:"form-control",type:"text",name:"type",onChange:function(e){return Q(e.target.value)}}))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,null,c.a.createElement("label",{htmlFor:"sizes"},"Maximalny pocet flias v jednej objednavke:"))),c.a.createElement(j.a,null,c.a.createElement(x.a,{className:"form-group"},c.a.createElement(L.a,null,c.a.createElement("input",{value:Y||re.maxCount||"",className:"form-control",type:"number",name:"sizes",onChange:function(e){return Z(e.target.value)},placeholder:"Nechaj prazdne ak nieje hranica"})))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{className:"form-group"},c.a.createElement("label",{htmlFor:"description"},"Description:"),c.a.createElement("textarea",{maxLength:"230",value:S||re.description,className:"form-control",name:"description",type:"text",style:{resize:"none",minHeight:"100px"},onChange:function(e){return w(e.target.value)}}))),c.a.createElement("br",null),c.a.createElement(P.SlideDown,{className:"my-dropdown-slidedown"},re.imageLink?c.a.createElement(j.a,{className:"justify-content-center text-center"},c.a.createElement(x.a,{className:"form-group"},c.a.createElement("img",{style:{height:"110px",width:"80px"},src:le(re.imageLink)?le(re.imageLink):re.imageLink}),c.a.createElement(O.a,{onClick:function(){return function(){var e=Object(i.a)(Object(i.a)({},re),{},{imageLink:""});oe(e)}()},variant:"dark",size:"sm"},"Vymazat obrazok"))):c.a.createElement(j.a,null,c.a.createElement(x.a,null,c.a.createElement(I.a,{maxFiles:1,multiple:!1,canCancel:!1,getUploadParams:function(e){e.meta;return{url:"${process.env.REACT_APP_BACKEND_URL}/fileUpload/".concat(r)}},onChangeStatus:function(e,t){var a=e.meta;e.file;"removed"===t&&function(e){b.a.get("${process.env.REACT_APP_BACKEND_URL}/deleteFile/".concat(r),{params:e}).then((function(){})).catch((function(e){return e&&console.log(e)}))}(a),"done"===t&&R("".concat(r,"-").concat(a.name))},accept:"image/*",inputContent:function(){return c.a.createElement("p",{className:"text-center",key:"label",style:{marginTop:"15px",color:"#333333"}},"Drop or click to choose image.",c.a.createElement("br",null),c.a.createElement(z.b,null))},classNames:{dropzone:"dropzoning"}}))))),c.a.createElement(F.a.Footer,null,H?c.a.createElement(O.a,{variant:"dark",onClick:function(){h&&b.a.put("${process.env.REACT_APP_BACKEND_URL}/shop/".concat(r,"/update-item/").concat(o,"/itemName/").concat(h),{}).then((function(){a(""),s(!u)})).catch((function(e){return e&&console.log(e)})),v&&b.a.put("${process.env.REACT_APP_BACKEND_URL}/shop/".concat(r,"/update-item/").concat(o,"/price/").concat(v),{}).then((function(){a(""),s(!u)})).catch((function(e){return e&&console.log(e)})),S&&b.a.put("${process.env.REACT_APP_BACKEND_URL}/shop/".concat(r,"/update-item/").concat(o,"/description/").concat(S),{}).then((function(){a(""),s(!u)})).catch((function(e){return e&&console.log(e)})),T&&b.a.put("${process.env.REACT_APP_BACKEND_URL}/shop/".concat(r,"/update-item/").concat(o,"/imageLink/").concat(T),{}).then((function(){a(""),s(!u)})).catch((function(e){return e&&console.log(e)})),Y&&b.a.put("${process.env.REACT_APP_BACKEND_URL}/shop/".concat(r,"/update-item/").concat(o,"/maxCount/").concat(Y),{}).then((function(){a(""),s(!u)})).catch((function(e){return e&&console.log(e)})),W&&b.a.put("${process.env.REACT_APP_BACKEND_URL}/shop/".concat(r,"/update-item/").concat(o,"/color/").concat(W),{}).then((function(){a(""),s(!u)})).catch((function(e){return e&&console.log(e)})),G&&b.a.put("${process.env.REACT_APP_BACKEND_URL}/shop/".concat(r,"/update-item/").concat(o,"/type/").concat(G),{}).then((function(){a(""),s(!u)})).catch((function(e){return e&&console.log(e)})),te&&b.a.put("${process.env.REACT_APP_BACKEND_URL}/shop/".concat(r,"/update-item/").concat(o,"/taste/").concat(te),{}).then((function(){a(""),s(!u)})).catch((function(e){return e&&console.log(e)}))}},"Save Item"):c.a.createElement(O.a,{disabled:!0,variant:"dark"},"Save Item")))}),T=c.a.memo((function(e){var t=e.shopItems,a=e.shopId,r=e.userId,o=e.setShouldReload,s=e.shouldReload,u=e.isOwner,p=e.url,d=Object(n.useState)(""),h=Object(l.a)(d,2),f=h[0],E=h[1],g=Object(n.useState)(""),C=Object(l.a)(g,2),I=C[0],z=C[1],F=Object(n.useState)(""),L=Object(l.a)(F,2),P=L[0],T=L[1],R=Object(n.useState)(""),U=Object(l.a)(R,2),_=U[0],H=U[1],B=Object(n.useState)(!1),M=Object(l.a)(B,2),A=M[0],Y=M[1],Z=Object(n.useState)(""),V=Object(l.a)(Z,2),J=V[0],W=V[1],$=function(e){try{return"https://vineckabucket.s3.eu-central-1.amazonaws.com/".concat(e.replace(/_/g,"-"))}catch(t){return null}},K=function(e){var t={};t[e]="block",z(t),setTimeout((function(){return W(t)}),250)};return t.map((function(e,t){var n=e._id,l=e.itemName,d=e.price,h=e.description,g=e.imageLink,C=e.maxCount,F=e.color,L=e.taste,R="home"===a?e.shopId:a,U=$(g)?$(g):g;return c.a.createElement(x.a,{className:"pt-2 pb-2 ".concat("home"===a&&t>1&&"d-none"," ").concat("home"===a&&2===t&&"d-none d-lg-block"," ").concat("home"===a&&3===t&&"d-none d-xl-block"),style:{color:"whitesmoke",overflow:"hidden"},xs:12,md:6,lg:4,xl:3,key:n},A&&c.a.createElement(S.a,{style:{position:"fixed",zIndex:"+9",top:156,right:0},variant:"success"},"Polozka bola pridana do kosika!"),c.a.createElement(k.a,{onMouseEnter:function(){return K(n)},onTouchStart:function(){return K(n)},onMouseLeave:function(){return z(""),void W("")},style:{height:"410px",maxWidth:"300px"},id:n},u&&c.a.createElement(O.a,{onClick:function(e){return function(e){var t=e.currentTarget.parentNode.id;b.a.post("${process.env.REACT_APP_BACKEND_URL}/shop/".concat(a,"/delete-item/").concat(t),{}).then((function(){return o(!s)})).catch((function(e){return e&&console.log("Error ".concat(e))}))}(e)},style:{width:"40px",height:"40px",marginBottom:"-40px",zIndex:"+5"},variant:"outline-danger"},c.a.createElement(w.b,{style:{fontSize:"150%",margin:"0 0 15px -5px"}})),u&&c.a.createElement(O.a,{onClick:function(e){return function(e){var t={};t[e.currentTarget.parentNode.id]=!0,H(Object(i.a)(Object(i.a)({},_),t))}(e)},style:{width:"40px",height:"40px",marginBottom:"-40px",marginLeft:"40px",zIndex:"+5"},variant:"outline-warning"},c.a.createElement(w.c,{style:{fontSize:"150%",margin:"0 0 15px -5px"}})),_[n]&&c.a.createElement(D,{shouldReload:s,setShouldReload:o,itemDataProp:e,showEditItems:_[n],setShowEditItems:H,shopId:R,itemId:n}),c.a.createElement("img",{className:"shop-item-img",style:{height:"407px"},src:U}),c.a.createElement("div",{style:{color:"#333333",marginTop:"-110px",backgroundColor:"rgba(255,255,255, 0.7)"}},c.a.createElement(k.a.Title,{className:"mt-1 mb-1"},l),F&&L&&c.a.createElement(k.a.Text,{className:"mt-1 mb-1"},"".concat(F[0].toUpperCase()).concat(F.substring(1).toLowerCase(),", ").concat(L[0].toUpperCase()).concat(L.substring(1).toLowerCase())),c.a.createElement(k.a.Text,{className:"mt-1 mb-1 pb-4"},d," \u20ac")),c.a.createElement(k.a.ImgOverlay,{className:"".concat("block"===I[n]?"fade-in":"fade-out"),style:{background:"rgba(52,58,64,0.7)"}},"block"===I[n]&&J[n]&&c.a.createElement(O.a,{style:{width:"100%"},onClick:function(e){return function(e){var t=e.currentTarget.parentNode.parentNode.id,a=f[n]||1;if(r)b.a.post("${process.env.REACT_APP_BACKEND_URL}/users/".concat(r,"/cart/add-cart-item/").concat(R,"/").concat(t),{shopId:R,itemId:t,count:a}).then((function(){Y(!1),setTimeout((function(){return Y(!0)}),50)})).catch((function(e){return e&&console.log(e)})).then((function(){return setTimeout((function(){return Y(!1)}),1500)}));else{var c=localStorage.getItem("shoppingCart");localStorage.removeItem("shoppingCart");var o=c?[].concat(Object(v.a)(JSON.parse(c)),[{shopId:R,itemId:t,count:a}]):[{shopId:R,itemId:t,count:a}];localStorage.setItem("shoppingCart",JSON.stringify(o)),Y(!1),setTimeout((function(){return Y(!0)}),50),setTimeout((function(){return Y(!1)}),1500)}}(e)},variant:"dark"},"Prida\u0165 do ko\u0161\xedka."),c.a.createElement(N.a,null,"block"===I[n]&&J[n]&&c.a.createElement(j.a,{className:"mt-2"},c.a.createElement(x.a,null,c.a.createElement(y.a.Control,{as:"select",value:f[n],onChange:function(e){return function(e){var t={};t[n]=e.target.value,E(Object(i.a)(Object(i.a)({},f),t))}(e)}},function(){for(var e=[],t=1;t<=(null!==C&&void 0!==C?C:200);t++)e.push(c.a.createElement("option",{key:t,value:t},t));return e}()))),u&&"block"===I[n]&&J[n]&&c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,null,c.a.createElement(x.a,null,c.a.createElement("a",{onClick:function(){return function(e){var t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t),T("#333333"),setTimeout((function(){return T("")}),150)}(n)},style:{textDecoration:"none",cursor:"pointer",color:P}},c.a.createElement("strong",null,"copy my id!")))),c.a.createElement(j.a,{style:{height:"240px",marginTop:"5px",marginBottom:"5px"}},c.a.createElement(x.a,null,h))),p&&"block"===I[n]&&J[n]&&c.a.createElement(m.b,{to:"/".concat(p)},c.a.createElement(O.a,{style:{width:"100%"},variant:"dark"},"Nav\u0161t\xedvi\u0165 vin\xe1re\u0148."))))))}))})),R=a(113),U=a(43),_=function(e){var t=e.eventsPopup,a=e.setEventsPopup,r=e.forceRefresh,o=e.setForceRefresh,m=e.eventsImage,s=e.eventsText,i=Object(n.useState)(s),u=Object(l.a)(i,2),p=u[0],d=(u[1],Object(n.useState)(m)),h=Object(l.a)(d,2),f=h[0],E=h[1],g=function(e){try{return console.log(e),"https://vineckabucket.s3.eu-central-1.amazonaws.com/".concat(e.replace(/_/g,"-"))}catch(t){return null}};return c.a.createElement(F.a,{show:t,onHide:function(){return a(!1)}},c.a.createElement(F.a.Body,{className:"text-center"},c.a.createElement(P.SlideDown,{className:"my-dropdown-slidedown"},f?c.a.createElement(j.a,{className:"justify-content-center text-center"},c.a.createElement(x.a,{className:"form-group"},c.a.createElement("img",{style:{height:"110px",width:"160px"},src:g(f)?g(f):f}),c.a.createElement(O.a,{onClick:function(){return E("")},variant:"dark",size:"sm"},"Vymazat obrazok"))):c.a.createElement(j.a,null,c.a.createElement(x.a,null,c.a.createElement(I.a,{maxFiles:1,multiple:!1,canCancel:!1,getUploadParams:function(e){e.meta;return{url:"${process.env.REACT_APP_BACKEND_URL}/fileUpload/".concat("homescreen-event-image")}},onChangeStatus:function(e,t){var a=e.meta;e.file;"removed"===t&&function(e){b.a.get("${process.env.REACT_APP_BACKEND_URL}/deleteFile/".concat("homescreen-event-image"),{params:e}).then((function(){})).catch((function(e){return e&&console.log(e)}))}(a),"done"===t&&E("".concat("homescreen-event-image","-").concat(a.name))},accept:"image/*",inputContent:function(){return c.a.createElement("p",{className:"text-center",key:"label",style:{marginTop:"15px",color:"#333333"}},"Pridat obrazok udalosti. ",c.a.createElement("br",null)," (povinne)",c.a.createElement("br",null),c.a.createElement(z.b,null))},classNames:{dropzone:"dropzoning"}})))),c.a.createElement("br",null),p&&f?c.a.createElement(O.a,{variant:"dark",onClick:function(){b.a.put("${process.env.REACT_APP_BACKEND_URL}/home/events-description",{descriptionEvents:p,imageLinkEvents:f}).then((function(e){console.log(e.data),o(!r),a("")})).catch((function(e){return e&&e.data}))}},"Upravit"):c.a.createElement(O.a,{disabled:!0,variant:"dark"},"Upravit"),"\xa0\xa0\xa0\xa0",c.a.createElement(O.a,{variant:"dark",onClick:function(){return a(!1)}},"Zrusit")))},H=function(e){var t=e.servicesPopup,a=e.setServicesPopup,r=e.forceRefresh,o=e.setForceRefresh,m=e.servicesImage,s=e.servicesText,i=Object(n.useState)(s),u=Object(l.a)(i,2),p=u[0],d=(u[1],Object(n.useState)(m)),h=Object(l.a)(d,2),f=h[0],E=h[1],g=function(e){try{return console.log(e),"https://vineckabucket.s3.eu-central-1.amazonaws.com/".concat(e.replace(/_/g,"-"))}catch(t){return null}};return c.a.createElement(F.a,{show:t,onHide:function(){return a(!1)}},c.a.createElement(F.a.Body,{className:"text-center"},c.a.createElement(P.SlideDown,{className:"my-dropdown-slidedown"},f?c.a.createElement(j.a,{className:"justify-content-center text-center"},c.a.createElement(x.a,{className:"form-group"},c.a.createElement("img",{style:{height:"110px",width:"160px"},src:g(f)?g(f):f}),c.a.createElement(O.a,{onClick:function(){return E("")},variant:"dark",size:"sm"},"Vymazat obrazok"))):c.a.createElement(j.a,null,c.a.createElement(x.a,null,c.a.createElement(I.a,{maxFiles:1,multiple:!1,canCancel:!1,getUploadParams:function(e){e.meta;return{url:"${process.env.REACT_APP_BACKEND_URL}/fileUpload/".concat("homescreen-service-image")}},onChangeStatus:function(e,t){var a=e.meta;e.file;"removed"===t&&function(e){b.a.get("${process.env.REACT_APP_BACKEND_URL}/deleteFile/".concat("homescreen-service-image"),{params:e}).then((function(){})).catch((function(e){return e&&console.log(e)}))}(a),"done"===t&&E("".concat("homescreen-service-image","-").concat(a.name))},accept:"image/*",inputContent:function(){return c.a.createElement("p",{className:"text-center",key:"label",style:{marginTop:"15px",color:"#333333"}},"Pridat obrazok udalosti. ",c.a.createElement("br",null)," (povinne)",c.a.createElement("br",null),c.a.createElement(z.b,null))},classNames:{dropzone:"dropzoning"}})))),c.a.createElement("br",null),p&&f?c.a.createElement(O.a,{variant:"dark",onClick:function(){b.a.put("${process.env.REACT_APP_BACKEND_URL}/home/services-description",{descriptionServices:p,imageLinkServices:f}).then((function(e){console.log(e.data),o(!r),a("")})).catch((function(e){return e&&e.data}))}},"Upravit"):c.a.createElement(O.a,{disabled:!0,variant:"dark"},"Upravit"),"\xa0\xa0\xa0\xa0",c.a.createElement(O.a,{variant:"dark",onClick:function(){return a(!1)}},"Zrusit")))},B=function(e){var t=e.descriptionsPopup,a=e.setDescriptionsPopup,r=e.forceRefresh,o=e.setForceRefresh,m=e.descriptionsText,s=Object(n.useState)(m),i=Object(l.a)(s,2),u=i[0],p=i[1];return c.a.createElement(F.a,{show:t,onHide:function(){return a(!1)}},c.a.createElement(F.a.Body,{className:"text-center"},c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},c.a.createElement("label",{htmlFor:"description"},"Description:"),c.a.createElement("textarea",{value:u,className:"form-control text-center",name:"description",type:"text",style:{resize:"none",minHeight:"400px"},onChange:function(e){return p(e.target.value)},placeholder:"povinne"}))),c.a.createElement("br",null),u?c.a.createElement(O.a,{variant:"dark",onClick:function(){b.a.put("${process.env.REACT_APP_BACKEND_URL}/home/general-description",{descriptionGeneral:u}).then((function(e){console.log(e.data),o(!r),a("")})).catch((function(e){return e&&e.data}))}},"Upravit"):c.a.createElement(O.a,{disabled:!0,variant:"dark"},"Upravit"),"\xa0\xa0\xa0\xa0",c.a.createElement(O.a,{variant:"dark",onClick:function(){return a(!1)}},"Zrusit")))},M=function(e){var t=e.featuredsPopup,a=e.getImage,r=e.setFeaturedsPopup,o=e.forceRefresh,m=e.setForceRefresh,s=e.featuredIds,u=Object(n.useState)([]),p=Object(l.a)(u,2),d=p[0],h=p[1],f=Object(n.useState)([]),E=Object(l.a)(f,2),g=E[0],v=E[1];Object(n.useEffect)((function(){h(s)}),[]),Object(n.useEffect)((function(){if(4===d.length){v([]);var e=["","","",""];d.map((function(t,a){b.a.get("${process.env.REACT_APP_BACKEND_URL}/shop/find-item-by-id/".concat(t)).then((function(t){var n=t.data,c=Object(i.a)(Object(i.a)({},n[0]),{},{shopId:n[1]});e[a]=c})).catch((function(e){return e&&console.log("Error while setting full featured wines, ",e)})).then((function(){return v([].concat(e))}))})),console.log(g)}}),[d]);return c.a.createElement(F.a,{show:t,onHide:function(){return r(!1)}},c.a.createElement(F.a.Body,{className:"text-center"},c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},g.length>3&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",null,g[0].itemName),c.a.createElement("img",{style:{maxHeight:"100px",maxWidth:"80px"},src:a(g[0].imageLink)||g[0].imageLink})))),c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},c.a.createElement("input",{value:d.length>3&&d[0],className:"form-control text-center",name:"featured0",type:"text",onChange:function(e){return h([e.target.value,d[1],d[2],d[3]])},placeholder:"povinne"}))),c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},g.length>3&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",null,g[1].itemName),c.a.createElement("img",{style:{maxHeight:"100px",maxWidth:"80px"},src:a(g[1].imageLink)||g[1].imageLink})))),c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},c.a.createElement("input",{value:d.length>3&&d[1],className:"form-control text-center",name:"featured1",type:"text",onChange:function(e){return h([d[0],e.target.value,d[2],d[3]])},placeholder:"povinne"}))),c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},g.length>3&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",null,g[2].itemName),c.a.createElement("img",{style:{maxHeight:"100px",maxWidth:"80px"},src:a(g[2].imageLink)||g[2].imageLink})))),c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},c.a.createElement("input",{value:d.length>3&&d[2],className:"form-control text-center",name:"featured2",type:"text",onChange:function(e){return h([d[0],d[1],e.target.value,d[3]])},placeholder:"povinne"}))),c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},g.length>3&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",null,g[3].itemName),c.a.createElement("img",{style:{maxHeight:"100px",maxWidth:"80px"},src:a(g[3].imageLink)||g[3].imageLink})))),c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},c.a.createElement("input",{value:d.length>3&&d[3],className:"form-control text-center",name:"featured3",type:"text",onChange:function(e){return h([d[0],d[1],d[2],e.target.value])},placeholder:"povinne"}))),c.a.createElement("br",null),d?c.a.createElement(O.a,{variant:"dark",onClick:function(){b.a.post("${process.env.REACT_APP_BACKEND_URL}/home/featured-wines",{featuredWines:d}).then((function(e){m(!o),r("")})).catch((function(e){return e&&e.data}))}},"Upravit"):c.a.createElement(O.a,{disabled:!0,variant:"dark"},"Upravit"),"\xa0\xa0\xa0\xa0",c.a.createElement(O.a,{variant:"dark",onClick:function(){return r(!1)}},"Zrusit")))},A=350,Y=350,Z=a(239),V=a(240),J=a(241),W=A,$=Y,K=function(e){var t=e.userId,a=e.isOwner,r=Object(n.useState)(""),o=Object(l.a)(r,2),s=o[0],u=o[1],p=Object(n.useState)([]),d=Object(l.a)(p,2),h=d[0],E=d[1],g=Object(n.useState)(!1),y=Object(l.a)(g,2),S=y[0],C=y[1],I=Object(n.useState)([]),z=Object(l.a)(I,2),F=z[0],L=z[1],P=Object(n.useState)([]),D=Object(l.a)(P,2),A=D[0],Y=D[1],K=Object(n.useState)([]),q=Object(l.a)(K,2),G=q[0],Q=q[1],X=Object(n.useState)(""),ee=Object(l.a)(X,2),te=ee[0],ae=ee[1],ne=Object(n.useState)("none"),ce=Object(l.a)(ne,2),re=ce[0],oe=ce[1],le=Object(n.useState)("none"),me=Object(l.a)(le,2),se=me[0],ie=me[1],ue=Object(n.useState)(!1),pe=Object(l.a)(ue,2),de=pe[0],he=pe[1],fe=Object(n.useState)(!1),Ee=Object(l.a)(fe,2),ge=Ee[0],be=Ee[1],ve=Object(n.useState)(!1),je=Object(l.a)(ve,2),xe=je[0],ke=je[1],Oe=Object(n.useState)(!1),ye=Object(l.a)(Oe,2),Ne=ye[0],Se=ye[1],we=Object(n.useState)(!1),Ce=Object(l.a)(we,2),Ie=Ce[0],ze=Ce[1];Object(n.useEffect)((function(){C(!0),E([]),L([]),b.a.get("${process.env.REACT_APP_BACKEND_URL}/home/").then((function(e){var t=e.data.featuredWines,a=[e.data.descriptionEvents,e.data.imageLinkEvents],n=[e.data.descriptionServices,e.data.imageLinkServices],c=e.data.descriptionGeneral;Y(a),Q(n),ae(c),L(t),t.map((function(e){b.a.get("${process.env.REACT_APP_BACKEND_URL}/shop/find-item-by-id/".concat(e)).then((function(e){var t=e.data,a=Object(i.a)(Object(i.a)({},t[0]),{},{shopId:t[1]});return E((function(e){return[].concat(Object(v.a)(e),[a])}))})).catch((function(e){return e&&console.log("Error while setting full featured wines, ",e)}))}))})).catch((function(e){return e&&console.log("Error while fetching featured wines, ",e)})),b.a.get("${process.env.REACT_APP_BACKEND_URL}/shop/").then((function(e){return u(e.data)})).catch((function(e){return e&&console.log("Error while fetching shops for carousel, ",e)})).then((function(){return C(!1)}))}),[Ie]);var Fe=function(e){try{return"https://vineckabucket.s3.eu-central-1.amazonaws.com/".concat(e.replace(/_/g,"-"))}catch(t){return null}},Le=function(){return c.a.createElement(x.a,{md:6,style:{padding:"0"}},a&&c.a.createElement(O.a,{onClick:function(){return he(!0)},style:{width:"40px",height:"40px",marginBottom:"-40px",zIndex:"+1",position:"absolute"},variant:"outline-warning"},c.a.createElement(w.c,{style:{fontSize:"150%",margin:"0 0 15px -5px"}})),c.a.createElement(m.b,{to:"/akcie"},c.a.createElement(k.a,{className:"h-100 w-100",onMouseEnter:function(){return ie("block")},onMouseLeave:function(){return ie("none")},style:{textAlign:"center",color:"whitesmoke"}},c.a.createElement(k.a.Img,{className:"h-100 w-100",src:Fe(A[1])?Fe(A[1]):A[1]}),c.a.createElement(k.a.ImgOverlay,{className:"none"===se?"fade-in":"fade-out",style:{background:"rgba(52,58,64,0.4)"}},c.a.createElement("h3",{style:{paddingTop:"50%"}},"Slu\u017eby")))))},Pe=function(){return c.a.createElement(x.a,{md:6,style:{padding:"0"}},a&&c.a.createElement(O.a,{onClick:function(){return be(!0)},style:{width:"40px",height:"40px",marginBottom:"-40px",zIndex:"+1",position:"absolute"},variant:"outline-warning"},c.a.createElement(w.c,{style:{fontSize:"150%",margin:"0 0 15px -5px"}})),c.a.createElement(m.b,{to:"/sluzby"},c.a.createElement(k.a,{className:"h-100 w-100",onMouseEnter:function(){return oe("block")},onMouseLeave:function(){return oe("none")},style:{textAlign:"center",color:"whitesmoke"}},c.a.createElement(k.a.Img,{className:"h-100 w=100",src:Fe(G[1])?Fe(G[1]):G[1]}),c.a.createElement(k.a.ImgOverlay,{className:"none"===re?"fade-in":"fade-out",style:{background:"rgba(52,58,64,0.4)"}},c.a.createElement("h3",{style:{paddingTop:"50%"}},"Slu\u017eby")))))},De=function(){return c.a.createElement(j.a,{className:"text-center mb-2"},c.a.createElement(x.a,{className:"mt-4 mb-4"},a&&c.a.createElement(O.a,{onClick:function(){return ke(!0)},style:{width:"40px",height:"40px",marginBottom:"-40px",zIndex:"+1",position:"absolute"},variant:"outline-warning"},c.a.createElement(w.c,{style:{fontSize:"150%",margin:"0 0 15px -5px"}})),te))},Te=function(){return c.a.createElement(j.a,null,c.a.createElement(x.a,{className:"mb-4"},a&&c.a.createElement(O.a,{onClick:function(){return Se(!0)},style:{width:"40px",height:"40px",marginBottom:"-40px",zIndex:"+1",position:"absolute"},variant:"outline-warning"},c.a.createElement(w.c,{style:{fontSize:"150%",margin:"0 0 15px -5px"}}))))};return S?c.a.createElement(U.a,{style:{marginLeft:"49%",marginTop:"20%"},animation:"border"}):c.a.createElement(c.a.Fragment,null,de&&c.a.createElement(_,{eventsText:A[0],eventsImage:A[1],eventsPopup:de,setEventsPopup:he,forceRefresh:Ie,setForceRefresh:ze}),ge&&c.a.createElement(H,{servicesText:G[0],servicesImage:G[1],servicesPopup:ge,setServicesPopup:be,forceRefresh:Ie,setForceRefresh:ze}),xe&&c.a.createElement(B,{descriptionsText:te,descriptionsPopup:xe,setDescriptionsPopup:ke,forceRefresh:Ie,setForceRefresh:ze}),Ne&&c.a.createElement(M,{getImage:Fe,featuredIds:F,featuredsPopup:Ne,setFeaturedsPopup:Se,forceRefresh:Ie,setForceRefresh:ze}),c.a.createElement(R.a,{indicators:!1,style:{maxHeight:W,minHeight:$}},s&&s.map((function(e){var t=e.shopName,a=e.owner,n=e.url,r=e.imageLink,o=Fe(r)?Fe(r):r;return c.a.createElement(R.a.Item,{key:"".concat(n,"-").concat(r),style:{maxHeight:W,minHeight:$}},c.a.createElement(m.b,{to:"/".concat(n)},c.a.createElement("img",{style:{minHeight:$,maxWidth:"100%"},className:"d-block carousel-image",src:o,alt:"Carousel-".concat(r)}),c.a.createElement(R.a.Caption,{style:{zIndex:"+1"}},c.a.createElement("h3",null,t),c.a.createElement("p",null,a))))}))),c.a.createElement("svg",{preserveAspectRatio:"none",height:"20%",width:"100%",style:{position:"absolute",top:376,left:0},xmlns:"http://www.w3.org/2000/svg",viewBox:"130 -70 1200 390"},c.a.createElement("path",{fill:"white","fill-opacity":"1",d:"M0,288L60,277.3C120,267,240,245,360,213.3C480,181,600,139,720,112C840,85,960,75,1080,85.3C1200,96,1320,128,1380,144L1440,160L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"})),c.a.createElement("div",{className:"pb-4",style:{backgroundColor:"white",color:"rgba(55, 63, 39, 1)"}},c.a.createElement(N.a,null,c.a.createElement(j.a,{className:"text-center justify-content-center pt-4"},c.a.createElement(x.a,{className:"pt-2",xs:2,sm:3,md:4},c.a.createElement("hr",{style:{backgroundColor:"rgba(55, 63, 39, 1)",paddingBottom:"1px"}})),c.a.createElement(x.a,{xs:8,sm:6,md:4},c.a.createElement("h1",null,"Na\u0161e v\xedna")),c.a.createElement(x.a,{className:"pt-2",xs:2,sm:3,md:4},c.a.createElement("hr",{style:{backgroundColor:"rgba(55, 63, 39, 1)",paddingBottom:"1px"}}))),c.a.createElement(j.a,{className:"text-center justify-content-center"},c.a.createElement(x.a,null,c.a.createElement("em",{style:{fontSize:"200%"}},"Tie najlep\u0161ie v\xednka z Malokarpatskej oblasti."))),c.a.createElement(De,null))),c.a.createElement("div",{className:"pt-3 pb-3"},c.a.createElement(N.a,{className:"pt-3 pb-3"},a&&c.a.createElement(j.a,null,c.a.createElement(Te,null)),c.a.createElement(j.a,{className:"text-center pt-4 pb-4"},c.a.createElement(T,{colXsSettings:6,colMdSettings:3,shopItems:h,shopId:"home",userId:t,setShouldReload:!1,shouldReload:!1,isOwner:!1})))),c.a.createElement("div",{className:"pt-3 pb-3",style:{backgroundColor:"rgba(55, 63, 39, 0.6)",color:"whitesmoke"}},c.a.createElement(N.a,{className:"pt-3 pb-3"},c.a.createElement(j.a,{className:"text-center pt-2 pb-4"},c.a.createElement(x.a,{className:"mt-4",lg:3,sm:6,xs:12},c.a.createElement("p",{style:{height:"50px"}},c.a.createElement(Z.a,{style:{fontSize:"300%"}})),c.a.createElement("h5",null,"OVEREN\xcd PREDAJCOVIA"),"Kvalitn\xe9 v\xedna od poctiv\xfdch lok\xe1lnych v\xfdrobcov, ktor\xed vykon\xe1vaj\xfa svoju pr\xe1cu telom i du\u0161ou."),c.a.createElement(x.a,{className:"mt-4",lg:3,sm:6,xs:12},c.a.createElement("p",{style:{height:"50px"}},c.a.createElement(f.c,{style:{fontSize:"300%",color:"whitesmoke !important"}})),c.a.createElement("h5",null,"ROZVOZ"),"ZDARMA: Pri k\xfape nad 150 Eur (Pezinok a okolie). Mo\u017en\xe1 dohoda a dovoz i \u010falej, volajte na 0948 721 868."),c.a.createElement(x.a,{className:"mt-4",lg:3,sm:6,xs:12},c.a.createElement("p",{style:{height:"50px"}},c.a.createElement(V.a,{style:{fontSize:"300%"}})),c.a.createElement("h5",null,"OSOBN\xdd ODBER"),"Sacherka Cafe, Radni\u010dn\xe9 n\xe1m. 42/5, 902 01 Pezinok. Mo\u017en\xe1 dohoda, volajte na 0948 721 868."),c.a.createElement(x.a,{className:"mt-4",lg:3,sm:6,xs:12},c.a.createElement("p",{style:{height:"50px"}},c.a.createElement(J.a,{style:{fontSize:"300%"}})),c.a.createElement("h5",null,"PLATBA"),"Hotovos\u0165ou pri dobierke, alebo be\u017en\xfdmi platobn\xfdmi kartami, \u010di cez internet banking.")))),c.a.createElement("div",null,c.a.createElement(j.a,null,c.a.createElement(Le,null),c.a.createElement(Pe,null))))},q=a(148),G=a.n(q),Q=function(e){var t=e.userData,a=Object(n.useState)(""),r=Object(l.a)(a,2),o=r[0],m=r[1],s=Object(n.useState)(""),i=Object(l.a)(s,2),u=i[0],p=i[1],d=t.fullName,h=t._id;return c.a.createElement(P.SlideDown,{className:"my-dropdown-slidedown"},c.a.createElement(N.a,null,c.a.createElement("br",null),c.a.createElement(j.a,null,c.a.createElement(x.a,{className:"text-center"},c.a.createElement("h1",null,"Create new shop!"),c.a.createElement("p",null,"Please fill out the form below and shortly after, your very own shop will be generated."))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{md:6,className:"form-group"},c.a.createElement("label",{htmlFor:"shopName"},"Name your shop:"),c.a.createElement("input",{value:o,className:"form-control",type:"text",name:"shopName",onChange:function(e){return m(e.target.value)}}))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{md:6,className:"form-group"},c.a.createElement("label",{htmlFor:"setDescription"},"Add a brief description to your shop:"),c.a.createElement("textarea",{value:u,className:"form-control",type:"text",name:"setDescription",onChange:function(e){return p(e.target.value)}}))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{md:6,className:"text-center"},c.a.createElement(O.a,{variant:"dark",onClick:function(){console.log(d,o,h,u,G.a.generate()),b.a.post("${process.env.REACT_APP_BACKEND_URL}/shop/add",{shopName:o,owner:d,ownerId:h,description:u,url:G.a.generate()}).then((function(e){return console.log(e.data)})).catch((function(e){return e&&console.log("Error catched: ".concat(e))})).then((function(){return window.location.reload()}))}},"Open Shop!")))),c.a.createElement("hr",null))},X=function(e){var t=e.userData,a=e.shopData,r=Object(n.useState)(!1),o=Object(l.a)(r,2),s=o[0],u=o[1],p=Object(n.useState)(""),d=Object(l.a)(p,2),h=d[0],f=d[1],E=function(e){try{return"https://vineckabucket.s3.eu-central-1.amazonaws.com/".concat(e.replace(/_/g,"-"))}catch(t){return null}};return c.a.createElement(N.a,null,c.a.createElement(j.a,null,t.isOwner&&c.a.createElement(x.a,{className:"text-center"},s?c.a.createElement(Q,{userData:t}):c.a.createElement(O.a,{style:{marginTop:"20px"},variant:"dark",onClick:function(){return u(!0)}},"New Shop"))),c.a.createElement(j.a,{className:"mt-4"},a.map((function(e){var t=e._id,a=e.shopName,n=(e.description,e.url),r=e.overviewImage;return c.a.createElement(x.a,{className:"mt-2 mb-2",style:{maxHeight:"310px"},md:4,key:t},c.a.createElement(m.b,{to:"/".concat(n)},c.a.createElement(k.a,{className:"h-100",onMouseEnter:function(){return function(){var e={};e[t]="none",f(Object(i.a)(Object(i.a)({},h),e))}()},onMouseLeave:function(){f("")},style:{textAlign:"center",color:"whitesmoke"},id:t},c.a.createElement(k.a.Img,{className:"h-100",src:E(r)?E(r):"https://miro.medium.com/max/295/1*i5iqn7xB-l0kLwsJJBYEWQ.jpeg"}),c.a.createElement(k.a.ImgOverlay,{className:"".concat("none"===h[t]?"fade-out":"fade-in"),style:{background:"rgba(52,58,64,0.4)"}},c.a.createElement("h3",{style:{paddingTop:"50%"}},a)))))}))))},ee=function(e){var t=e.userData,a=Object(n.useState)({}),r=Object(l.a)(a,2),o=r[0],m=r[1],s=Object(n.useState)(!0),i=Object(l.a)(s,2),u=i[0],p=i[1];return Object(n.useEffect)((function(){b.a.get("${process.env.REACT_APP_BACKEND_URL}/shop/").then((function(e){return m(e.data?e.data:{})})).catch((function(e){if(e)return console.log("Fetch error: ".concat(e))})).then((function(){return p(!1)}))}),[]),c.a.createElement(c.a.Fragment,null,u?c.a.createElement(U.a,{style:{marginLeft:"49%",marginTop:"20%"},animation:"border"}):c.a.createElement(X,{userData:t,shopData:o}))},te=function(e){var t=e.shoppingCart,a=void 0!==t&&t,r=e.handleLogin,o=Object(n.useState)(""),m=Object(l.a)(o,2),s=m[0],i=m[1],u=Object(n.useState)(""),p=Object(l.a)(u,2),d=p[0],h=p[1],f=Object(n.useState)(""),E=Object(l.a)(f,2),g=E[0],v=E[1],k=Object(n.useState)(""),y=Object(l.a)(k,2),S=y[0],w=y[1],C=Object(n.useState)(""),I=Object(l.a)(C,2),z=I[0],F=I[1],L=Object(n.useState)(""),D=Object(l.a)(L,2),T=D[0],R=D[1],U=Object(n.useState)(!1),_=Object(l.a)(U,2),H=_[0],B=_[1],M=Object(n.useState)(null),A=Object(l.a)(M,2),Y=A[0],Z=A[1],V=Object(n.useState)(""),J=Object(l.a)(V,2),W=J[0],$=J[1],K=Object(n.useState)(""),q=Object(l.a)(K,2),G=q[0],Q=q[1],X=Object(n.useState)(""),ee=Object(l.a)(X,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),ce=Object(l.a)(ne,2),re=ce[0],oe=ce[1],le=function(){return!!(-1!==z.search(/[0-9]/)&&-1!==z.search(/[a-z]/)&&-1!==z.search(/[A-Z]/)&&z&&z.length>7)},me=function(){return S&&null===Y&&S.match(/[a-z]+[.]?[a-z]*[@][a-z]+[.][a-z]{1,5}/gi)?"":S&&S.length>0?"invalid-input":void 0},se=function(e){return e&&e.match(/^[a-z]+$/i)?"":e&&e.length>0?"invalid-input":void 0},ie=function(){return re&&re.match(/^[a-z]+$/i)?"":re&&re.length>0?"invalid-input":void 0},ue=function(){return G&&G.match(/^[a-z ]+[0-9 ]+[/]{0,1}[a-z0-9 ]*$/i)?"":G&&G.length>0?"invalid-input":void 0},pe=function(){return W&&W.match(/^[+]?[0-9]{6,14}[0-9]$/)?"":W&&W.length>0?"invalid-input":void 0},de=function(){return te&&te.match(/^[0-9]{5}$/)?"":te&&te.length>0?"invalid-input":void 0};return Object(n.useEffect)((function(){B(!(!z||!T||z!==T))}),[T]),c.a.createElement(P.SlideDown,{className:"my-dropdown-slidedown"},c.a.createElement(N.a,null,c.a.createElement("br",null),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement("h2",null,"Sign up!"))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement("label",{htmlFor:"firstName"},"Meno:"),c.a.createElement("input",{className:"form-control text-center ".concat(se(s)),type:"text",name:"firstName",value:s,onChange:function(e){return i(e.target.value&&e.target.value[0].toUpperCase()+e.target.value.substring(1))}})),c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement("label",{htmlFor:"middleName"},"Stredn\xe9 meno (volite\u013en\xe9):"),c.a.createElement("input",{className:"form-control text-center ".concat(se(d)),type:"text",name:"middleName",value:d,onChange:function(e){return h(e.target.value&&e.target.value[0].toUpperCase()+e.target.value.substring(1))}})),c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement("label",{htmlFor:"lastName"},"Priezvisko:"),c.a.createElement("input",{className:"form-control text-center ".concat(se(g)),type:"text",name:"lastName",value:g,onChange:function(e){return v(e.target.value&&e.target.value[0].toUpperCase()+e.target.value.substring(1))}})),c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement("label",{htmlFor:"email"},"E-mail:"),c.a.createElement("input",{className:"form-control text-center ".concat(me()),type:"text",name:"email",value:S,onChange:function(e){return w(e.target.value)},onBlur:function(){b.a.get("${process.env.REACT_APP_BACKEND_URL}/users/email/".concat(S)).then((function(e){return Z(e.data)})).catch((function(e){return e&&console.log("Error: ".concat(e))}))}})),c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement("label",{htmlFor:"phone"},"Telefon:"),c.a.createElement("input",{className:"form-control text-center ".concat(pe()),type:"text",name:"phone",value:W,onChange:function(e){return $(e.target.value&&e.target.value.substring(0,16))}})),c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement("label",{htmlFor:"street"},"Ulica a \u010d\xedslo domu:"),c.a.createElement("input",{className:"form-control text-center ".concat(ue()),type:"text",name:"street",value:G,onChange:function(e){return Q(e.target.value&&e.target.value[0].toUpperCase()+e.target.value.substring(1))}})),c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement("label",{htmlFor:"postal"},"PS\u010c:"),c.a.createElement("input",{className:"form-control text-center ".concat(de()),type:"text",name:"postal",value:te,onChange:function(e){return ae(e.target.value&&e.target.value.substring(0,5))}})),c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement("label",{htmlFor:"city"},"Mesto:"),c.a.createElement("input",{className:"form-control text-center ".concat(ie()),type:"text",name:"city",value:re,onChange:function(e){return oe(e.target.value)}})),c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement("label",{htmlFor:"passwordFirst"},"Nov\xe9 heslo:"),c.a.createElement("input",{className:"form-control text-center ".concat(!le()&&z.length>0?"invalid-input":""),type:"password",name:"passwordFirst",value:z,onChange:function(e){return F(e.target.value)}})),c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement("label",{htmlFor:"passwordSecond"},"Zopakova\u0165 heslo:"),c.a.createElement("input",{className:"form-control text-center",type:"password",name:"passwordSecond",value:T,onChange:function(e){return R(e.target.value)}}))),le()?null:c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{md:6,className:"text-center mt-3"},c.a.createElement("em",{style:{color:"#7b1818"}},"Heslo mus\xed ma\u0165 8 znakov a mus\xed pozost\xe1va\u0165 z najmenej jedn\xe9ho ve\u013ek\xe9ho, mal\xe9ho p\xedsmena a mus\xed obsahova\u0165 minim\xe1lne jednu \u010d\xedslicu."))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{md:6,className:"text-center mt-3"},Y&&c.a.createElement(c.a.Fragment,null,c.a.createElement("em",{style:{color:"#7b1818"}},"Tento e-mail u\u017e existuje v na\u0161om syst\xe9me."),c.a.createElement("br",null),c.a.createElement("br",null)),le()&&!H&&c.a.createElement(c.a.Fragment,null,c.a.createElement("em",{style:{color:"#7b1818"}},"Hesl\xe1 musia by\u0165 rovnak\xe9!")))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{md:6,className:"text-center mt-3"},""===me()&&""===se(s)&&""===se(g)&&le()&&""===pe()&&""===ue()&&""===de()&&""===ie()&&H&&null===Y?c.a.createElement(O.a,{onClick:function(){var e=d?s+" "+d+" "+g:s+" "+g,t="".concat(G,",").concat(te.toString(),",").concat(re);console.log(typeof W,W,typeof t,t),b.a.post("${process.env.REACT_APP_BACKEND_URL}/users/add-user",{userName:S,password:T,fullName:e,email:S,phone:W,address:t}).then((function(e){return console.log(e.data)})).catch((function(e){return e&&console.log("Error: ".concat(e))})).then((function(){return a?r():window.location.reload()}))},variant:"dark"},"Prihl\xe1si\u0165 sa!"):c.a.createElement(O.a,{disabled:!0,variant:"dark"},"Prihl\xe1si\u0165 sa!")))))},ae=function(e){var t=e.shoppingCart,a=void 0!==t&&t,r=Object(n.useState)("display-none"),o=Object(l.a)(r,2),m=o[0],s=o[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),p=u[0],d=u[1];return c.a.createElement(N.a,null,c.a.createElement(P.SlideDown,{className:"my-dropdown-slidedown"},c.a.createElement("br",null),c.a.createElement(j.a,null,c.a.createElement(x.a,{className:"text-center"},c.a.createElement("h2",null,"Sign in!"))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement("form",{action:a?"${process.env.REACT_APP_BACKEND_URL}/login?shopping=cart":"${process.env.REACT_APP_BACKEND_URL}/login",method:"post"},c.a.createElement("input",{className:"form-control text-center",type:"text",placeholder:"e-mail",name:"username"}),c.a.createElement("br",null),c.a.createElement("input",{className:"form-control text-center",type:"password",placeholder:"heslo",name:"password"}),c.a.createElement("br",null),c.a.createElement("input",{className:"btn btn-dark",id:"sub",type:"submit",value:"Sign in!"})))),c.a.createElement("hr",null),!a&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"".concat(p)},c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement(O.a,{onClick:function(){s(""),d("display-none")},variant:"dark"},"E\u0161te nem\xe1m prihl\xe1senie.")))),c.a.createElement("div",{className:"".concat(m)},c.a.createElement(te,null)))))},ne=function(e){var t=e.showAddItems,a=e.setShowAddItems,r=e.shopData,o=Object(n.useState)(""),m=Object(l.a)(o,2),s=m[0],i=m[1],u=Object(n.useState)(""),p=Object(l.a)(u,2),d=p[0],h=p[1],f=Object(n.useState)(""),E=Object(l.a)(f,2),g=E[0],v=E[1],k=Object(n.useState)(""),y=Object(l.a)(k,2),N=y[0],S=y[1],w=Object(n.useState)(!1),C=Object(l.a)(w,2),D=C[0],T=C[1],R=Object(n.useState)(""),U=Object(l.a)(R,2),_=U[0],H=U[1],B=Object(n.useState)(""),M=Object(l.a)(B,2),A=M[0],Y=M[1],Z=Object(n.useState)(""),V=Object(l.a)(Z,2),J=V[0],W=V[1],$=Object(n.useState)(""),K=Object(l.a)($,2),q=K[0],G=K[1],Q=r._id,X=function(e){try{return"https://vineckabucket.s3.eu-central-1.amazonaws.com/".concat(e.replace(/_/g,"-"))}catch(t){return null}};Object(n.useEffect)((function(){(X(N)?X(N):N)&&N&&g&&d&&s&&A&&T(!0)}),[N,g,d,s,A]);return c.a.createElement(F.a,{show:t,onHide:function(){return S(""),i(""),h(""),v(""),T(!1),void a(!1)}},c.a.createElement(F.a.Header,{closeButton:!0},c.a.createElement(F.a.Title,null,"Add an item to your shop.")),c.a.createElement(F.a.Body,null,c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{className:"form-group"},c.a.createElement("label",{htmlFor:"shopName"},"Name your item:"),c.a.createElement("input",{value:s,className:"form-control",type:"text",name:"shopName",onChange:function(e){return i(e.target.value)}}))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{className:"form-group"},c.a.createElement("label",{htmlFor:"price"},"Price:"),c.a.createElement("input",{value:d,className:"form-control",type:"text",name:"price",onChange:function(e){return h(e.target.value)}}))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{className:"form-group"},c.a.createElement("label",{htmlFor:"color"},"Farba:"),c.a.createElement("input",{value:A,className:"form-control",type:"text",name:"color",placeholder:"povinne",onChange:function(e){return Y(e.target.value)}}))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{className:"form-group"},c.a.createElement("label",{htmlFor:"taste"},"Chut:"),c.a.createElement("input",{value:q,className:"form-control",type:"text",name:"taste",onChange:function(e){return G(e.target.value)}}))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{className:"form-group"},c.a.createElement("label",{htmlFor:"type"},"Druh:"),c.a.createElement("input",{value:J,className:"form-control",type:"text",name:"type",onChange:function(e){return W(e.target.value)}}))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,null,c.a.createElement("label",{htmlFor:"sizes"},"Maximalny pocet flias v jednej objednavke:"))),c.a.createElement(j.a,null,c.a.createElement(x.a,{className:"form-group"},c.a.createElement(L.a,null,c.a.createElement("input",{value:_,className:"form-control",type:"number",name:"sizes",onChange:function(e){return H(e.target.value)},placeholder:"Nechaj prazdne ak nieje hranica"})))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{className:"form-group"},c.a.createElement("label",{htmlFor:"description"},"Description:"),c.a.createElement("textarea",{maxLength:"230",value:g,className:"form-control",name:"description",type:"text",style:{resize:"none",minHeight:"100px"},onChange:function(e){return v(e.target.value)}}))),c.a.createElement("br",null),c.a.createElement(P.SlideDown,{className:"my-dropdown-slidedown"},c.a.createElement(j.a,null,c.a.createElement(x.a,null,c.a.createElement(I.a,{maxFiles:1,multiple:!1,canCancel:!1,getUploadParams:function(e){e.meta;return{url:"${process.env.REACT_APP_BACKEND_URL}/fileUpload/".concat(Q)}},onChangeStatus:function(e,t){var a=e.meta;e.file;"removed"===t&&function(e){b.a.get("${process.env.REACT_APP_BACKEND_URL}/deleteFile/".concat(Q),{params:e}).then((function(){})).catch((function(e){return e&&console.log(e)}))}(a),"done"===t&&S("".concat(Q,"-").concat(a.name))},accept:"image/*",inputContent:function(){return c.a.createElement("p",{className:"text-center",key:"label",style:{marginTop:"15px",color:"#333333"}},"Drop or click to choose image.",c.a.createElement("br",null),c.a.createElement(z.b,null))},classNames:{dropzone:"dropzoning"}}))))),c.a.createElement(F.a.Footer,null,D?c.a.createElement(O.a,{variant:"dark",onClick:function(){N&&g&&d&&s&&A&&b.a.post("${process.env.REACT_APP_BACKEND_URL}/shop/".concat(Q,"/add-item"),{itemName:s,price:d,description:g,imageLink:N,maxCount:_,color:A,type:J,taste:q}).then((function(){return a(!1)})).catch((function(e){return e&&console.log(e)}))}},"Save Item"):c.a.createElement(O.a,{disabled:!0,variant:"dark"},"Save Item")))},ce=function(e){var t=e.shopData,a=e.isOwner,r=e.userId,o=Object(n.useState)(!1),m=Object(l.a)(o,2),s=m[0],i=m[1],u=Object(n.useState)(t.shopItems),p=Object(l.a)(u,2),d=p[0],h=p[1],E=Object(n.useState)(!1),g=Object(l.a)(E,2),v=g[0],y=g[1],S=t._id;return Object(n.useEffect)((function(){s||y(!v)}),[s]),Object(n.useEffect)((function(){b.a.get("${process.env.REACT_APP_BACKEND_URL}/shop/".concat(S)).then((function(e){return h(e.data.shopItems)})).catch((function(e){return e&&console.log(e.data)})).then((function(){}))}),[v]),c.a.createElement(N.a,{className:"text-center"},a&&c.a.createElement(ne,{shopData:t,showAddItems:s,setShowAddItems:i}),c.a.createElement(j.a,null,c.a.createElement(T,{shopItems:d,userId:r,shopId:S,setShouldReload:y,shouldReload:v,isOwner:a}),a&&c.a.createElement(x.a,{className:"mt-2 mb-2",md:6,lg:4,xl:3},c.a.createElement(k.a,{style:{height:"400px"}},c.a.createElement(O.a,{variant:"outline-light",style:{border:"0px",height:"100%"},onClick:function(){return i(!0)}},c.a.createElement(f.a,{style:{margin:"0 auto",fontSize:"400%"}}))))))},re=a(242),oe=function(e){var t=e.shopData,a=e.isOwner,r=Object(s.f)(),o=t.url,m=Object(n.useState)(o),i=Object(l.a)(m,2),u=i[0],p=i[1],d=Object(n.useState)(o),h=Object(l.a)(d,2),f=h[0],E=h[1],g=Object(n.useState)(!0),v=Object(l.a)(g,2),k=v[0],y=v[1],C=Object(n.useState)(!1),F=Object(l.a)(C,2),D=F[0],T=F[1],R=Object(n.useState)(t.shopName),U=Object(l.a)(R,2),_=U[0],H=U[1],B=Object(n.useState)(""),M=Object(l.a)(B,2),A=M[0],Y=M[1],Z=Object(n.useState)(t.description),V=Object(l.a)(Z,2),J=V[0],W=V[1],$=Object(n.useState)(t.owner),K=Object(l.a)($,2),q=K[0],G=K[1],Q=Object(n.useState)(""),X=Object(l.a)(Q,2),ee=X[0],te=X[1],ae=Object(n.useState)(""),ne=Object(l.a)(ae,2),ce=ne[0],oe=ne[1],le=Object(n.useState)(t.imageLink?t.imageLink:""),me=Object(l.a)(le,2),se=me[0],ie=(me[1],Object(n.useState)(!1)),ue=Object(l.a)(ie,2),pe=ue[0],de=ue[1],he=Object(n.useState)(!1),fe=Object(l.a)(he,2),Ee=fe[0],ge=fe[1],be=Object(n.useState)(t.textColor),ve=Object(l.a)(be,2),je=ve[0],xe=ve[1];Object(n.useEffect)((function(){je!==t.textColor&&b.a.put("${process.env.REACT_APP_BACKEND_URL}/shop/".concat(t._id,"/update-shop/textColor/").concat(je)).then((function(e){})).catch((function(e){return e&&Oe(e)}))}),[je]);var ke=function(e){try{return"https://vineckabucket.s3.eu-central-1.amazonaws.com/".concat(e.replace(/_/g,"-"))}catch(t){return null}};Object(n.useEffect)((function(){ee&&b.a.put("${process.env.REACT_APP_BACKEND_URL}/shop/".concat(t._id,"/update-shop/imageLink/").concat(ee)).then((function(e){})).catch((function(e){return e&&Oe(e)}))}),[ee]),Object(n.useEffect)((function(){ce&&b.a.put("${process.env.REACT_APP_BACKEND_URL}/shop/".concat(t._id,"/update-shop/overviewImage/").concat(ce)).then((function(e){})).catch((function(e){return e&&Oe(e)}))}),[ce]),Object(n.useEffect)((function(){b.a.get("${process.env.REACT_APP_BACKEND_URL}/shop/link/".concat(u)).then((function(e){e.data&&u!==f?y(!1):y(!0)})).catch((function(e){return e&&console.log(e)}))}),[u]);var Oe=function(e){return console.log("Error connecting to the database: ",e),Y("Chyba pri aktualizacii dat, data neboli upravene v databaze."),setTimeout((function(){return Y("")}),5e3)};return c.a.createElement(re.a,{style:{color:"white"===je?"whitesmoke":"#333333",fontSize:"120%",background:"url(".concat(ke(se)?ke(se):"",") no-repeat"),backgroundSize:"cover"},fluid:!0},c.a.createElement(N.a,{className:"text-center"},D?c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,{className:"justify-content-md-center pb-2"},c.a.createElement(x.a,{className:"text-center"},c.a.createElement(O.a,{variant:"".concat("white"===je?"light":"dark"),onClick:function(){return xe("white")}},"Biely text"),"\xa0\xa0\xa0\xa0",c.a.createElement(O.a,{variant:"".concat("white"===je?"dark":"light"),onClick:function(){return xe("black")}},"Cierny text"))),c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(O.a,{onClick:function(e){b.a.delete("${process.env.REACT_APP_BACKEND_URL}/shop/".concat(t._id)).then((function(){return r.push("/vinarne")})).catch((function(e){return e&&console.log("Error ".concat(e))}))},style:{width:"40px",height:"40px",marginBottom:"-40px",zIndex:"+5"},variant:"outline-danger"},c.a.createElement(w.b,{style:{fontSize:"150%",margin:"0 0 15px -5px"}})),c.a.createElement(x.a,{xs:8},c.a.createElement("input",{className:"form-control text-center",value:_,onChange:function(e){return H(e.target.value)},onBlur:function(){_&&b.a.put("${process.env.REACT_APP_BACKEND_URL}/shop/".concat(t._id,"/update-shop/shopName/").concat(_)).then((function(e){})).catch((function(e){return e&&Oe(e)}))},name:"shopName",placeholder:"Nazov"}),c.a.createElement("textarea",{style:{minHeight:"100px"},className:"form-control text-center",value:J,onChange:function(e){return W(e.target.value)},onBlur:function(){J&&b.a.put("${process.env.REACT_APP_BACKEND_URL}/shop/".concat(t._id,"/update-shop/description/").concat(J)).then((function(e){})).catch((function(e){return e&&Oe(e)}))},name:"description",placeholder:"Popis"}),c.a.createElement("input",{className:"form-control text-center",value:q,onChange:function(e){return G(e.target.value)},onBlur:function(){q&&b.a.put("${process.env.REACT_APP_BACKEND_URL}/shop/".concat(t._id,"/update-shop/owner/").concat(q)).then((function(e){})).catch((function(e){return e&&Oe(e)}))},name:"owner",placeholder:"Majitel"}),c.a.createElement("div",null,c.a.createElement(L.a,null,c.a.createElement("p",{style:{marginRight:10,marginTop:5}},"www.vimko.sk/"),c.a.createElement("input",{className:k?"form-control text-center":"text-center form-control invalid-input",value:u,onChange:function(e){return p(e.target.value)},name:"currentUrl",onBlur:function(){k&&b.a.put("${process.env.REACT_APP_BACKEND_URL}/shop/".concat(t._id,"/update-shop/url/").concat(u)).then((function(e){return E(u)})).catch((function(e){return e&&Oe(e)})).then((function(){return r.push("/".concat(u))}))}})),!k&&c.a.createElement("p",{style:{color:"red"}},"Adresa uz existuje, vyberte prosim inu.")))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{className:"text-center"},c.a.createElement(O.a,{variant:"dark",onClick:function(){return ge(!1),void de(!0)}},"Upload title image"),"\xa0\xa0\xa0\xa0",c.a.createElement(O.a,{variant:"dark",onClick:function(){return de(!1),void ge(!0)}},"Upload overview image")))):c.a.createElement(j.a,{style:{padding:"15px",backgroundColor:"white"===je?"rgba(0,0,0,0.25)":"rgba(255,255,255,0.25)",borderRadius:"7.5px"}},c.a.createElement(x.a,null,c.a.createElement("h2",null,_),c.a.createElement("p",null,J),c.a.createElement("p",null,q))),(pe||Ee)&&D?c.a.createElement(P.SlideDown,{className:"my-dropdown-slidedown"},c.a.createElement(j.a,null,c.a.createElement(x.a,null,c.a.createElement(I.a,{maxFiles:1,multiple:!1,canCancel:!1,getUploadParams:function(e){e.meta;return{url:"${process.env.REACT_APP_BACKEND_URL}/fileUpload/".concat(t._id)}},onChangeStatus:function(e,a){var n=e.meta;e.file;"removed"===a&&function(e){b.a.get("${process.env.REACT_APP_BACKEND_URL}/deleteFile/".concat(t._id),{params:e}).then((function(){})).catch((function(e){return e&&console.log(e)}))}(n),"done"===a&&(pe?te("".concat(t._id,"-").concat(n.name.replace(/_/g,"-"))):Ee&&oe("".concat(t._id,"-").concat(n.name.replace(/_/g,"-"))))},accept:"image/*",inputContent:function(){return c.a.createElement("p",{className:"text-center",key:"label",style:{marginTop:"15px",color:"#333333"}},"Drop or click to choose ",pe?"title":"overview"," image.",c.a.createElement("br",null),c.a.createElement(z.b,null))},classNames:{dropzone:"dropzoning"}})))):null,a&&c.a.createElement(j.a,{className:"mt-4"},c.a.createElement(x.a,null,c.a.createElement(S.a,{style:{display:"".concat(A?"block":"none")},variant:"danger"},A),k?c.a.createElement(O.a,{onClick:function(){return T(!D)},variant:"dark"},D?"Hotovo":"Upravit"):c.a.createElement(O.a,{disabled:!0,onClick:function(){return T(!D)},variant:"dark"},D?"Hotovo":"Upravit")))))},le=function(e){var t=e.shopData,a=e.isOwner,n=e.userId;return c.a.createElement(c.a.Fragment,null,c.a.createElement(oe,{shopData:t,isOwner:a}),c.a.createElement(ce,{shopData:t,isOwner:a,userId:n}))},me=function(e){var t=e.userId,a=e.isOwner,r=Object(s.h)().shopUrl,o=Object(n.useState)(!0),m=Object(l.a)(o,2),i=m[0],u=m[1],p=Object(n.useState)({}),d=Object(l.a)(p,2),h=d[0],f=d[1],E=Object(n.useState)(!0),g=Object(l.a)(E,2),v=g[0],j=g[1];return Object(n.useEffect)((function(){b.a.get("${process.env.REACT_APP_BACKEND_URL}/shop/link/".concat(r)).then((function(e){return e.data?f(e.data):f({})})).catch((function(e){return e&&console.log(e)})).then((function(){h._id&&u(!1),j(!1)}))}),[]),v?c.a.createElement(U.a,{style:{marginLeft:"49%",marginTop:"20%"},animation:"border"}):i&&h._id?c.a.createElement(le,{shopData:h,isOwner:a,userId:t}):c.a.createElement("h5",{style:{marginTop:"20%"},className:"text-center"},"Pod adresou ${process.env.REACT_APP_BACKEND_URL}/",r," e\u0161te neexistuje \u017eiadna vin\xe1re\u0148, ak si vin\xe1r a chce\u0161 u n\xe1s pred\xe1va\u0165, nev\xe1haj n\xe1s kontaktova\u0165.")},se=a(149),ie=a.n(se),ue=a(243),pe=a(81),de=a(154),he=a(245),fe=function(e){var t=e.setUserInformation,a=Object(n.useState)(""),r=Object(l.a)(a,2),o=r[0],m=r[1],s=Object(n.useState)(""),i=Object(l.a)(s,2),u=i[0],p=i[1],d=Object(n.useState)(""),h=Object(l.a)(d,2),f=h[0],E=h[1],g=Object(n.useState)(""),b=Object(l.a)(g,2),v=b[0],k=b[1],O=Object(n.useState)(""),y=Object(l.a)(O,2),S=y[0],w=y[1],C=Object(n.useState)(""),I=Object(l.a)(C,2),z=I[0],F=I[1],L=Object(n.useState)(""),D=Object(l.a)(L,2),T=D[0],R=D[1],U=Object(n.useState)(""),_=Object(l.a)(U,2),H=_[0],B=_[1];Object(n.useEffect)((function(){console.log("check"),""===M()&&""===A(o)&&""===A(f)&&""===V()&&""===Z()&&""===J()&&""===Y()?function(){var e=u?o+" "+u+" "+f:o+" "+f,a="".concat(z,",").concat(T.toString(),",").concat(H);t({fullName:e,email:v,phone:S,address:a})}():t("")}),[o,f,v,z,H,T,S]);var M=function(){return v&&v.match(/[a-z]+[.]?[a-z]*[@][a-z]+[.][a-z]{1,5}/gi)?"":v&&v.length>0?"invalid-input":void 0},A=function(e){return e&&e.match(/^[a-z]+$/i)?"":e&&e.length>0?"invalid-input":void 0},Y=function(){return H&&H.match(/^[a-z]+$/i)?"":H&&H.length>0?"invalid-input":void 0},Z=function(){return z&&z.match(/^[a-z ]+[0-9 ]+[/]{0,1}[a-z0-9 ]*$/i)?"":z&&z.length>0?"invalid-input":void 0},V=function(){return S&&S.match(/^[+]?[0-9]{6,14}[0-9]$/)?"":S&&S.length>0?"invalid-input":void 0},J=function(){return T&&T.match(/^[0-9]{5}$/)?"":T&&T.length>0?"invalid-input":void 0};return c.a.createElement(P.SlideDown,{className:"my-dropdown-slidedown"},c.a.createElement(N.a,null,c.a.createElement("br",null),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement("label",{htmlFor:"firstName"},"Meno:"),c.a.createElement("input",{className:"form-control text-center ".concat(A(o)),type:"text",name:"firstName",value:o,onChange:function(e){return m(e.target.value&&e.target.value[0].toUpperCase()+e.target.value.substring(1))}})),c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement("label",{htmlFor:"middleName"},"Stredn\xe9 meno (volite\u013en\xe9):"),c.a.createElement("input",{className:"form-control text-center ".concat(A(u)),type:"text",name:"middleName",value:u,onChange:function(e){return p(e.target.value&&e.target.value[0].toUpperCase()+e.target.value.substring(1))}})),c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement("label",{htmlFor:"lastName"},"Priezvisko:"),c.a.createElement("input",{className:"form-control text-center ".concat(A(f)),type:"text",name:"lastName",value:f,onChange:function(e){return E(e.target.value&&e.target.value[0].toUpperCase()+e.target.value.substring(1))}})),c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement("label",{htmlFor:"email"},"E-mail:"),c.a.createElement("input",{className:"form-control text-center ".concat(M()),type:"text",name:"email",value:v,onChange:function(e){return k(e.target.value)}})),c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement("label",{htmlFor:"phone"},"Telefon:"),c.a.createElement("input",{className:"form-control text-center ".concat(V()),type:"text",name:"phone",value:S,onChange:function(e){return w(e.target.value&&e.target.value.substring(0,16))}})),c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement("label",{htmlFor:"street"},"Ulica a cislo domu:"),c.a.createElement("input",{className:"form-control text-center ".concat(Z()),type:"text",name:"street",value:z,onChange:function(e){return F(e.target.value&&e.target.value[0].toUpperCase()+e.target.value.substring(1))}})),c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement("label",{htmlFor:"postal"},"PS\u010c:"),c.a.createElement("input",{className:"form-control text-center ".concat(J()),type:"text",name:"postal",value:T,onChange:function(e){return R(e.target.value&&e.target.value.substring(0,5))}})),c.a.createElement(x.a,{md:6,className:"text-center mt-1"},c.a.createElement("label",{htmlFor:"city"},"Mesto:"),c.a.createElement("input",{className:"form-control text-center ".concat(Y()),type:"text",name:"city",value:H,onChange:function(e){return B(e.target.value)}}))),c.a.createElement(j.a,{className:"justify-content-md-center"},c.a.createElement(x.a,{md:6,className:"text-center mt-3"}))))},Ee=a(112),ge=function(e){var t=e.userId,a=Object(n.useRef)(null),r=Object(n.useState)(""),o=Object(l.a)(r,2),m=o[0],s=o[1],i=Object(n.useState)(!1),u=Object(l.a)(i,2),p=u[0],d=u[1],h=Object(n.useState)(""),f=Object(l.a)(h,2),E=f[0],g=f[1],k=Object(n.useState)(!1),y=Object(l.a)(k,2),S=y[0],w=y[1],C=Object(n.useState)(!1),I=Object(l.a)(C,2),z=I[0],F=I[1],L=Object(n.useState)(!1),P=Object(l.a)(L,2),D=P[0],T=P[1],R=Object(n.useState)(!1),_=Object(l.a)(R,2),H=_[0],B=_[1],M=Object(n.useState)(Object(de.a)()),A=Object(l.a)(M,2),Y=A[0],Z=(A[1],Object(n.useState)({})),V=Object(l.a)(Z,2),J=V[0],W=V[1],$=Object(n.useState)(!1),K=Object(l.a)($,2),q=K[0],G=K[1],Q=function(){return a.current.scrollIntoView({behavior:"smooth",block:"start"})},X=function(e){var a,n=[],c=Object(pe.a)(e);try{var r=function(){var e=a.value;b.a.get("${process.env.REACT_APP_BACKEND_URL}/shop/".concat(e.shopId)).then((function(a){if(a.data&&a.data.shopName){var c=a.data,r=c.shopName,o=c.owner,l=a.data.shopItems,m=e.count,s=e.itemId,i=l.find((function(t){return t._id===e.itemId}));if(void 0===i)b.a.post("${process.env.REACT_APP_BACKEND_URL}/users/".concat(t,"/cart/delete-cart-item/").concat(e.shopId,"/").concat(e.itemId)).then((function(e){return console.log(e)})).catch((function(e){return e&&console.log("could not delete item",e)}));else{var u=i.itemName,p=i.price,d=i.imageLink,h=n.findIndex((function(t){return t.shopId===e.shopId}));if(h>=0){var f=n[h].itemData,E=f.findIndex((function(e){return e.itemId===s}));if(-1!==E){var g=n[h].itemData[E].count;n[h].itemData[E].count=Number(m)+Number(g)}else n[h].itemData=[].concat(Object(v.a)(f),[{itemId:s,itemName:u,price:p,imageLink:d,count:m}])}else{var j=e.shopId;n=[].concat(Object(v.a)(n),[{shopId:j,shopName:r,owner:o,itemData:[{itemId:s,itemName:u,price:p,imageLink:d,count:m}]}])}}}})).catch((function(e){if(e)return console.log(e)})).then((function(){return s(Object(v.a)(n))}))};for(c.s();!(a=c.n()).done;)r()}catch(o){c.e(o)}finally{c.f()}};Object(n.useEffect)((function(){B(!0);var e=localStorage.getItem("shoppingCart");if(t){var a=e?JSON.parse(e):[];if(0!==a.length)(function(){var e=Object(ue.a)(ie.a.mark((function e(){var n,c,r,o,l,m;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(pe.a)(a),e.prev=1,n.s();case 3:if((c=n.n()).done){e.next=11;break}return r=c.value,o=r.shopId,l=r.itemId,m=r.count,console.log("importing item ",l),e.next=9,b.a.post("${process.env.REACT_APP_BACKEND_URL}/users/".concat(t,"/cart/add-cart-item/").concat(o,"/").concat(l),{shopId:o,itemId:l,count:m}).then((function(e){return console.log(e)})).catch((function(e){return e&&console.log(e)}));case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:localStorage.removeItem("shoppingCart"),console.log("Importing done.");case 21:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(){return e.apply(this,arguments)}})()();b.a.get("${process.env.REACT_APP_BACKEND_URL}/users/".concat(t)).then((function(e){if(e.data){var t=e.data,n=t.shoppingCart,c=t.fullName,r=t.email,o=t.phone,l=t.address;X([].concat(Object(v.a)(n),Object(v.a)(a))),g({fullName:c,email:r,phone:o,address:l})}})).catch((function(e){return e&&console.log(e)}))}else{var n=localStorage.getItem("shoppingCart");n&&X(JSON.parse(n))}B(!1)}),[p]);var ee=function(e){try{return"https://vineckabucket.s3.eu-central-1.amazonaws.com/".concat(e.replace(/_/g,"-"))}catch(t){return null}},ne=function(e,a){return e.map((function(e,n){return c.a.createElement(x.a,{"data-id":"".concat(e.itemId),md:3,xs:6,lg:2,key:"".concat(e.itemId),style:{textAlign:"center"}},c.a.createElement(he.a,{src:ee(e.imageLink)?ee(e.imageLink):"",rounded:!0,style:{height:75}}),c.a.createElement("h6",null,e.itemName),c.a.createElement("p",null,"Count: ",e.count,c.a.createElement("br",null),e.price," \u20ac"),c.a.createElement(O.a,{style:{position:"absolute",right:"20%",top:0},onClick:function(n){return function(e,a,n){if(t)b.a.post("${process.env.REACT_APP_BACKEND_URL}/users/".concat(t,"/cart/delete-cart-item/").concat(n,"/").concat(a)).then((function(e){return console.log(e)})).catch((function(e){return e&&console.log("could not delete item",e)})).then((function(){return d(!p)})),1===m.length&&s("");else{var c=JSON.parse(localStorage.getItem("shoppingCart")).filter((function(e){return e.itemId!==a}));localStorage.removeItem("shoppingCart"),console.log(c,m),0!==c.length?localStorage.setItem("shoppingCart",JSON.stringify(c)):s(""),d(!p)}}(0,e.itemId,a)},variant:"danger",size:"sm"},"X"))}))},ce=function(){setTimeout((function(){return Q()}),500),F(!1),T(!1),w(!0)};return c.a.createElement(N.a,{style:{paddingTop:"50px"}},J&&q&&c.a.createElement(Ee.a,{orderInfo:J,setPaymentPopup:G,paymentPopup:q}),H?c.a.createElement(U.a,{style:{marginLeft:"49%",marginTop:"20%"},animation:"border"}):m&&m.sort().map((function(e){return c.a.createElement(j.a,{key:e.shopId,style:{marginBottom:"15px"}},c.a.createElement(x.a,{style:{marginBottom:"50px"},xs:12},c.a.createElement("hr",null),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},c.a.createElement("div",null,c.a.createElement("h4",null,e.shopName)),c.a.createElement("div",{className:"text-right"},c.a.createElement("h5",null,"Suma: ",function(e){var t,a=0,n=Object(pe.a)(e);try{for(n.s();!(t=n.n()).done;){var c=t.value;a+=Number(c.price.replace(/,/g,"."))*c.count}}catch(r){n.e(r)}finally{n.f()}return a}(e.itemData).toFixed(2).toString().replace(/\./g,",")," \u20ac")))),ne(e.itemData,e.shopId))})),c.a.createElement(j.a,{className:"text-center"},c.a.createElement(x.a,null,!E&&m&&c.a.createElement("p",null,c.a.createElement(O.a,{className:"mt-2",onClick:function(){return setTimeout((function(){return Q()}),500),w(!1),T(!1),void F(!0)},variant:"dark"},"Dorucovacie udaje s registraciou"),"\xa0\xa0",c.a.createElement(O.a,{className:"mt-2",onClick:function(){return ce()},variant:"dark"},"Mam ucet a chcem sa prihlasit"),"\xa0\xa0",c.a.createElement(O.a,{className:"mt-2",onClick:function(){return setTimeout((function(){return Q()}),500),w(!1),F(!1),void T(!0)},variant:"dark"},"Dorucovacie udaje bez registracie")))),c.a.createElement(j.a,{ref:a,className:"text-center"},S&&c.a.createElement(ae,{shoppingCart:!0}),z&&c.a.createElement(te,{shoppingCart:!0,handleLogin:ce}),D&&c.a.createElement(fe,{setUserInformation:g})),c.a.createElement(j.a,{className:"text-center"},c.a.createElement("br",null),c.a.createElement("br",null),m&&function(){var e=0;return m.map((function(t){return t.itemData.map((function(t){return e+=Number(t.price.replace(/,/g,"."))*t.count}))})),c.a.createElement(x.a,null,c.a.createElement("h3",null,"Finalna suma: ",e.toFixed(2).toString().replace(/\./g,",")," \u20ac"))}()),c.a.createElement(j.a,{className:"text-center"},c.a.createElement(x.a,null,E&&m.length>0?c.a.createElement(O.a,{onClick:function(){return function(){var e=0;m.map((function(t){return t.itemData.map((function(t){return e+=Number(t.price.replace(/,/g,"."))*t.count}))})),console.log(m,t,e,Object(de.a)(),E);var a=e;W({orderId:Y,userInformation:E,userId:t,shops:m,total:a,status:"vytvorena"}),G(!0),b.a.post("${process.env.REACT_APP_BACKEND_URL}/orders/add",{orderId:Y,userInformation:E,userId:t,shops:m,total:a,status:"vytvorena"}).then((function(e){})).catch((function(e){return e&&console.log(e)}))}()},variant:"dark"},"Prejst k platbe"):c.a.createElement(c.a.Fragment,null,0===m.length&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,"Nakupny kosik je moment\xe1lne prazdny."),c.a.createElement("br",null),c.a.createElement("br",null)),c.a.createElement(O.a,{disabled:!0,variant:"dark"},"Prejst k platbe")))))},be=a(51),ve=a.n(be),je=a(246),xe=function(e){var t=e.userId,a=e.isOwner,r=Object(n.useState)([]),o=Object(l.a)(r,2),m=o[0],s=o[1],u=Object(n.useState)({}),p=Object(l.a)(u,2),d=p[0],h=p[1],f=Object(n.useState)(!1),E=Object(l.a)(f,2),g=E[0],v=E[1],k=Object(n.useState)({}),O=Object(l.a)(k,2),y=O[0],S=O[1];Object(n.useEffect)((function(){b.a.get("${process.env.REACT_APP_BACKEND_URL}/orders").then((function(e){var n=e.data,c=a?n:n.filter((function(e){return e.userId===t}));s(c)})).catch((function(e){return e&&console.log(e.data)}))}),[]);var w=function(e){var t=e.passItemData,a=0;return t.map((function(e,n){var r=e.itemName,o=e.price,l=e.count,m=e.itemId;return a+=l*Number(o.replace(/,/g,".")),c.a.createElement(c.a.Fragment,{key:m},c.a.createElement(x.a,{style:{border:"1px solid #cccccc"},md:3},"(",l,") ",c.a.createElement("strong",null,r),", ",o,"\u20ac"),!t[n+1]&&c.a.createElement(x.a,{className:"text-center",style:{border:"1px solid #cccccc",backgroundColor:"rgb(245, 245, 245)"},md:2,order:12},c.a.createElement("h6",null,"spolu: ",c.a.createElement("strong",null,a.toFixed(2).toString().replace(/\./g,",")," \u20ac"))))}))},C=function(e){var t=e.passShops;return t.map((function(e,a){var n=e.shopName,r=e.itemData,o=e.shopId;return c.a.createElement(N.a,{key:o,fluid:!0},c.a.createElement(j.a,null,c.a.createElement(x.a,{md:2},c.a.createElement("h5",null,n,":"))),c.a.createElement(j.a,null,c.a.createElement(w,{passItemData:r})),t[a+1]&&c.a.createElement("hr",null))}))},I=function(e){var t=e.passUserInformation,a=e.buyerId,n=t.fullName,r=(t.email,t.phone),o=t.address,l=t.iban;return c.a.createElement("div",{className:"text-center",key:a},c.a.createElement(j.a,null,c.a.createElement(x.a,{md:{span:2,offset:1}},c.a.createElement("strong",null,n)),c.a.createElement(x.a,{md:2},c.a.createElement("strong",null,r)),c.a.createElement(x.a,{md:3},c.a.createElement("strong",null,o)),c.a.createElement(x.a,{md:{span:3}},c.a.createElement("strong",null,null!==l&&void 0!==l?l:"IBAN NENAJDENY"))),c.a.createElement("hr",null))},z=function(){return m.map((function(e){var t,n,r=e._id,o=e.orderId,l=e.userInformation,m=e.createdAt,s=e.status,u=e.shops,p=e.isShipped,f=e.total,E=e.userId,j=l.email,x="vytvorena"===s?"orange":"zaplatena"===s?"green":"odmietnuta"===s?"red":"black";return c.a.createElement("tbody",{key:o},c.a.createElement("tr",{onClick:function(){return function(e){var t,a={},n=null!==(t=y[e])&&void 0!==t&&t;a[e]=!n,S(Object(i.a)(Object(i.a)({},y),a))}(r)}},c.a.createElement("td",null,o),c.a.createElement("td",null,j),c.a.createElement("td",null,ve()(m).format("DD MMM YYYY, HH:mm:ss")),c.a.createElement("td",null,f.toFixed(2).toString().replace(/\./g,",")," \u20ac"),c.a.createElement("td",{style:{color:x}},(null!==(t=d[r])&&void 0!==t?t:p)?c.a.createElement("em",{style:{color:"blue",float:"left"}},"odoslana"):s,"zaplatena"===s&&a&&c.a.createElement("input",{style:{float:"right",cursor:"pointer",paddingBottom:"-50px"},type:"checkbox",name:"checkShipping",checked:null!==(n=d[r])&&void 0!==n?n:p,onChange:function(e){return function(e,t){var a;e.stopPropagation();var n=e.target.checked,c={},r={};c[t]=n,h(Object(i.a)(Object(i.a)({},d),c));var o=null!==(a=y[t])&&void 0!==a&&a;r[t]=o,S(Object(i.a)(Object(i.a)({},y),r)),b.a.put("${process.env.REACT_APP_BACKEND_URL}/orders/".concat(t,"/update-shipped/"),{isShipped:n}).then((function(e){return console.log(e.data)})).catch((function(e){return e&&console.log(e)})).then((function(){return v(!g)}))}(e,r)}}))),y[r]&&c.a.createElement("tr",{style:{backgroundColor:"zaplatena"===s?"#f4fff4":"odmietnuta"===s?"#ffecec":"rgb(250, 250, 250)"}},c.a.createElement("td",{colSpan:"5"},c.a.createElement(I,{passUserInformation:l,buyerId:E}),c.a.createElement(C,{passShops:u}))))}))};return c.a.createElement(je.a,{striped:!0,bordered:!0,hover:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"ID"),c.a.createElement("th",null,"Email"),c.a.createElement("th",null,"Datum"),c.a.createElement("th",null,"Total"),c.a.createElement("th",null,"Stav"))),c.a.createElement(z,null))},ke=function(e){var t=e.userId,a=new URLSearchParams(Object(s.g)().search),r=a.get("Reference"),o=a.get("ResultCode"),l=a.get("PaymentRequestId");return Object(n.useEffect)((function(){0!==r.length&&b.a.post("${process.env.REACT_APP_BACKEND_URL}/orders/".concat(r,"/process-payment/"),{paymentResultCode:o,paymentId:l}).then((function(e){return console.log(e.data)})).catch((function(e){return e&&console.log(e)})).then((function(){t&&b.a.get("${process.env.REACT_APP_BACKEND_URL}/users/".concat(t,"/cart/clear-cart")).then((function(e){return console.log(e.data)})).catch((function(e){return e&&console.log(e)})),localStorage.removeItem("shoppingCart")}))}),[]),c.a.createElement("p",{className:"text-center"},"Platba za objednavku cislo ",r," bola prijata. ",c.a.createElement("br",null),"Cislo platby ",l)},Oe=function(e){e.userId;var t=new URLSearchParams(Object(s.g)().search),a=t.get("Reference"),n=t.get("PaymentRequestId");return c.a.createElement("p",{className:"text-center",style:{color:"red"}},"Platba za objednavku cislo ",a," nepresla. ",c.a.createElement("br",null),"Referencne cislo platby ",n)},ye=function(e){var t=e.userData,a=e.shopData,r=Object(n.useState)([]),o=Object(l.a)(r,2),m=o[0],s=o[1],i=t.userId,u=Object(n.useState)([]),p=Object(l.a)(u,2),d=p[0],h=p[1],f=Object(n.useState)([]),E=Object(l.a)(f,2),g=E[0],b=E[1],k=Object(n.useState)([]),O=Object(l.a)(k,2),S=O[0],w=O[1],C=Object(n.useState)([]),I=Object(l.a)(C,2),F=I[0],L=I[1],P=Object(n.useState)(""),D=Object(l.a)(P,2),R=D[0],U=D[1],_=Object(n.useState)(""),H=Object(l.a)(_,2),B=H[0],M=H[1],A=Object(n.useState)(""),Y=Object(l.a)(A,2),Z=Y[0],V=Y[1],J=Object(n.useState)(!1),W=Object(l.a)(J,2),$=(W[0],W[1],Object(n.useState)([])),K=Object(l.a)($,2),q=K[0],G=K[1];Object(n.useEffect)((function(){0===m.length&&(s(a),function(e){var t,a=new Set,n=Object(pe.a)(e);try{for(n.s();!(t=n.n()).done;){var c=t.value;0!==c.length&&c.forEach((function(e){return e&&a.add("".concat(e[0].toUpperCase()).concat(e.substring(1).toLowerCase()))}))}}catch(r){n.e(r)}finally{n.f()}h([].concat(Object(v.a)(d),Object(v.a)(a)))}(a.map((function(e){return e.shopItems.map((function(e){return e.type}))}))))}),[]),Object(n.useEffect)((function(){G([].concat(Object(v.a)(F),Object(v.a)(S),Object(v.a)(g)))}),[g,S,F]);var Q=function(){return m.map((function(e,t){var a=e.shopItems,n=e.url,r=e._id,o=function(e){if(0!==g.length||0!==S.length||0!==F.length){var t=0!==F.length?e.filter((function(e){if(F.includes(e.color.toLowerCase().trim()))return e})):e,a=0!==S.length?t.filter((function(e){if(S.includes(e.taste.toLowerCase().trim()))return e})):t;return 0!==g.length?a.filter((function(e){if(g.includes(e.type.toLowerCase().trim()))return e})):a}return null}(a);return c.a.createElement(T,{key:"".concat(r,"-").concat(t),shopItems:o||a,url:n,shopId:r,userId:i,setShouldReload:!1,shouldReload:!1,isOwner:!1})}))},X=function(){return q.map((function(e){return c.a.createElement(c.a.Fragment,{key:e.toLowerCase()},e[0].toUpperCase()+e.substring(1).toLowerCase(),"\xa0",c.a.createElement("a",{id:e,onClick:function(e){return function(e){var t=e.currentTarget.id;F.includes(t.toLowerCase())&&L(F.filter((function(e){return e!==t.toLowerCase()}))),S.includes(t.toLowerCase())&&w(S.filter((function(e){return e!==t.toLowerCase()}))),g.includes(t.toLowerCase())&&b(g.filter((function(e){return e!==t.toLowerCase()})))}(e)},className:"link-no-deco"},c.a.createElement(z.a,{style:{marginTop:"-2px"}})),"\xa0\xa0\xa0\xa0")}))};return c.a.createElement(N.a,null,c.a.createElement(j.a,{className:"mb-4 text-center justify-content-center"},c.a.createElement(x.a,null,c.a.createElement(y.a.Control,{as:"select",value:R,onChange:function(e){return t=e.target.value,U(t),void L([].concat(Object(v.a)(F),[t.toLowerCase().trim()]).sort());var t}},!R&&c.a.createElement("option",null,"Farba"),c.a.createElement("option",null,"Biele"),c.a.createElement("option",null,"\u010cerven\xe9"),c.a.createElement("option",null,"Ru\u017eov\xe9"),c.a.createElement("option",null,"R\xedbez\u013eov\xe9"))),c.a.createElement(x.a,null,c.a.createElement(y.a.Control,{as:"select",value:B,onChange:function(e){return t=e.target.value,M(t),void w([].concat(Object(v.a)(S),[t.toLowerCase().trim()]).sort());var t}},!B&&c.a.createElement("option",null,"Chut"),c.a.createElement("option",null,"Extra Such\xe9"),c.a.createElement("option",null,"Such\xe9"),c.a.createElement("option",null,"Polosladk\xe9"),c.a.createElement("option",null,"Sladk\xe9"),c.a.createElement("option",null,"Dezertn\xe9"))),c.a.createElement(x.a,null,c.a.createElement(y.a.Control,{as:"select",value:Z,onChange:function(e){return t=e.target.value,V(t),void b([].concat(Object(v.a)(g),[t.toLowerCase().trim()]).sort());var t}},!Z&&c.a.createElement("option",null,"Odroda"),d.map((function(e){return c.a.createElement("option",{key:e.toLowerCase()},e)}))))),0!==q.length&&c.a.createElement(j.a,{className:"mb-4 text-center justify-content-center"},c.a.createElement(x.a,null,c.a.createElement("strong",null,c.a.createElement(X,null)))),c.a.createElement(j.a,{className:"text-center"},c.a.createElement(Q,null)))},Ne=function(e){var t=e.userData,a=Object(n.useState)({}),r=Object(l.a)(a,2),o=r[0],m=r[1],s=Object(n.useState)(!0),i=Object(l.a)(s,2),u=i[0],p=i[1];return Object(n.useEffect)((function(){b.a.get("${process.env.REACT_APP_BACKEND_URL}/shop/").then((function(e){return m(e.data?e.data:{})})).catch((function(e){if(e)return console.log("Fetch error: ".concat(e))})).then((function(){return p(!1)}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("br",null),u?c.a.createElement(U.a,{style:{marginLeft:"49%",marginTop:"20%"},animation:"border"}):c.a.createElement(ye,{userData:t,shopData:o}))},Se=a(93),we=a.n(Se),Ce=(a(103),function(e){var t=e.eventPopup,a=e.setEventPopup,r=e.refresh,o=e.setRefresh,m=Object(n.useState)(new Date),s=Object(l.a)(m,2),i=s[0],u=s[1],p=Object(n.useState)(""),d=Object(l.a)(p,2),h=d[0],f=d[1],E=Object(n.useState)(""),g=Object(l.a)(E,2),v=g[0],k=g[1],y=Object(n.useState)(""),N=Object(l.a)(y,2),S=N[0],w=N[1],C=Object(n.useState)(""),L=Object(l.a)(C,2),D=L[0],T=L[1],R=Object(n.useState)(""),U=Object(l.a)(R,2),_=U[0],H=U[1],B=Object(n.useState)(""),M=Object(l.a)(B,2),A=M[0],Y=M[1],Z=Object(n.useState)(""),V=Object(l.a)(Z,2),J=V[0],W=V[1];Object(n.useEffect)((function(){if(h){var e=h.replace(/\s/g,"-").toLowerCase();k(e)}}),[h]);Object(n.useEffect)((function(){W(ve()(i).format("DD.MM.YYYY, HH:mm"))}),[i]);return c.a.createElement(F.a,{show:t,onHide:function(){return a(!1)}},c.a.createElement(F.a.Body,{className:"text-center"},c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},c.a.createElement("label",{htmlFor:"name"},"Nazov udalosti:"),c.a.createElement("input",{name:"name",className:"form-control text-center",value:h,onChange:function(e){return f(e.target.value)},placeholder:"povinne"}))),c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},c.a.createElement("label",{htmlFor:"where"},"Miesto udalosti:"),c.a.createElement("input",{name:"where",className:"form-control text-center",value:A,onChange:function(e){return Y(e.target.value)},placeholder:"volitelne"}))),c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},c.a.createElement("label",{htmlFor:"link"},"Externy link udalosti:"),c.a.createElement("input",{name:"link",className:"form-control text-center",value:S,onChange:function(e){return w(e.target.value)},placeholder:"volitelne"}))),c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},"Cas a datum udalosti (povinne): ",c.a.createElement("strong",null,J),c.a.createElement("br",null),c.a.createElement("br",null),"Vyber: ",c.a.createElement(we.a,{showTimeSelect:!0,selected:i,onChange:function(e){return u(e)}}))),c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},c.a.createElement("label",{htmlFor:"description"},"Description:"),c.a.createElement("textarea",{value:D,className:"form-control text-center",name:"description",type:"text",style:{resize:"none",minHeight:"200px"},onChange:function(e){return T(e.target.value)},placeholder:"povinne"}))),c.a.createElement("br",null),c.a.createElement(P.SlideDown,{className:"my-dropdown-slidedown"},h&&c.a.createElement(j.a,null,c.a.createElement(x.a,null,c.a.createElement(I.a,{maxFiles:1,multiple:!1,canCancel:!1,getUploadParams:function(e){e.meta;return{url:"${process.env.REACT_APP_BACKEND_URL}/fileUpload/".concat(v)}},onChangeStatus:function(e,t){var a=e.meta;e.file;"removed"===t&&function(e){b.a.get("${process.env.REACT_APP_BACKEND_URL}/deleteFile/".concat(v),{params:e}).then((function(){})).catch((function(e){return e&&console.log(e)}))}(a),"done"===t&&H("".concat(v,"-").concat(a.name))},accept:"image/*",inputContent:function(){return c.a.createElement("p",{className:"text-center",key:"label",style:{marginTop:"15px",color:"#333333"}},"Pridat obrazok udalosti. ",c.a.createElement("br",null)," (povinne)",c.a.createElement("br",null),c.a.createElement(z.b,null))},classNames:{dropzone:"dropzoning"}})))),c.a.createElement("br",null),h&&D&&_&&J?c.a.createElement(O.a,{variant:"dark",onClick:function(){b.a.post("${process.env.REACT_APP_BACKEND_URL}/events/add",{name:h,link:S,description:D,imageLink:_,where:A,when:J}).then((function(e){o(!r),a(!1)})).catch((function(e){return e&&e.data}))}},"Pridat"):c.a.createElement(O.a,{disabled:!0,variant:"dark"},"Pridat"),"\xa0\xa0\xa0\xa0",c.a.createElement(O.a,{variant:"dark",onClick:function(){return a(!1)}},"Zrusit")))}),Ie=function(e){var t=e.eventPopup,a=e.setEventPopup,r=e.refresh,o=e.setRefresh,m=e.eventData,s=Object(n.useState)(ve()(m.when,"DD.MM.YYYY, HH:mm").valueOf()),i=Object(l.a)(s,2),u=i[0],p=i[1],d=Object(n.useState)(m.name),h=Object(l.a)(d,2),f=h[0],E=h[1],g=Object(n.useState)(m.idFromName),v=Object(l.a)(g,2),k=v[0],y=v[1],N=Object(n.useState)(m.link),S=Object(l.a)(N,2),w=S[0],C=S[1],L=Object(n.useState)(m.description),D=Object(l.a)(L,2),T=D[0],R=D[1],U=Object(n.useState)(m.imageLink),_=Object(l.a)(U,2),H=_[0],B=_[1],M=Object(n.useState)(m.where),A=Object(l.a)(M,2),Y=A[0],Z=A[1],V=Object(n.useState)(m.when),J=Object(l.a)(V,2),W=J[0],$=J[1],K=function(e){try{return console.log(e),"https://vineckabucket.s3.eu-central-1.amazonaws.com/".concat(e.replace(/_/g,"-"))}catch(t){return null}};Object(n.useEffect)((function(){if(f){var e=f.replace(/\s/g,"-").toLowerCase();y(e)}}),[f]);Object(n.useEffect)((function(){$(ve()(u).format("DD.MM.YYYY, HH:mm"))}),[u]);return c.a.createElement(F.a,{show:t,onHide:function(){return a(!1)}},c.a.createElement(F.a.Body,{className:"text-center"},c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},c.a.createElement("label",{htmlFor:"name"},"Nazov udalosti:"),c.a.createElement("input",{name:"name",className:"form-control text-center",value:f,onChange:function(e){return E(e.target.value)},placeholder:"povinne"}))),c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},c.a.createElement("label",{htmlFor:"where"},"Miesto udalosti:"),c.a.createElement("input",{name:"where",className:"form-control text-center",value:Y,onChange:function(e){return Z(e.target.value)},placeholder:"volitelne"}))),c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},c.a.createElement("label",{htmlFor:"link"},"Externy link udalosti:"),c.a.createElement("input",{name:"link",className:"form-control text-center",value:w,onChange:function(e){return C(e.target.value)},placeholder:"volitelne"}))),c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},"Cas a datum udalosti (povinne): ",c.a.createElement("strong",null,W),c.a.createElement("br",null),c.a.createElement("br",null),"Vyber: ",c.a.createElement(we.a,{showTimeSelect:!0,selected:u,onChange:function(e){return p(e)}}))),c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},c.a.createElement("label",{htmlFor:"description"},"Description:"),c.a.createElement("textarea",{value:T,className:"form-control text-center",name:"description",type:"text",style:{resize:"none",minHeight:"200px"},onChange:function(e){return R(e.target.value)},placeholder:"povinne"}))),c.a.createElement("br",null),c.a.createElement(P.SlideDown,{className:"my-dropdown-slidedown"},f&&H?c.a.createElement(j.a,{className:"justify-content-center text-center"},c.a.createElement(x.a,{className:"form-group"},c.a.createElement("img",{style:{height:"110px",width:"160px"},src:K(H)?K(H):H}),c.a.createElement(O.a,{onClick:function(){return B("")},variant:"dark",size:"sm"},"Vymazat obrazok"))):c.a.createElement(j.a,null,c.a.createElement(x.a,null,c.a.createElement(I.a,{maxFiles:1,multiple:!1,canCancel:!1,getUploadParams:function(e){e.meta;return{url:"${process.env.REACT_APP_BACKEND_URL}/fileUpload/".concat(k)}},onChangeStatus:function(e,t){var a=e.meta;e.file;"removed"===t&&function(e){b.a.get("${process.env.REACT_APP_BACKEND_URL}/deleteFile/".concat(k),{params:e}).then((function(){})).catch((function(e){return e&&console.log(e)}))}(a),"done"===t&&B("".concat(k,"-").concat(a.name))},accept:"image/*",inputContent:function(){return c.a.createElement("p",{className:"text-center",key:"label",style:{marginTop:"15px",color:"#333333"}},"Pridat obrazok udalosti. ",c.a.createElement("br",null)," (povinne)",c.a.createElement("br",null),c.a.createElement(z.b,null))},classNames:{dropzone:"dropzoning"}})))),c.a.createElement("br",null),f&&T&&H&&W?c.a.createElement(O.a,{variant:"dark",onClick:function(){b.a.post("${process.env.REACT_APP_BACKEND_URL}/events/update-event/".concat(m._id),{name:f,link:w,description:T,imageLink:H,where:Y,when:W}).then((function(e){console.log(e.data),o(!r),a("")})).catch((function(e){return e&&e.data}))}},"Pridat"):c.a.createElement(O.a,{disabled:!0,variant:"dark"},"Pridat"),"\xa0\xa0\xa0\xa0",c.a.createElement(O.a,{variant:"dark",onClick:function(){return a(!1)}},"Zrusit")))},ze=function(e){var t=e.isOwner,a=Object(n.useState)([]),r=Object(l.a)(a,2),o=r[0],m=r[1],s=Object(n.useState)(!1),u=Object(l.a)(s,2),p=u[0],d=u[1],h=Object(n.useState)(!1),f=Object(l.a)(h,2),E=f[0],g=f[1],v=Object(n.useState)(""),y=Object(l.a)(v,2),S=y[0],C=y[1],I=function(e){try{return"https://vineckabucket.s3.eu-central-1.amazonaws.com/".concat(e.replace(/_/g,"-"))}catch(t){return null}};Object(n.useEffect)((function(){b.a.get("${process.env.REACT_APP_BACKEND_URL}/events/").then((function(e){var t=e.data,a=t.sort((function(e,t){return e.when<t.when?1:-1}));m(a)})).catch((function(e){return e&&console.log(e)}))}),[E]);var z=function(){return o.map((function(e){var a=e._id,n=e.name,r=e.link,o=e.description,l=e.imageLink,m=e.when,s=e.where;return c.a.createElement(x.a,{key:a,style:{maxWidth:"800px"},className:"mt-4",md:12,lg:6},c.a.createElement(k.a,{className:"h-100",id:a},t&&c.a.createElement(O.a,{onClick:function(){return e=a,void b.a.delete("${process.env.REACT_APP_BACKEND_URL}/events/".concat(e,"/")).then((function(){return g(!E)})).catch((function(e){return e&&console.log("Error ".concat(e))}));var e},style:{width:"40px",height:"40px",marginBottom:"-40px",zIndex:"+5"},variant:"outline-danger"},c.a.createElement(w.b,{style:{fontSize:"150%",margin:"0 0 15px -5px"}})),t&&c.a.createElement(O.a,{onClick:function(e){return function(e){var t={};t[e.currentTarget.parentNode.id]=!0,C(Object(i.a)(Object(i.a)({},S),t))}(e)},style:{width:"40px",height:"40px",marginBottom:"-40px",marginLeft:"40px",zIndex:"+5"},variant:"outline-warning"},c.a.createElement(w.c,{style:{fontSize:"150%",margin:"0 0 15px -5px"}})),S&&c.a.createElement(Ie,{refresh:E,setRefresh:g,setEventPopup:C,eventPopup:S[a],eventData:e}),c.a.createElement(k.a.Img,{variant:"top",style:{height:"350px"},src:I(l)?I(l):l}),c.a.createElement(k.a.Body,null,c.a.createElement(k.a.Title,null,n,c.a.createElement(O.a,{onClick:function(){return e=r,void window.open(e,"_blank").focus();var e},size:"sm",variant:"dark",style:{float:"right",marginTop:"-5px"}},"Viac info")),c.a.createElement(k.a.Text,null,o)),(m||s)&&c.a.createElement(k.a.Footer,null,c.a.createElement("small",{className:"text-muted"},c.a.createElement(w.a,{style:{fontSize:"130%"}})," ",m,c.a.createElement("br",null)," ",c.a.createElement(w.d,{style:{fontSize:"130%"}})," ",s))))}))};return c.a.createElement(N.a,{className:"mb-4"},p&&c.a.createElement(Ce,{refresh:E,setRefresh:g,setEventPopup:d,eventPopup:p}),t&&c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(O.a,{className:"mt-4",variant:"dark",onClick:function(){return d(!0)}},"Pridat Event")),c.a.createElement(j.a,{className:"justify-content-center justify-content-md-start"},c.a.createElement(z,null)))},Fe=function(e){var t=e.servicePopup,a=e.setServicePopup,r=e.refresh,o=e.setRefresh,m=Object(n.useState)(""),s=Object(l.a)(m,2),i=s[0],u=s[1],p=Object(n.useState)(""),d=Object(l.a)(p,2),h=d[0],f=d[1],E=Object(n.useState)(""),g=Object(l.a)(E,2),v=g[0],k=g[1],y=Object(n.useState)(""),N=Object(l.a)(y,2),S=N[0],w=N[1],C=Object(n.useState)(""),L=Object(l.a)(C,2),D=L[0],T=L[1];Object(n.useEffect)((function(){if(i){var e=i.replace(/\s/g,"-").toLowerCase();f(e)}}),[i]);return c.a.createElement(F.a,{show:t,onHide:function(){return a(!1)}},c.a.createElement(F.a.Body,{className:"text-center"},c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},c.a.createElement("label",{htmlFor:"name"},"Nazov sluzby:"),c.a.createElement("input",{name:"name",className:"form-control text-center",value:i,onChange:function(e){return u(e.target.value)},placeholder:"povinne"}))),c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},c.a.createElement("label",{htmlFor:"link"},"Externy link sluzby:"),c.a.createElement("input",{name:"link",className:"form-control text-center",value:v,onChange:function(e){return k(e.target.value)},placeholder:"volitelne"}))),c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},c.a.createElement("label",{htmlFor:"description"},"Description:"),c.a.createElement("textarea",{value:S,className:"form-control text-center",name:"description",type:"text",style:{resize:"none",minHeight:"200px"},onChange:function(e){return w(e.target.value)},placeholder:"povinne"}))),c.a.createElement("br",null),c.a.createElement(P.SlideDown,{className:"my-dropdown-slidedown"},i&&c.a.createElement(j.a,null,c.a.createElement(x.a,null,c.a.createElement(I.a,{maxFiles:1,multiple:!1,canCancel:!1,getUploadParams:function(e){e.meta;return{url:"${process.env.REACT_APP_BACKEND_URL}/fileUpload/".concat(h)}},onChangeStatus:function(e,t){var a=e.meta;e.file;"removed"===t&&function(e){b.a.get("${process.env.REACT_APP_BACKEND_URL}/deleteFile/".concat(h),{params:e}).then((function(){})).catch((function(e){return e&&console.log(e)}))}(a),"done"===t&&T("".concat(h,"-").concat(a.name))},accept:"image/*",inputContent:function(){return c.a.createElement("p",{className:"text-center",key:"label",style:{marginTop:"15px",color:"#333333"}},"Pridat obrazok sluzby. ",c.a.createElement("br",null)," (povinne)",c.a.createElement("br",null),c.a.createElement(z.b,null))},classNames:{dropzone:"dropzoning"}})))),c.a.createElement("br",null),i&&S&&D?c.a.createElement(O.a,{variant:"dark",onClick:function(){b.a.post("${process.env.REACT_APP_BACKEND_URL}/services/add",{name:i,link:v,description:S,imageLink:D}).then((function(e){o(!r),a(!1)})).catch((function(e){return e&&e.data}))}},"Pridat"):c.a.createElement(O.a,{disabled:!0,variant:"dark"},"Pridat"),"\xa0\xa0\xa0\xa0",c.a.createElement(O.a,{variant:"dark",onClick:function(){return a(!1)}},"Zrusit")))},Le=function(e){var t=e.servicePopup,a=e.setServicePopup,r=e.refresh,o=e.setRefresh,m=e.serviceData,s=Object(n.useState)(m.name),i=Object(l.a)(s,2),u=i[0],p=i[1],d=Object(n.useState)(m.idFromName),h=Object(l.a)(d,2),f=h[0],E=h[1],g=Object(n.useState)(m.link),v=Object(l.a)(g,2),k=v[0],y=v[1],N=Object(n.useState)(m.description),S=Object(l.a)(N,2),w=S[0],C=S[1],L=Object(n.useState)(m.imageLink),D=Object(l.a)(L,2),T=D[0],R=D[1],U=function(e){try{return console.log(e),"https://vineckabucket.s3.eu-central-1.amazonaws.com/".concat(e.replace(/_/g,"-"))}catch(t){return null}};Object(n.useEffect)((function(){if(u){var e=u.replace(/\s/g,"-").toLowerCase();E(e)}}),[u]);return c.a.createElement(F.a,{show:t,onHide:function(){return a(!1)}},c.a.createElement(F.a.Body,{className:"text-center"},c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},c.a.createElement("label",{htmlFor:"name"},"Nazov sluzby:"),c.a.createElement("input",{name:"name",className:"form-control text-center",value:u,onChange:function(e){return p(e.target.value)},placeholder:"povinne"}))),c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},c.a.createElement("label",{htmlFor:"link"},"Externy link sluzby:"),c.a.createElement("input",{name:"link",className:"form-control text-center",value:k,onChange:function(e){return y(e.target.value)},placeholder:"volitelne"}))),c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(x.a,{className:"form-group text-center mt-1"},c.a.createElement("label",{htmlFor:"description"},"Description:"),c.a.createElement("textarea",{value:w,className:"form-control text-center",name:"description",type:"text",style:{resize:"none",minHeight:"200px"},onChange:function(e){return C(e.target.value)},placeholder:"povinne"}))),c.a.createElement("br",null),c.a.createElement(P.SlideDown,{className:"my-dropdown-slidedown"},u&&T?c.a.createElement(j.a,{className:"justify-content-center text-center"},c.a.createElement(x.a,{className:"form-group"},c.a.createElement("img",{style:{height:"110px",width:"160px"},src:U(T)?U(T):T}),c.a.createElement(O.a,{onClick:function(){return R("")},variant:"dark",size:"sm"},"Vymazat obrazok"))):c.a.createElement(j.a,null,c.a.createElement(x.a,null,c.a.createElement(I.a,{maxFiles:1,multiple:!1,canCancel:!1,getUploadParams:function(e){e.meta;return{url:"${process.env.REACT_APP_BACKEND_URL}/fileUpload/".concat(f)}},onChangeStatus:function(e,t){var a=e.meta;e.file;"removed"===t&&function(e){b.a.get("${process.env.REACT_APP_BACKEND_URL}/deleteFile/".concat(f),{params:e}).then((function(){})).catch((function(e){return e&&console.log(e)}))}(a),"done"===t&&R("".concat(f,"-").concat(a.name))},accept:"image/*",inputContent:function(){return c.a.createElement("p",{className:"text-center",key:"label",style:{marginTop:"15px",color:"#333333"}},"Pridat obrazok sluzby. ",c.a.createElement("br",null)," (povinne)",c.a.createElement("br",null),c.a.createElement(z.b,null))},classNames:{dropzone:"dropzoning"}})))),c.a.createElement("br",null),u&&w&&T?c.a.createElement(O.a,{variant:"dark",onClick:function(){return console.log(m),void b.a.post("${process.env.REACT_APP_BACKEND_URL}/services/update-service/".concat(m._id),{name:u,link:k,description:w,imageLink:T}).then((function(e){console.log(e.data),o(!r),a("")})).catch((function(e){return e&&e.data}))}},"Pridat"):c.a.createElement(O.a,{disabled:!0,variant:"dark"},"Pridat"),"\xa0\xa0\xa0\xa0",c.a.createElement(O.a,{variant:"dark",onClick:function(){return a(!1)}},"Zrusit")))},Pe=function(e){var t=e.isOwner,a=Object(n.useState)([]),r=Object(l.a)(a,2),o=r[0],m=r[1],s=Object(n.useState)(!1),u=Object(l.a)(s,2),p=u[0],d=u[1],h=Object(n.useState)(!1),f=Object(l.a)(h,2),E=f[0],g=f[1],v=Object(n.useState)(""),y=Object(l.a)(v,2),S=y[0],C=y[1],I=function(e){try{return"https://vineckabucket.s3.eu-central-1.amazonaws.com/".concat(e.replace(/_/g,"-"))}catch(t){return null}};Object(n.useEffect)((function(){b.a.get("${process.env.REACT_APP_BACKEND_URL}/services/").then((function(e){var t=e.data;m(t)})).catch((function(e){return e&&console.log(e)}))}),[E]);var z=function(){return o.map((function(e){var a=e._id,n=e.name,r=e.link,o=e.description,l=e.imageLink,m=e.when,s=e.where;return c.a.createElement(x.a,{key:a,style:{maxWidth:"800px"},className:"mt-4",md:12,lg:6},c.a.createElement(k.a,{bg:"dark",text:"white",className:"h-100",id:a},t&&c.a.createElement(O.a,{onClick:function(){return e=a,void b.a.delete("${process.env.REACT_APP_BACKEND_URL}/services/".concat(e,"/")).then((function(){return g(!E)})).catch((function(e){return e&&console.log("Error ".concat(e))}));var e},style:{width:"40px",height:"40px",marginBottom:"-40px",zIndex:"+5"},variant:"outline-danger"},c.a.createElement(w.b,{style:{fontSize:"150%",margin:"0 0 15px -5px"}})),t&&c.a.createElement(O.a,{onClick:function(e){return function(e){var t={};t[e.currentTarget.parentNode.id]=!0,C(Object(i.a)(Object(i.a)({},S),t))}(e)},style:{width:"40px",height:"40px",marginBottom:"-40px",marginLeft:"40px",zIndex:"+5"},variant:"outline-warning"},c.a.createElement(w.c,{style:{fontSize:"150%",margin:"0 0 15px -5px"}})),S&&c.a.createElement(Le,{refresh:E,setRefresh:g,setServicePopup:C,servicePopup:S[a],serviceData:e}),c.a.createElement(k.a.Img,{variant:"top",style:{height:"350px"},src:I(l)?I(l):l}),c.a.createElement(k.a.Body,null,c.a.createElement(k.a.Title,null,n,c.a.createElement(O.a,{onClick:function(){return e=r,void window.open(e,"_blank").focus();var e},size:"sm",variant:"outline-light",style:{float:"right",marginTop:"-5px"}},"Viac info")),c.a.createElement(k.a.Text,null,o)),(m||s)&&c.a.createElement(k.a.Footer,null,c.a.createElement("small",{className:"text-muted"},c.a.createElement(w.a,{style:{fontSize:"130%"}})," ",m,c.a.createElement("br",null)," ",c.a.createElement(w.d,{style:{fontSize:"130%"}})," ",s))))}))};return c.a.createElement(N.a,{className:"mb-4"},p&&c.a.createElement(Fe,{refresh:E,setRefresh:g,setServicePopup:d,servicePopup:p}),t&&c.a.createElement(j.a,{className:"justify-content-center"},c.a.createElement(O.a,{className:"mt-4",variant:"dark",onClick:function(){return d(!0)}},"Pridat Sluzbu")),c.a.createElement(j.a,{className:"justify-content-center justify-content-md-start"},c.a.createElement(z,null)))},De=a(249),Te=a(153),Re=function(){return c.a.createElement("div",{className:"pt-1 pb-3",style:{backgroundColor:"rgba(55, 63, 39, 0.6)"}},c.a.createElement(N.a,null,c.a.createElement(j.a,{className:"text-center pt-4 pb-4 mt-4"},c.a.createElement(x.a,{className:"mb-2",md:6,lg:3},c.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://github.com/mattiass771",style:{textDecoration:"none",color:"whitesmoke"}},c.a.createElement(De.a,{style:{fontSize:"150%",marginTop:"-2px"}})," by ",c.a.createElement("strong",null,"MZ"))),c.a.createElement(x.a,{className:"mb-2",md:6,lg:3},c.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://facebook.com",style:{textDecoration:"none",color:"whitesmoke"}},c.a.createElement(Te.a,{style:{fontSize:"130%",marginTop:"-2px",marginRight:"-4px"}}),"acebook.com",c.a.createElement("strong",null,"/masvino"))),c.a.createElement(x.a,{className:"mb-2",md:6,lg:3},c.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://instagram.com",style:{textDecoration:"none",color:"whitesmoke"}},c.a.createElement(Te.b,{style:{fontSize:"150%",marginTop:"-2px"}}),c.a.createElement("strong",null,"#masvino"))),c.a.createElement(x.a,{className:"mb-2",md:6,lg:3},c.a.createElement(w.e,{style:{fontSize:"150%",marginTop:"-2px",color:"whitesmoke"}}),c.a.createElement("strong",{style:{color:"whitesmoke"}},"masvino@mail.com")))))},Ue=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)({}),i=Object(l.a)(o,2),u=i[0],p=i[1],d=Object(n.useState)(!1),h=Object(l.a)(d,2),f=h[0],g=h[1];Object(n.useEffect)((function(){g(!0),b.a.get("${process.env.REACT_APP_BACKEND_URL}/get-user-data",{withCredentials:!0}).then((function(e){if(e.data){var t=e.data,a=t._id,n=t.userName,c=t.fullName,o=t.email,l=t.shopId,m=t.isOwner;p({_id:a,userName:n,fullName:c,email:o,shopId:l,isOwner:m}),r(!!n)}else p({})})).catch((function(e){return e&&console.log("Load Error "+e)})).then((function(){return g(!1)}))}),[]);return u.isOwner=!0,c.a.createElement(m.a,null,c.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css",integrity:"sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk",crossOrigin:"anonymous"}),c.a.createElement("div",null,c.a.createElement(E,{userName:u.fullName,isLoggedIn:a,handleLogOut:function(){b.a.get("${process.env.REACT_APP_BACKEND_URL}/logout",{withCredentials:!0}).then((function(){p({}),r(!1)})).catch((function(e){return console.log("Error ".concat(e))})).then((function(){return window.location.reload()}))}}),f?c.a.createElement(U.a,{style:{marginLeft:"49%",marginTop:"20%"},animation:"border"}):c.a.createElement("div",null,c.a.createElement(s.c,null,c.a.createElement(s.a,{exact:!0,path:"/"},c.a.createElement(K,{userId:u._id,isOwner:u.isOwner})),c.a.createElement(s.a,{exact:!0,path:"/vinarne"},c.a.createElement(ee,{userData:u})),c.a.createElement(s.a,{exact:!0,path:"/vinka"},c.a.createElement(Ne,{userData:u})),c.a.createElement(s.a,{exact:!0,path:"/login-page"},a?c.a.createElement(K,{userId:u._id,isOwner:u.isOwner}):c.a.createElement(ae,null)),c.a.createElement(s.a,{exact:!0,path:"/cart-page"},c.a.createElement(ge,{userId:u._id})),c.a.createElement(s.a,{exact:!0,path:"/success-payment"},c.a.createElement(ke,{userId:u._id})),c.a.createElement(s.a,{exact:!0,path:"/failed-payment"},c.a.createElement(Oe,{userId:u._id})),c.a.createElement(s.a,{exact:!0,path:"/cancel-payment"},c.a.createElement(Oe,{userId:u._id})),c.a.createElement(s.a,{exact:!0,path:"/objednavky"},c.a.createElement(xe,{userId:u._id,isOwner:u.isOwner})),c.a.createElement(s.a,{exact:!0,path:"/akcie"},c.a.createElement(ze,{isOwner:u.isOwner})),c.a.createElement(s.a,{exact:!0,path:"/sluzby"},c.a.createElement(Pe,{isOwner:u.isOwner})),c.a.createElement(s.a,{exact:!0,path:"/:shopUrl"},c.a.createElement(me,{userId:u._id,isOwner:u.isOwner})),c.a.createElement(s.a,{exact:!0,path:"/shop/payment"},c.a.createElement(Ee.a,null)))),c.a.createElement(Re,null)))};o.a.render(c.a.createElement(Ue,null),document.getElementById("root"))}},[[250,1,2]]]);
//# sourceMappingURL=main.e0fab00f.chunk.js.map
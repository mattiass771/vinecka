{"version":3,"sources":["components/Cart/PayGate.js","components/Navbar/logo.png","components/Navbar/Navbar.js","components/Shop/ViewShop/EditItems.js","components/Shop/ViewShop/ShowItem.js","components/Home/UpdateEvents.js","components/Home/UpdateServices.js","components/Home/UpdateDescription.js","components/Home/UpdateFeatured.js","config/options.js","components/Home/Home.js","components/Shop/CreateShop.js","components/Shop/ShopsOverview.js","components/Shop/Vinarne.js","components/Login/SignUp.js","components/Login/Login.js","components/Shop/ViewShop/AddItems.js","components/Shop/ViewShop/ShopItems.js","components/Shop/ViewShop/ShopJumbotron.js","components/Shop/ViewShop.js","components/Shop/shopOnline/ShopOnline.js","components/Cart/PlaceOrder.js","components/Cart/ShoppingCart.js","components/Payment/Orders.js","components/Payment/SuccessPayment.js","components/Payment/RejectPayment.js","components/Wines/WineOverview.js","components/Wines/Vinka.js","components/Events/AddEvent.js","components/Events/EditEvent.js","components/Events/Events.js","components/Services/AddService.js","components/Services/EditService.js","components/Services/Services.js","components/Footer.js","App.js","index.js"],"names":["paymentPopup","setPaymentPopup","orderInfo","total","orderId","style","backgroundColor","show","onHide","padding","width","height","id","src","amount","reference","signature","key","message","encryptedKey","locutus","encryptedMessage","uint8arr","crypto","createHmac","update","digest","Buffer","from","buffer","reduce","str","byte","toString","padStart","toUpperCase","GetSignature","toFixed","constructOrder","position","right","top","cursor","onClick","module","exports","isLoggedIn","handleLogOut","userName","useState","prevScrollPos","setPrevScrollPos","visible","setVisible","limit","Math","max","document","body","scrollHeight","offsetHeight","documentElement","clientHeight","handleScroll","currentScrollPos","window","pageYOffset","useEffect","addEventListener","removeEventListener","Fragment","className","transition","zIndex","borderBottom","alt","logo","Navbar","fontSize","paddingTop","variant","expand","Toggle","aria-controls","Collapse","Nav","Link","active","to","showEditItems","setShowEditItems","shopId","itemId","itemDataProp","setShouldReload","shouldReload","itemName","setItemName","price","setPrice","description","setDescription","imageLink","setImageLink","canSaveItem","setCanSaveItem","maxCount","setMaxCount","color","setColor","type","setType","taste","setTaste","itemData","setItemData","getImage","image","replace","Modal","Header","closeButton","Title","Body","Row","Col","htmlFor","value","name","onChange","e","target","placeholder","InputGroup","maxLength","resize","minHeight","Button","newItemData","deleteFormerImage","size","maxFiles","multiple","canCancel","getUploadParams","meta","url","onChangeStatus","status","file","axios","get","params","then","catch","err","console","log","deleteFile","accept","inputContent","marginTop","classNames","dropzone","Footer","put","disabled","React","memo","shopItems","userId","isOwner","count","setCount","isHovered","setIsHovered","clicked","setClicked","editing","setEditing","showAddedPopup","setShowAddedPopup","hoverTimeout","setHoverTimeout","handleMouseOver","hoverObj","setTimeout","map","item","i","_id","passShopId","overflow","xs","md","lg","xl","Alert","Card","onMouseEnter","onTouchStart","onMouseLeave","maxWidth","currentTarget","parentNode","post","deleteCard","marginBottom","margin","editingObj","handleEditing","marginLeft","EditItems","Text","substring","toLowerCase","ImgOverlay","background","passCount","localShoppingCart","localStorage","getItem","removeItem","newShoppingCart","JSON","parse","setItem","stringify","addItemToCart","Container","Form","Control","as","countObj","handleCount","result","num","push","showCount","passId","dummy","createElement","appendChild","select","execCommand","removeChild","copyFunction","textDecoration","eventsPopup","setEventsPopup","forceRefresh","setForceRefresh","eventsImage","eventsText","descriptionEvents","imageLinkEvents","res","data","servicesPopup","setServicesPopup","servicesImage","servicesText","descriptionServices","imageLinkServices","descriptionsPopup","setDescriptionsPopup","descriptionsText","descriptionGeneral","featuredsPopup","setFeaturedsPopup","featuredIds","featured","setFeatured","featuredWines","setFeaturedWines","length","featuredArr","response","newObj","maxHeight","MAX_HEIGHT_JUMBO","options","MIN_HEIGHT_JUMBO","carouselData","setCarouselData","loading","setLoading","setFeaturedIds","eventsData","setEventsData","servicesData","setServicesData","setDescriptionGeneral","isHoveredServices","setIsHoveredServices","isHoveredEvents","setIsHoveredEvents","events","services","prev","ShowEvents","textAlign","Img","ShowServices","ShowGeneral","ShowUpdateFeatured","Spinner","animation","UpdateEvents","UpdateServices","UpdateDescription","UpdateFeatured","Carousel","indicators","shop","shopName","owner","Item","Caption","preserveAspectRatio","left","xmlns","viewBox","fill","fill-opacity","d","sm","paddingBottom","ShowItem","colXsSettings","colMdSettings","userData","setShopName","fullName","ownerId","shortid","generate","location","reload","shopData","showCreateShop","setShowCreateShop","CreateShop","overviewImage","setShopData","ShopsOverview","shoppingCart","handleLogin","firstName","setFirstName","middleName","setMiddleName","lastName","setLastName","email","setEmail","passwordFirst","setPasswordFirst","passwordSecond","setPasswordSecond","passwordsMatch","setPasswordsMatch","emailExists","setEmailExists","phone","setPhone","street","setStreet","postal","setPostal","city","setCity","checkIfPasswordMeetsCriteria","search","checkIfEmailMeetsCriteria","match","checkIfNameMeetsCriteria","checkIfCityMeetsCriteria","checkIfStreetMeetsCriteria","checkIfPhoneMeetsCriteria","checkIfPostalMeetsCriteria","onBlur","address","password","signUp","setSignUp","hideButton","setHideButton","action","method","SignUp","showAddItems","setShowAddItems","setShopItems","AddItems","border","history","useHistory","currentUrl","setCurrentUrl","newUrl","setNewUrl","isUrlAvailible","setIsUrlAvailible","editMode","setEditMode","error","setError","setOwner","setOverviewImage","showImageFromDb","localUploadingTitle","setLocalUploadingTitle","localUploadingOverview","setLocalUploadingOverview","textColor","setTextColor","handleError","Jumbotron","backgroundSize","fluid","delete","marginRight","borderRadius","display","ShopJumbotron","ShopItems","shopUrl","useParams","ViewShop","setUserInformation","handleSignUp","lastRef","useRef","shops","setShops","refresh","setRefresh","userInformation","login","setLogin","registration","setRegistration","shipmentOnly","setShipmentOnly","nanoid","passOrderInfo","setPassOrderInfo","executeScroll","current","scrollIntoView","behavior","block","sortItems","cartItems","sortShop","cartItem","itemsArr","findItem","find","el","undefined","index","findIndex","prevItems","isInCart","prevCount","Number","newShopId","parsedShoppingCart","a","addItemsToShoppingCartFromLocal","showItemData","data-id","Image","rounded","newLocalShoppingCart","filter","removeItemFromCart","PayGate","sort","justifyContent","getTotalPrice","ref","Login","PlaceOrder","showTotalCartPrice","createNewOrder","ordersData","setOrdersData","shippedObj","setShippedObj","expandedObj","setExpandedObj","validatedOrdersData","obj","ShowItemDataForOrder","passItemData","shopTotal","order","ShowOrderDetails","passShops","ShowBuyerDetails","passUserInformation","buyerId","iban","span","offset","ShowOrders","createdAt","isShipped","statusColor","oldValue","handleExpanded","moment","format","float","checked","stopPropagation","newVal","expandObj","handleShipping","colSpan","Table","striped","bordered","hover","query","URLSearchParams","useLocation","paymentId","paymentResultCode","initialData","setInitialData","wineTypes","setWineTypes","typeFilter","setTypeFilter","tasteFilter","setTasteFilter","colorFilter","setColorFilter","colorDrop","setColorDrop","tasteDrop","setTasteDrop","typeDrop","setTypeDrop","selectedFilters","setSelectedFilters","typeArr","wtSet","Set","forEach","val","add","recalculateTypeFilter","wine","ShowWines","filteredShopItems","items","filteredDataByColor","includes","trim","filteredDataByTaste","filterData","ShowSelectedFilters","nodeId","handleRemoveFilter","WineOverview","eventPopup","setEventPopup","Date","startDate","setStartDate","setName","idFromName","setIdFromName","link","setLink","where","setWhere","when","setWhen","setNewId","showTimeSelect","selected","date","eventData","valueOf","b","event","eventId","EditEvent","passLink","open","focus","AddEvent","servicePopup","setServicePopup","serviceData","service","bg","text","serviceId","EditService","AddService","rel","href","setIsLoggedIn","setUserData","loadingData","setLoadingData","withCredentials","integrity","crossOrigin","exact","path","Home","Vinarne","Vinka","ShoppingCart","SuccessPayment","RejectPayment","Orders","Events","Services","ShopOnline","ReactDOM","render","App","getElementById"],"mappings":"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","file":"static/js/main.e0fab00f.chunk.js","sourcesContent":["import React, {useEffect, useState } from 'react'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport crypto from 'crypto'\r\nimport locutus from 'locutus/php/misc/pack'\r\n\r\nexport default ({paymentPopup, setPaymentPopup, orderInfo}) => {\r\n    const {total, orderId } = orderInfo\r\n\r\n    const toHexString = bytes => bytes.reduce((str, byte) => str + byte.toString(16).padStart(2, '0'), '');\r\n\r\n    const GetSignature = (key, message) => {\r\n        const encryptedKey = locutus('A*', key)\r\n        const encryptedMessage = locutus('A*', message)\r\n        const uint8arr = crypto.createHmac('sha256', encryptedKey).update(encryptedMessage).digest()\r\n        const converted = toHexString(Buffer.from(uint8arr.buffer))\r\n        return converted.toUpperCase()\r\n    }\r\n\r\n    const constructOrder = () => {\r\n        const baseUrl = \"https://playground.trustpay.eu/mapi5/wire/paypopup\";\r\n        const accountId = 2107205663;\r\n        const amount = total;\r\n        const currency = \"EUR\";\r\n        const reference = orderId;\r\n        const paymentType = 0;\r\n    \r\n        const secretKey = \"5FIwY8FAc15vKHD96B9XQLhPIZdK8lNr\";\r\n        const sigData = `${accountId}/${amount.toFixed(2)}/${currency}/${reference}/${paymentType}`;\r\n        const signature = GetSignature(secretKey, sigData); //eslint-disable-line\r\n    \r\n        const url = `${baseUrl}?AccountId=${accountId}&Amount=${amount}&Currency=${currency}&Reference=${reference}&PaymentType=${paymentType}&Signature=${signature}`\r\n        return url;\r\n    }\r\n\r\n    return (\r\n        <Modal style={{backgroundColor: 'rgba(255,255,255,0) !important'}} show={paymentPopup} onHide={() => setPaymentPopup(true)}>\r\n            <iframe style={{padding: \"-15px\", width:\"100%\", height: \"550px\"}} id=\"TrustPayFrame\" src={constructOrder()}></iframe>\r\n            <div style={{\r\n                position: 'absolute', \r\n                right: 15, \r\n                top: 15, \r\n                height: 50, \r\n                width: 50, \r\n                cursor: 'pointer'\r\n            }} onClick={() => setPaymentPopup(false)}></div>\r\n        </Modal>\r\n    )\r\n}","module.exports = __webpack_public_path__ + \"static/media/logo.c8c0a018.png\";","import React, {useState, useEffect} from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\n\r\nimport logo from \"./logo.png\"\r\n\r\nimport {FiShoppingCart} from \"react-icons/fi\"\r\n\r\n// Navbar.js\r\nexport default ({ isLoggedIn, handleLogOut, userName }) => {\r\n  const [prevScrollPos, setPrevScrollPos] = useState(0); \r\n  const [visible, setVisible] = useState(true);\r\n\r\n  const limit = Math.max( \r\n    document.body.scrollHeight, \r\n    document.body.offsetHeight, \r\n    document.documentElement.clientHeight, \r\n    document.documentElement.scrollHeight, \r\n    document.documentElement.offsetHeight \r\n    );\r\n\r\n\r\n  const navbarStyles = {\r\n    position: 'fixed',\r\n    transition: 'top 0.6s',\r\n    width: '100%',\r\n    zIndex: '+2',\r\n    backgroundColor: '#2b371b',\r\n    fontSize: '120%'\r\n  }\r\n\r\n  const logoStyles = {\r\n    position: 'fixed',\r\n    transition: 'top 0.6s',\r\n    zIndex: '+3',\r\n  }\r\n\r\n  const handleScroll = () => {\r\n    const currentScrollPos = window.pageYOffset;\r\n    if ((limit - currentScrollPos) < 1100 && currentScrollPos > 50) setVisible(false)\r\n    else {\r\n      setVisible((prevScrollPos > currentScrollPos) || currentScrollPos < 50 );\r\n    }\r\n    setPrevScrollPos(currentScrollPos);\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, [prevScrollPos, visible, handleScroll]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"text-center w-100\" style={{...logoStyles, top: visible ? '0' : '-156px', borderBottom: \"1px solid whitesmoke\"}}>\r\n        <img\r\n          alt=\"\"\r\n          src={logo}\r\n          width=\"auto\"\r\n          height=\"100\"\r\n        />\r\n      </div>\r\n    <Navbar className=\"justify-content-center\" style={{...navbarStyles, top: visible ? '0' : '-156px', paddingTop: '108px'}} variant=\"dark\" expand=\"md\">\r\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n      <Navbar.Collapse id=\"basic-navbar-nav\" className=\"row justify-content-lg-center\">\r\n        <Nav className=\"ml-4 ml-md-0\">\r\n          <Nav.Link className=\"navihover\" active>\r\n            <Link className=\"navilink pt-4 pb-3 mr-lg-4 ml-lg-4\" to=\"/\">\r\n              Domov\r\n            </Link>\r\n          </Nav.Link>\r\n\r\n          <Nav.Link className=\"navihover\" active>\r\n            <Link className=\"navilink pt-3 pb-3 mr-lg-4 ml-lg-4\" to=\"/vinarne\">\r\n              Vinarne\r\n            </Link>\r\n          </Nav.Link>\r\n\r\n          <Nav.Link className=\"navihover\">\r\n            <Link className=\"navilink pt-3 pb-3 mr-lg-4 ml-lg-4\" to=\"/vinka\">\r\n                Vinka\r\n            </Link>\r\n          </Nav.Link>\r\n\r\n          <Nav.Link className=\"navihover\">\r\n            <Link className=\"navilink pt-3 pb-3 mr-lg-4 ml-lg-4\" to=\"/akcie\">\r\n              Akcie\r\n            </Link>\r\n          </Nav.Link>\r\n\r\n          <Nav.Link className=\"navihover\">\r\n            <Link className=\"navilink pt-3 pb-3 mr-lg-4 ml-lg-4\" to=\"/sluzby\">\r\n              Sluzby\r\n            </Link>\r\n          </Nav.Link>\r\n\r\n          <Nav.Link className=\"navihover\">\r\n            <Link className=\"navilink pt-3 pb-3 mr-lg-4 ml-lg-4\" to=\"/kontakt\">\r\n              Kontakt\r\n            </Link>\r\n          </Nav.Link>\r\n        </Nav>\r\n        <Nav style={{position: \"absolute\", right: 16}}>\r\n            <Nav.Link className=\"navihover\">\r\n              <Link className=\"navilink pt-3 pb-3\" to=\"/cart-page\">\r\n                <FiShoppingCart />\r\n              </Link> \r\n            </Nav.Link>\r\n          {isLoggedIn ? (\r\n            <>\r\n              <Nav.Link className=\"navihover\">\r\n                <Link className=\"navilink pt-3 pb-3\" to=\"/objednavky\">\r\n                  Objednavky\r\n                </Link>\r\n              </Nav.Link>\r\n              <Nav.Link className=\"navihover\">\r\n                <Link className=\"navilink pt-3 pb-3\" onClick={handleLogOut} to=\"\">\r\n                Logout\r\n                </Link>\r\n              </Nav.Link>\r\n            </>\r\n          ) : (\r\n            <Nav.Link className=\"navihover\">\r\n              <Link className=\"navilink pt-3 pb-3\" to=\"/login-page\">\r\n                Login\r\n              </Link>\r\n            </Nav.Link>\r\n          )}\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n    </React.Fragment>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\"\r\n\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nexport default ({ showEditItems, setShowEditItems, shopId, itemId, itemDataProp, setShouldReload, shouldReload }) => {\r\n  const [itemName, setItemName] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [imageLink, setImageLink] = useState(\"\");\r\n  const [canSaveItem, setCanSaveItem] = useState(false);\r\n  const [maxCount, setMaxCount] = useState('')\r\n  const [color, setColor] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [taste, setTaste] = useState(\"\");\r\n\r\n  const [itemData, setItemData] = useState({...itemDataProp})\r\n\r\n  const resetPropsOnHide = () => {\r\n    setImageLink(\"\")\r\n    setItemName(\"\")\r\n    setPrice(\"\")\r\n    setDescription(\"\")\r\n    setCanSaveItem(false)\r\n    setShowEditItems('')\r\n  }\r\n\r\n  const getImage = (image) => {\r\n    try {\r\n      const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n      return img;\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleSaveItem = () => {\r\n    if (itemName) {\r\n      axios\r\n        .put(`${process.env.REACT_APP_BACKEND_URL}/shop/${shopId}/update-item/${itemId}/itemName/${itemName}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (price) {\r\n      axios\r\n        .put(`${process.env.REACT_APP_BACKEND_URL}/shop/${shopId}/update-item/${itemId}/price/${price}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (description) {\r\n      axios\r\n        .put(`${process.env.REACT_APP_BACKEND_URL}/shop/${shopId}/update-item/${itemId}/description/${description}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (imageLink) {\r\n      axios\r\n        .put(`${process.env.REACT_APP_BACKEND_URL}/shop/${shopId}/update-item/${itemId}/imageLink/${imageLink}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (maxCount) {\r\n      axios\r\n        .put(`${process.env.REACT_APP_BACKEND_URL}/shop/${shopId}/update-item/${itemId}/maxCount/${maxCount}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (color) {\r\n      axios\r\n        .put(`${process.env.REACT_APP_BACKEND_URL}/shop/${shopId}/update-item/${itemId}/color/${color}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (type) {\r\n      axios\r\n        .put(`${process.env.REACT_APP_BACKEND_URL}/shop/${shopId}/update-item/${itemId}/type/${type}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n    if (taste) {\r\n      axios\r\n        .put(`${process.env.REACT_APP_BACKEND_URL}/shop/${shopId}/update-item/${itemId}/taste/${taste}`, {})\r\n        .then(() => {\r\n          setShowEditItems('')\r\n          setShouldReload(!shouldReload)\r\n        })\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n  };\r\n\r\n  const deleteFile = (file) => {\r\n    axios\r\n      .get(`${process.env.REACT_APP_BACKEND_URL}/deleteFile/${shopId}`, {\r\n        params: file\r\n      })\r\n      .then(() => \r\n        {return}\r\n      )\r\n      .catch((err) => err && console.log(err));\r\n  };\r\n  useEffect(() => {\r\n    const isAlready = getImage(imageLink) ? getImage(imageLink) : imageLink;\r\n    if (isAlready || imageLink || description || price || itemName || color || type || taste) {\r\n      setCanSaveItem(true);\r\n    }\r\n  }, [imageLink, description, price, itemName, color, type, taste]);\r\n\r\n  const getUploadParams = ({ meta }) => {\r\n    return { url: `${process.env.REACT_APP_BACKEND_URL}/fileUpload/${shopId}` };\r\n  };\r\n\r\n  const handleChangeStatus = ({ meta, file }, status) => {\r\n    if (status === \"removed\") {\r\n      deleteFile(meta);\r\n    }\r\n    if (status === \"done\") {\r\n      setImageLink(`${shopId}-${meta.name}`);\r\n    }\r\n  };\r\n\r\n  const deleteFormerImage = () => {\r\n    const newItemData = {...itemData, imageLink: ''}\r\n    setItemData(newItemData)\r\n  }\r\n\r\n  return (\r\n    <Modal show={showEditItems} onHide={() => resetPropsOnHide()}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Add an item to your shop.</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"shopName\">Name your item:</label>\r\n            <input\r\n              value={itemName || itemData.itemName}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"shopName\"\r\n              onChange={(e) => setItemName(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"price\">Price:</label>\r\n            <input\r\n              value={price || itemData.price}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"price\"\r\n              onChange={(e) => setPrice(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"color\">Farba:</label>\r\n            <input\r\n              value={color || itemData.color}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"color\"\r\n              placeholder=\"povinne\"\r\n              onChange={(e) => setColor(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"taste\">Chut:</label>\r\n            <input\r\n              value={taste || itemData.taste}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"taste\"\r\n              onChange={(e) => setTaste(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"type\">Druh:</label>\r\n            <input\r\n              value={type || itemData.type}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"type\"\r\n              onChange={(e) => setType(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col>\r\n            <label htmlFor=\"sizes\">Maximalny pocet flias v jednej objednavke:</label>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col className=\"form-group\">\r\n          <InputGroup>\r\n              <input\r\n                value={maxCount || itemData.maxCount || ''}\r\n                className=\"form-control\"\r\n                type=\"number\"\r\n                name=\"sizes\"\r\n                onChange={(e) => setMaxCount(e.target.value)}\r\n                placeholder={'Nechaj prazdne ak nieje hranica'}\r\n              />\r\n            </InputGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"description\">Description:</label>\r\n            <textarea\r\n              maxLength=\"230\"\r\n              value={description || itemData.description}\r\n              className=\"form-control\"\r\n              name=\"description\"\r\n              type=\"text\"\r\n              style={{ resize: \"none\", minHeight: \"100px\" }}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <br />\r\n        <SlideDown className={\"my-dropdown-slidedown\"}>\r\n        {itemData.imageLink ? \r\n        <Row className=\"justify-content-center text-center\">\r\n          <Col className=\"form-group\">\r\n            <img style={{height:'110px', width: '80px'}} src={getImage(itemData.imageLink) ? getImage(itemData.imageLink) : itemData.imageLink} />\r\n            <Button onClick={() => deleteFormerImage()} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n          </Col>\r\n        </Row> :\r\n        <Row>\r\n          <Col>\r\n            <Dropzone\r\n              maxFiles={1}\r\n              multiple={false}\r\n              canCancel={false}\r\n              getUploadParams={getUploadParams}\r\n              onChangeStatus={handleChangeStatus}\r\n              accept=\"image/*\"\r\n              inputContent={() => (\r\n                <p\r\n                  className=\"text-center\"\r\n                  key=\"label\"\r\n                  style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                >\r\n                  Drop or click to choose image.\r\n                  <br />\r\n                  <BsUpload />\r\n                </p>\r\n              )}\r\n              classNames={{\r\n                dropzone: \"dropzoning\"\r\n              }}\r\n            />\r\n          </Col>\r\n        </Row>}\r\n      </SlideDown>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        {canSaveItem ? (\r\n          <Button variant=\"dark\" onClick={handleSaveItem}>\r\n            Save Item\r\n          </Button>\r\n        ) : (\r\n          <Button disabled variant=\"dark\">\r\n            Save Item\r\n          </Button>\r\n        )}\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { MdDelete, MdEdit } from \"react-icons/md\";\r\n\r\nimport EditItems from \"./EditItems\";\r\n\r\nexport default React.memo(({ shopItems, shopId, userId, setShouldReload, shouldReload, isOwner, url}) => {\r\n    const [count, setCount] = useState(\"\")\r\n    const [isHovered, setIsHovered] = useState(\"\")\r\n    const [clicked, setClicked] = useState('')\r\n    const [editing, setEditing] = useState('')\r\n    const [showAddedPopup, setShowAddedPopup] = useState(false)\r\n    const [hoverTimeout, setHoverTimeout] = useState('')\r\n\r\n    const copyFunction = (passId) => {\r\n      const dummy = document.createElement(\"textarea\");\r\n      document.body.appendChild(dummy);\r\n      dummy.value = passId;\r\n      dummy.select();\r\n      document.execCommand(\"copy\");\r\n      document.body.removeChild(dummy);\r\n      setClicked('#333333')\r\n      setTimeout(() => setClicked(''),150)\r\n    }\r\n    \r\n    const getImage = (image) => {\r\n      try {\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n      } catch {\r\n          return null;\r\n      }\r\n    };\r\n\r\n    const deleteCard = (e) => {\r\n      const itemId = e.currentTarget.parentNode.id;\r\n      axios\r\n          .post(\r\n          `${process.env.REACT_APP_BACKEND_URL}/shop/${shopId}/delete-item/${itemId}`,\r\n          {}\r\n          )\r\n          .then(() => setShouldReload(!shouldReload))\r\n          .catch((err) => err && console.log(`Error ${err}`));\r\n    };\r\n\r\n    const handleMouseOver = (id) => {\r\n      let hoverObj = {}\r\n      hoverObj[id] = 'block'\r\n      setIsHovered(hoverObj)\r\n      setTimeout(() => setHoverTimeout(hoverObj), 250)\r\n    }\r\n\r\n    const handleMouseLeave = () => {\r\n      setIsHovered(\"\")\r\n      setHoverTimeout(\"\")\r\n    }\r\n\r\n    return shopItems.map((item, i) => {\r\n      const { _id, itemName, price, description, imageLink, maxCount, color, taste } = item;\r\n      const passShopId = shopId === 'home' ? item.shopId : shopId\r\n\r\n      const image = getImage(imageLink)\r\n        ? getImage(imageLink)\r\n        : imageLink;\r\n\r\n      const showCount = () => {\r\n        let result = []\r\n        for (let num = 1; num<= (maxCount ?? 200); num++) {\r\n          result.push(<option key={num} value={num}>{num}</option>)\r\n        } \r\n        return result\r\n      }\r\n\r\n      const handleCount = (e) => {\r\n        let countObj = {}\r\n        countObj[_id] = e.target.value\r\n        setCount({...count, ...countObj})\r\n      }\r\n\r\n      const handleEditing = (e) => {\r\n        const itemId = e.currentTarget.parentNode.id;\r\n        let editingObj = {}\r\n        editingObj[itemId] = true\r\n        setEditing({...editing, ...editingObj})\r\n      }\r\n\r\n      const addItemToCart = (e) => {\r\n        const itemId = e.currentTarget.parentNode.parentNode.id;\r\n        const passCount = count[_id] || 1\r\n        if (userId) {\r\n          axios\r\n            .post(`${process.env.REACT_APP_BACKEND_URL}/users/${userId}/cart/add-cart-item/${passShopId}/${itemId}`, {\r\n            shopId: passShopId, itemId, count: passCount\r\n            })\r\n            .then(() => {\r\n              setShowAddedPopup(false)\r\n              setTimeout(() => setShowAddedPopup(true), 50)\r\n            })\r\n            .catch(err => err && console.log(err))\r\n            .then(() => setTimeout(() => setShowAddedPopup(false), 1500))\r\n        } else {\r\n          const localShoppingCart = localStorage.getItem('shoppingCart')\r\n          localStorage.removeItem('shoppingCart')\r\n          const newShoppingCart = localShoppingCart ? [...JSON.parse(localShoppingCart), {shopId: passShopId, itemId, count: passCount}] : [{shopId: passShopId, itemId, count: passCount}]\r\n          localStorage.setItem('shoppingCart', JSON.stringify(newShoppingCart))\r\n          setShowAddedPopup(false)\r\n          setTimeout(() => setShowAddedPopup(true), 50)\r\n          setTimeout(() => setShowAddedPopup(false), 1500)\r\n        }\r\n      }\r\n      return (\r\n        <Col className={`pt-2 pb-2 ${(shopId === 'home' && i>1) && 'd-none'} ${(shopId === 'home' && i===2) && 'd-none d-lg-block'} ${(shopId === 'home' && i===3) && 'd-none d-xl-block'}`} style={{color: \"whitesmoke\", overflow:\"hidden\"}} xs={12} md={6} lg={4} xl={3} key={_id}>\r\n          {showAddedPopup &&\r\n            <Alert style={{position: \"fixed\", zIndex: '+9', top:156, right:0}} variant=\"success\">\r\n              Polozka bola pridana do kosika!\r\n            </Alert>\r\n          }\r\n          <Card onMouseEnter={() => handleMouseOver(_id)} onTouchStart={() => handleMouseOver(_id)} onMouseLeave={() => handleMouseLeave()} style={{height: \"410px\", maxWidth: \"300px\"}} id={_id} >\r\n            {isOwner &&\r\n            <Button\r\n              onClick={(e) => deleteCard(e)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                zIndex: \"+5\"\r\n              }}\r\n              variant=\"outline-danger\"\r\n            >\r\n              <MdDelete style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n            {isOwner &&\r\n            <Button\r\n              onClick={(e) => handleEditing(e)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                marginLeft: \"40px\",\r\n                zIndex: \"+5\"\r\n              }}\r\n              variant=\"outline-warning\"\r\n            >\r\n              <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n            {editing[_id] && <EditItems shouldReload={shouldReload} setShouldReload={setShouldReload} itemDataProp={item} showEditItems={editing[_id]} setShowEditItems={setEditing} shopId={passShopId} itemId={_id} />}\r\n            <img className=\"shop-item-img\" style={{height: \"407px\"}} src={image} />\r\n            <div style={{color: \"#333333\", marginTop: \"-110px\" , backgroundColor: \"rgba(255,255,255, 0.7)\"}}>\r\n              <Card.Title className=\"mt-1 mb-1\">{itemName}</Card.Title>\r\n              {(color && taste) && \r\n              <Card.Text className=\"mt-1 mb-1\">{`${color[0].toUpperCase()}${color.substring(1).toLowerCase()}, ${taste[0].toUpperCase()}${taste.substring(1).toLowerCase()}`}</Card.Text>}\r\n              <Card.Text className={`mt-1 mb-1 pb-4`}>{price} </Card.Text>\r\n            </div>\r\n            <Card.ImgOverlay className={`${isHovered[_id] === 'block' ? 'fade-in' : 'fade-out'}`} style={{ background: \"rgba(52,58,64,0.7)\"}} >\r\n                {isHovered[_id] === 'block' && hoverTimeout[_id] &&\r\n                <Button style={{width: \"100%\"}} onClick={(e) => addItemToCart(e)} variant=\"dark\">Prida do koka.</Button>}\r\n                <Container>\r\n                {isHovered[_id] === 'block' && hoverTimeout[_id] &&\r\n                  <Row className=\"mt-2\">\r\n                    <Col>\r\n                      <Form.Control\r\n                        as=\"select\"\r\n                        value={count[_id]}\r\n                        onChange={(e) => handleCount(e)}\r\n                      >\r\n                        {showCount()}\r\n                      </Form.Control>\r\n                    </Col>\r\n                  </Row>}\r\n                  {(isOwner && isHovered[_id] === 'block') && hoverTimeout[_id] &&\r\n                  <><Row>\r\n                    <Col><a onClick={() => copyFunction(_id)} style={{textDecoration: 'none', cursor: 'pointer', color: clicked}}><strong>copy my id!</strong></a></Col>\r\n                  </Row>\r\n                  <Row style={{height: '240px', marginTop: '5px', marginBottom: '5px'}}>\r\n                    <Col>{description}</Col>\r\n                  </Row></>}\r\n                  {(url && isHovered[_id] === 'block') && hoverTimeout[_id] &&\r\n                    <Link to={`/${url}`}>\r\n                      <Button style={{width: \"100%\"}} variant=\"dark\">Navtvi vinre.</Button>\r\n                    </Link>\r\n                  }\r\n                </Container>\r\n            </Card.ImgOverlay>\r\n          </Card>\r\n        </Col>\r\n      );\r\n    });\r\n  });","import React, {useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nconst IMAGE_PREFIX = 'homescreen-event-image'\r\n\r\nexport default ({eventsPopup, setEventsPopup, forceRefresh, setForceRefresh, eventsImage, eventsText}) => {\r\n    const [description, setDescription] = useState(eventsText)\r\n    const [imageLink, setImageLink] = useState(eventsImage)\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            console.log(image)\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`${process.env.REACT_APP_BACKEND_URL}/deleteFile/${IMAGE_PREFIX}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `${process.env.REACT_APP_BACKEND_URL}/fileUpload/${IMAGE_PREFIX}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${IMAGE_PREFIX}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        axios.put(`${process.env.REACT_APP_BACKEND_URL}/home/events-description`, { descriptionEvents: description, imageLinkEvents: imageLink })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setForceRefresh(!forceRefresh)\r\n                setEventsPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n\r\n    return (\r\n        <Modal show={eventsPopup} onHide={() => setEventsPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {\r\n                imageLink ? \r\n                <Row className=\"justify-content-center text-center\">\r\n                    <Col className=\"form-group\">\r\n                    <img style={{height:'110px', width: '160px'}} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                    <Button onClick={() => setImageLink('')} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n                    </Col>\r\n                </Row> :\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok udalosti. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(description && imageLink) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Upravit\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Upravit\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setEventsPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, {useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nconst IMAGE_PREFIX = 'homescreen-service-image'\r\n\r\nexport default ({servicesPopup, setServicesPopup, forceRefresh, setForceRefresh, servicesImage, servicesText}) => {\r\n    const [description, setDescription] = useState(servicesText)\r\n    const [imageLink, setImageLink] = useState(servicesImage)\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            console.log(image)\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`${process.env.REACT_APP_BACKEND_URL}/deleteFile/${IMAGE_PREFIX}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `${process.env.REACT_APP_BACKEND_URL}/fileUpload/${IMAGE_PREFIX}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${IMAGE_PREFIX}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        axios.put(`${process.env.REACT_APP_BACKEND_URL}/home/services-description`, { descriptionServices: description, imageLinkServices: imageLink })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setForceRefresh(!forceRefresh)\r\n                setServicesPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n\r\n    return (\r\n        <Modal show={servicesPopup} onHide={() => setServicesPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {\r\n                imageLink ? \r\n                <Row className=\"justify-content-center text-center\">\r\n                    <Col className=\"form-group\">\r\n                    <img style={{height:'110px', width: '160px'}} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                    <Button onClick={() => setImageLink('')} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n                    </Col>\r\n                </Row> :\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok udalosti. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(description && imageLink) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Upravit\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Upravit\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setServicesPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, {useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nexport default ({descriptionsPopup, setDescriptionsPopup, forceRefresh, setForceRefresh, descriptionsText}) => {\r\n    const [description, setDescription] = useState(descriptionsText)\r\n\r\n    const handleSave = () => {\r\n        axios.put(`${process.env.REACT_APP_BACKEND_URL}/home/general-description`, { descriptionGeneral: description })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setForceRefresh(!forceRefresh)\r\n                setDescriptionsPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n\r\n    return (\r\n        <Modal show={descriptionsPopup} onHide={() => setDescriptionsPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"400px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n            <br />\r\n            {description ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Upravit\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Upravit\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setDescriptionsPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nexport default ({featuredsPopup, getImage, setFeaturedsPopup, forceRefresh, setForceRefresh, featuredIds}) => {\r\n    const [featured, setFeatured] = useState([])\r\n    const [featuredWines, setFeaturedWines] = useState([])\r\n\r\n    useEffect(() => {\r\n        setFeatured(featuredIds)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (featured.length === 4) {\r\n            setFeaturedWines([])\r\n            let featuredArr = ['','','','']\r\n            featured.map((item, i) => {\r\n                    axios.get(`${process.env.REACT_APP_BACKEND_URL}/shop/find-item-by-id/${item}`)\r\n                      .then(res => {\r\n                        const response = res.data\r\n                        const newObj = {...response[0], shopId: response[1]}\r\n                        featuredArr[i] = newObj\r\n                      })\r\n                      .catch(err => err && console.log('Error while setting full featured wines, ', err))\r\n                      .then(() => setFeaturedWines([...featuredArr]))\r\n                })\r\n            console.log(featuredWines)\r\n        }\r\n    }, [featured])\r\n\r\n    const handleSave = () => {\r\n        axios.post(`${process.env.REACT_APP_BACKEND_URL}/home/featured-wines`, { featuredWines: featured })\r\n            .then(res => {\r\n                setForceRefresh(!forceRefresh)\r\n                setFeaturedsPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n\r\n    return (\r\n        <Modal show={featuredsPopup} onHide={() => setFeaturedsPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        {featuredWines.length > 3 &&\r\n                        <>\r\n                            <h5>{featuredWines[0].itemName}</h5>\r\n                            <img style={{maxHeight: '100px', maxWidth: '80px'}} src={getImage(featuredWines[0].imageLink) || featuredWines[0].imageLink} />\r\n                        </>\r\n                        }\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <input\r\n                        value={featured.length > 3 && featured[0]}\r\n                        className=\"form-control text-center\"\r\n                        name=\"featured0\"\r\n                        type=\"text\"\r\n                        onChange={(e) => setFeatured([e.target.value, featured[1], featured[2], featured[3]])}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        {featuredWines.length > 3 &&\r\n                        <>\r\n                            <h5>{featuredWines[1].itemName}</h5>\r\n                            <img style={{maxHeight: '100px', maxWidth: '80px'}} src={getImage(featuredWines[1].imageLink) || featuredWines[1].imageLink} />\r\n                        </>\r\n                        }\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <input\r\n                        value={featured.length > 3 && featured[1]}\r\n                        className=\"form-control text-center\"\r\n                        name=\"featured1\"\r\n                        type=\"text\"\r\n                        onChange={(e) => setFeatured([featured[0], e.target.value,  featured[2], featured[3]])}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        {featuredWines.length > 3 &&\r\n                        <>\r\n                            <h5>{featuredWines[2].itemName}</h5>\r\n                            <img style={{maxHeight: '100px', maxWidth: '80px'}} src={getImage(featuredWines[2].imageLink) || featuredWines[2].imageLink} />\r\n                        </>\r\n                        }\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <input\r\n                        value={featured.length > 3 && featured[2]}\r\n                        className=\"form-control text-center\"\r\n                        name=\"featured2\"\r\n                        type=\"text\"\r\n                        onChange={(e) => setFeatured([featured[0], featured[1], e.target.value, featured[3]])}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        {featuredWines.length > 3 &&\r\n                        <>\r\n                            <h5>{featuredWines[3].itemName}</h5>\r\n                            <img style={{maxHeight: '100px', maxWidth: '80px'}} src={getImage(featuredWines[3].imageLink) || featuredWines[3].imageLink} />\r\n                        </>\r\n                        }\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <input\r\n                        value={featured.length > 3 && featured[3]}\r\n                        className=\"form-control text-center\"\r\n                        name=\"featured3\"\r\n                        type=\"text\"\r\n                        onChange={(e) => setFeatured([featured[0], featured[1], featured[2], e.target.value])}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n            <br />\r\n            {featured ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Upravit\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Upravit\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setFeaturedsPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n}","export default {\r\n    MAX_HEIGHT_JUMBO: 350,\r\n    MIN_HEIGHT_JUMBO: 350\r\n}","import React, {useState, useEffect} from \"react\";\r\nimport axios from 'axios';\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport ShowItem from '../Shop/ViewShop/ShowItem';\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Carousel from \"react-bootstrap/Carousel\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Card from \"react-bootstrap/Card\";\r\n\r\nimport UpdateEvents from './UpdateEvents';\r\nimport UpdateServices from './UpdateServices';\r\nimport UpdateDescription from './UpdateDescription';\r\nimport UpdateFeatured from './UpdateFeatured';\r\n\r\nimport options from '../../config/options';\r\n\r\nimport { MdEdit } from \"react-icons/md\";\r\nimport { HiOutlineBadgeCheck } from \"react-icons/hi\";\r\nimport { FiTruck } from \"react-icons/fi\";\r\nimport { GoPackage } from \"react-icons/go\";\r\nimport { RiSecurePaymentFill } from \"react-icons/ri\";\r\n\r\nconst {MAX_HEIGHT_JUMBO, MIN_HEIGHT_JUMBO} = options\r\n\r\n//Home.js\r\nexport default ({userId, isOwner}) => {\r\n  const [carouselData, setCarouselData] = useState('')\r\n  const [featuredWines, setFeaturedWines] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [featuredIds, setFeaturedIds] = useState([])\r\n\r\n  const [eventsData, setEventsData] = useState([])\r\n  const [servicesData, setServicesData] = useState([])\r\n  const [descriptionGeneral, setDescriptionGeneral] = useState('')\r\n  const [isHoveredServices, setIsHoveredServices] = useState('none')\r\n  const [isHoveredEvents, setIsHoveredEvents] = useState('none')\r\n\r\n  const [eventsPopup, setEventsPopup] = useState(false)\r\n  const [servicesPopup, setServicesPopup] = useState(false)\r\n  const [descriptionsPopup, setDescriptionsPopup] = useState(false)\r\n  const [featuredsPopup, setFeaturedsPopup] = useState(false)\r\n\r\n  const [forceRefresh, setForceRefresh] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    setFeaturedWines([])\r\n    setFeaturedIds([])\r\n    axios.get(`${process.env.REACT_APP_BACKEND_URL}/home/`)\r\n      .then(res => {\r\n        const featured = res.data.featuredWines\r\n        const events = [res.data.descriptionEvents, res.data.imageLinkEvents]\r\n        const services = [res.data.descriptionServices, res.data.imageLinkServices]\r\n        const description = res.data.descriptionGeneral\r\n        setEventsData(events)\r\n        setServicesData(services)\r\n        setDescriptionGeneral(description)\r\n        setFeaturedIds(featured)\r\n        featured.map(item => {\r\n          axios.get(`${process.env.REACT_APP_BACKEND_URL}/shop/find-item-by-id/${item}`)\r\n            .then(res => {\r\n              const response = res.data\r\n              const newObj = {...response[0], shopId: response[1]}\r\n              return setFeaturedWines(prev => [...prev, newObj])\r\n            })\r\n            .catch(err => err && console.log('Error while setting full featured wines, ', err))\r\n        })\r\n      })\r\n      .catch(err => err && console.log('Error while fetching featured wines, ', err))\r\n    axios.get(`${process.env.REACT_APP_BACKEND_URL}/shop/`)\r\n      .then(res => setCarouselData(res.data))\r\n      .catch(err => err && console.log('Error while fetching shops for carousel, ', err))\r\n      .then(() => setLoading(false))\r\n  }, [forceRefresh])\r\n\r\n  const getImage = (image) => {\r\n    try {\r\n        const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n        return img;\r\n    } catch {\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const ShowEvents = () => {\r\n    return (\r\n      <Col md={6} style={{padding:'0'}}>\r\n        {isOwner &&\r\n          <Button\r\n            onClick={() => setEventsPopup(true)}\r\n            style={{\r\n              width: \"40px\",\r\n              height: \"40px\",\r\n              marginBottom: \"-40px\",\r\n              zIndex: \"+1\",\r\n              position:'absolute'\r\n            }}\r\n            variant=\"outline-warning\"\r\n          >\r\n            <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n          </Button>\r\n          }\r\n          <Link to={`/akcie`}>\r\n            <Card className=\"h-100 w-100\" onMouseEnter={() => setIsHoveredEvents('block')} onMouseLeave={() => setIsHoveredEvents('none')} style={{ textAlign:\"center\", color: \"whitesmoke\" }} >\r\n                <Card.Img className=\"h-100 w-100\" src={getImage(eventsData[1]) ? getImage(eventsData[1]) : eventsData[1]} />\r\n                <Card.ImgOverlay className={isHoveredEvents === 'none' ? 'fade-in' : 'fade-out'} style={{ background: \"rgba(52,58,64,0.4)\"}} >\r\n                        <h3 style={{paddingTop: \"50%\"}}>\r\n                            Sluby\r\n                        </h3>\r\n                </Card.ImgOverlay>\r\n            </Card>\r\n        </Link>\r\n      </Col>\r\n    )\r\n  }\r\n\r\n  const ShowServices = () => {\r\n    return (\r\n      <Col md={6} style={{padding:'0'}}>\r\n        {isOwner &&\r\n          <Button\r\n            onClick={() => setServicesPopup(true)}\r\n            style={{\r\n              width: \"40px\",\r\n              height: \"40px\",\r\n              marginBottom: \"-40px\",\r\n              zIndex: \"+1\",\r\n              position:'absolute'\r\n            }}\r\n            variant=\"outline-warning\"\r\n          >\r\n            <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n          </Button>}\r\n        <Link to={`/sluzby`}>\r\n            <Card className=\"h-100 w-100\" onMouseEnter={() => setIsHoveredServices('block')} onMouseLeave={() => setIsHoveredServices('none')} style={{ textAlign:\"center\", color: \"whitesmoke\" }} >\r\n                <Card.Img className=\"h-100 w=100\" src={getImage(servicesData[1]) ? getImage(servicesData[1]) : servicesData[1]} />\r\n                <Card.ImgOverlay className={isHoveredServices === 'none' ? 'fade-in' : 'fade-out'} style={{ background: \"rgba(52,58,64,0.4)\"}} >\r\n                        <h3 style={{paddingTop: \"50%\"}}>\r\n                            Sluby\r\n                        </h3>\r\n                </Card.ImgOverlay>\r\n            </Card>\r\n        </Link>\r\n      </Col>\r\n    )\r\n  }\r\n\r\n  const ShowGeneral = () => {\r\n    return (\r\n      <Row className=\"text-center mb-2\">\r\n        <Col className=\"mt-4 mb-4\">\r\n          {isOwner &&\r\n            <Button\r\n              onClick={() => setDescriptionsPopup(true)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                zIndex: \"+1\",\r\n                position:'absolute'\r\n              }}\r\n              variant=\"outline-warning\"\r\n            >\r\n              <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n          {descriptionGeneral}\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n\r\n  const ShowUpdateFeatured = () => {\r\n    return <Row>\r\n        <Col className=\"mb-4\">\r\n          {isOwner &&\r\n            <Button\r\n              onClick={() => setFeaturedsPopup(true)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                zIndex: \"+1\",\r\n                position:'absolute'\r\n              }}\r\n              variant=\"outline-warning\"\r\n            >\r\n              <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>}\r\n        </Col>\r\n      </Row>\r\n  }\r\n\r\n  const showCarouselWithData = () => {\r\n    return carouselData.map(shop => {\r\n      const {shopName, owner, url, imageLink} = shop\r\n      const image = getImage(imageLink)\r\n        ? getImage(imageLink)\r\n        : imageLink;\r\n      return (\r\n        <Carousel.Item key={`${url}-${imageLink}`} style={{maxHeight: MAX_HEIGHT_JUMBO, minHeight: MIN_HEIGHT_JUMBO }}>\r\n            <Link to={`/${url}`}>\r\n            <img\r\n              style={{minHeight: MIN_HEIGHT_JUMBO, maxWidth: \"100%\"}}\r\n              className=\"d-block carousel-image\"\r\n              src={image}\r\n              alt={`Carousel-${imageLink}`}\r\n            />\r\n            <Carousel.Caption style={{zIndex:'+1'}}>\r\n              <h3>{shopName}</h3>\r\n              <p>{owner}</p>\r\n            </Carousel.Caption>\r\n          </Link>\r\n        </Carousel.Item>\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    loading ? \r\n    <Spinner\r\n      style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n      animation=\"border\"\r\n    />\r\n    :\r\n    <>\r\n      {eventsPopup &&\r\n        <UpdateEvents eventsText={eventsData[0]} eventsImage={eventsData[1]} eventsPopup={eventsPopup} setEventsPopup={setEventsPopup} forceRefresh={forceRefresh} setForceRefresh={setForceRefresh} />\r\n      }\r\n      {servicesPopup &&\r\n        <UpdateServices servicesText={servicesData[0]} servicesImage={servicesData[1]} servicesPopup={servicesPopup} setServicesPopup={setServicesPopup} forceRefresh={forceRefresh} setForceRefresh={setForceRefresh} />\r\n      }\r\n      {descriptionsPopup &&\r\n        <UpdateDescription descriptionsText={descriptionGeneral} descriptionsPopup={descriptionsPopup} setDescriptionsPopup={setDescriptionsPopup} forceRefresh={forceRefresh} setForceRefresh={setForceRefresh} />\r\n      }\r\n      {featuredsPopup &&\r\n        <UpdateFeatured getImage={getImage} featuredIds={featuredIds} featuredsPopup={featuredsPopup} setFeaturedsPopup={setFeaturedsPopup} forceRefresh={forceRefresh} setForceRefresh={setForceRefresh} />\r\n      }\r\n      <Carousel indicators={false} style={{maxHeight: MAX_HEIGHT_JUMBO, minHeight: MIN_HEIGHT_JUMBO }}>\r\n        {carouselData && showCarouselWithData()}  \r\n      </Carousel>\r\n      <svg preserveAspectRatio=\"none\" height=\"20%\" width=\"100%\" style={{position: \"absolute\", top: 376, left: 0}} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"130 -70 1200 390\"><path fill=\"white\" fill-opacity=\"1\" d=\"M0,288L60,277.3C120,267,240,245,360,213.3C480,181,600,139,720,112C840,85,960,75,1080,85.3C1200,96,1320,128,1380,144L1440,160L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z\"></path></svg>\r\n      <div className=\"pb-4\" style={{backgroundColor: 'white', color: \"rgba(55, 63, 39, 1)\"}}>\r\n        <Container>\r\n          <Row className=\"text-center justify-content-center pt-4\">\r\n            <Col className=\"pt-2\" xs={2} sm={3} md={4}>\r\n              <hr style={{backgroundColor: \"rgba(55, 63, 39, 1)\", paddingBottom: \"1px\"}} />\r\n            </Col>\r\n            <Col xs={8} sm={6} md={4}>\r\n              <h1>Nae vna</h1>\r\n            </Col>\r\n            <Col className=\"pt-2\"  xs={2} sm={3} md={4}>\r\n              <hr style={{backgroundColor: \"rgba(55, 63, 39, 1)\", paddingBottom: \"1px\"}}/>\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"text-center justify-content-center\">\r\n            <Col>\r\n              <em style={{fontSize: \"200%\"}}>Tie najlepie vnka z Malokarpatskej oblasti.</em>\r\n            </Col>\r\n          </Row>\r\n          <ShowGeneral />\r\n        </Container>\r\n      </div>\r\n      <div className=\"pt-3 pb-3\">\r\n        <Container className=\"pt-3 pb-3\">\r\n          {isOwner &&\r\n          <Row>\r\n            <ShowUpdateFeatured />\r\n          </Row>}\r\n          <Row className=\"text-center pt-4 pb-4\">\r\n            <ShowItem colXsSettings={6} colMdSettings={3} shopItems={featuredWines} shopId={'home'} userId={userId} setShouldReload={false} shouldReload={false} isOwner={false} />\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n      <div className=\"pt-3 pb-3\" style={{backgroundColor: 'rgba(55, 63, 39, 0.6)', color: \"whitesmoke\"}}>\r\n        <Container className=\"pt-3 pb-3\">\r\n            <Row className=\"text-center pt-2 pb-4\">\r\n              <Col className=\"mt-4\" lg={3} sm={6} xs={12}>\r\n                <p style={{height: \"50px\"}}><HiOutlineBadgeCheck style={{fontSize: \"300%\"}} /></p>\r\n                <h5>OVEREN PREDAJCOVIA</h5>\r\n                Kvalitn vna od poctivch loklnych vrobcov, ktor vykonvaj svoju prcu telom i duou.\r\n              </Col>\r\n              <Col className=\"mt-4\" lg={3} sm={6} xs={12}>\r\n                <p style={{height: \"50px\"}}><FiTruck style={{fontSize: \"300%\", color: 'whitesmoke !important'}} /></p>\r\n                <h5>ROZVOZ</h5>\r\n                ZDARMA: Pri kpe nad 150 Eur (Pezinok a okolie). Mon dohoda a dovoz i alej, volajte na 0948 721 868.\r\n              </Col>\r\n              <Col className=\"mt-4\" lg={3} sm={6} xs={12}>\r\n                <p style={{height: \"50px\"}}><GoPackage style={{fontSize: \"300%\"}} /></p>\r\n                <h5>OSOBN ODBER</h5>\r\n                Sacherka Cafe, Radnin nm. 42/5, 902 01 Pezinok. Mon dohoda, volajte na 0948 721 868.\r\n              </Col>\r\n              <Col className=\"mt-4\" lg={3} sm={6} xs={12}>\r\n                <p style={{height: \"50px\"}}><RiSecurePaymentFill style={{fontSize: \"300%\"}} /></p>\r\n                <h5>PLATBA</h5>\r\n                Hotovosou pri dobierke, alebo benmi platobnmi kartami, i cez internet banking.\r\n              </Col>\r\n            </Row>\r\n        </Container>\r\n      </div>\r\n      <div>  \r\n        <Row>\r\n          <ShowEvents />\r\n          <ShowServices />\r\n        </Row>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport shortid from 'shortid';\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\n// CreateShop.js\r\nexport default ({ userData }) => {\r\n  const [shopName, setShopName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  const owner = userData.fullName;\r\n  const ownerId = userData._id;\r\n\r\n  const handleOpenShop = () => {\r\n    console.log(owner, shopName, ownerId, description, shortid.generate())\r\n    axios\r\n      .post(`${process.env.REACT_APP_BACKEND_URL}/shop/add`, {\r\n        shopName,\r\n        owner,\r\n        ownerId,\r\n        description,\r\n        url: shortid.generate()\r\n      })\r\n      .then((res) => console.log(res.data))\r\n      .catch((err) => err && console.log(`Error catched: ${err}`))\r\n      .then(() => window.location.reload());\r\n  };\r\n\r\n  return (\r\n    <SlideDown className={\"my-dropdown-slidedown\"}>\r\n      <Container>\r\n        <br />\r\n        <Row>\r\n          <Col className=\"text-center\">\r\n            <h1>Create new shop!</h1>\r\n            <p>\r\n              Please fill out the form below and shortly after, your very own shop\r\n              will be generated.\r\n            </p>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"form-group\">\r\n            <label htmlFor=\"shopName\">Name your shop:</label>\r\n            <input\r\n              value={shopName}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"shopName\"\r\n              onChange={(e) => setShopName(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"form-group\">\r\n            <label htmlFor=\"setDescription\">\r\n              Add a brief description to your shop:\r\n            </label>\r\n            <textarea\r\n              value={description}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"setDescription\"\r\n              onChange={(e) => setDescription(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center\">\r\n            <Button variant=\"dark\" onClick={handleOpenShop}>\r\n              Open Shop!\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      <hr />\r\n    </SlideDown>\r\n  );\r\n};\r\n","import React, {useState} from 'react';\r\nimport CreateShop from \"./CreateShop\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Card from \"react-bootstrap/Card\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default ({userData, shopData}) => {\r\n    const [showCreateShop, setShowCreateShop] = useState(false)\r\n    const [isHovered, setIsHovered] = useState(\"\")\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n      };\r\n\r\n    const showShops = () => {\r\n        return shopData.map(shop => {\r\n            const { _id, shopName, description, url, overviewImage } = shop\r\n            const handleMouseOver = () => {\r\n                let hoverObj = {}\r\n                hoverObj[_id] = 'none'\r\n                setIsHovered({...isHovered, ...hoverObj})\r\n            }\r\n            const handleMouseLeave = () => {\r\n                let hoverObj = {}\r\n                setIsHovered('')\r\n            }\r\n            return (\r\n                <Col className=\"mt-2 mb-2\" style={{maxHeight: \"310px\"}} md={4} key={_id} >\r\n                    <Link to={`/${url}`}>\r\n                        <Card className=\"h-100\" onMouseEnter={() => handleMouseOver()} onMouseLeave={() => handleMouseLeave()} style={{ textAlign:\"center\", color: \"whitesmoke\" }} id={_id} >\r\n                            <Card.Img className=\"h-100\" src={getImage(overviewImage) ? getImage(overviewImage) : `https://miro.medium.com/max/295/1*i5iqn7xB-l0kLwsJJBYEWQ.jpeg`} />\r\n                            <Card.ImgOverlay className={`${isHovered[_id] === 'none' ? 'fade-out' : 'fade-in'}`} style={{ background: \"rgba(52,58,64,0.4)\"}} >\r\n                                    <h3 style={{paddingTop: \"50%\"}}>\r\n                                        {shopName}\r\n                                    </h3>\r\n                            </Card.ImgOverlay>\r\n                        </Card>\r\n                    </Link>\r\n                </Col>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Row>\r\n                {userData.isOwner && \r\n                <Col className=\"text-center\">\r\n                    {showCreateShop ? \r\n                    <CreateShop userData={userData} /> :\r\n                    <Button style={{marginTop: \"20px\"}} variant=\"dark\" onClick={() => setShowCreateShop(true)}>New Shop</Button>\r\n                    }\r\n                </Col>}\r\n            </Row>\r\n            <Row className=\"mt-4\">\r\n                {showShops()}\r\n            </Row>\r\n        </Container>\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport ShopsOverview from \"./ShopsOverview\";\r\n\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\n//Shop.js\r\nexport default ({ userData }) => {\r\n  const [shopData, setShopData] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    axios\r\n      .get(`${process.env.REACT_APP_BACKEND_URL}/shop/`)\r\n      .then((res) => setShopData(res.data ? res.data : {}))\r\n      .catch((err) => {\r\n        if (err) return console.log(`Fetch error: ${err}`);\r\n      })\r\n      .then(() => setLoading(false));\r\n  }, []); //eslint-disable-line\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <Spinner\r\n          style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n          animation=\"border\"\r\n        />\r\n      ) : <ShopsOverview userData={userData} shopData={shopData} />}\r\n    </>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\n// Login.js\r\nexport default ({shoppingCart = false, handleLogin}) => {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [middleName, setMiddleName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [passwordFirst, setPasswordFirst] = useState(\"\");\r\n  const [passwordSecond, setPasswordSecond] = useState(\"\");\r\n  const [passwordsMatch, setPasswordsMatch] = useState(false);\r\n  const [emailExists, setEmailExists] = useState(null);\r\n  const [phone, setPhone] = useState(\"\")\r\n\r\n  const [street, setStreet] = useState(\"\")\r\n  const [postal, setPostal] = useState(\"\")\r\n  const [city, setCity] = useState(\"\")\r\n\r\n  const handleSignUp = () => {\r\n    const fullName = middleName\r\n      ? firstName + \" \" + middleName + \" \" + lastName\r\n      : firstName + \" \" + lastName;\r\n    const address = `${street},${postal.toString()},${city}`\r\n    console.log(typeof phone, phone, typeof address, address )\r\n    axios\r\n      .post(`${process.env.REACT_APP_BACKEND_URL}/users/add-user`, {\r\n        userName: email,\r\n        password: passwordSecond,\r\n        fullName: fullName,\r\n        email: email,\r\n        phone: phone,\r\n        address: address\r\n      })\r\n      .then((res) => console.log(res.data))\r\n      .catch((err) => err && console.log(`Error: ${err}`))\r\n      .then(() => shoppingCart ? handleLogin() : window.location.reload());\r\n  };\r\n\r\n  const checkIfPasswordMeetsCriteria = () => {\r\n    if (\r\n      passwordFirst.search(/[0-9]/) !== -1 &&\r\n      passwordFirst.search(/[a-z]/) !== -1 &&\r\n      passwordFirst.search(/[A-Z]/) !== -1 &&\r\n      passwordFirst &&\r\n      passwordFirst.length > 7\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  const checkIfEmailInDatabase = () => {\r\n    axios\r\n      .get(`${process.env.REACT_APP_BACKEND_URL}/users/email/${email}`)\r\n      .then((res) => setEmailExists(res.data))\r\n      .catch((err) => err && console.log(`Error: ${err}`));\r\n  };\r\n\r\n  const checkIfEmailMeetsCriteria = () => {\r\n    if (\r\n      email &&\r\n      emailExists === null &&\r\n      email.match(/[a-z]+[.]?[a-z]*[@][a-z]+[.][a-z]{1,5}/gi)\r\n    )\r\n      return \"\";\r\n    else if (email && email.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfNameMeetsCriteria = (name) => {\r\n    if (name && name.match(/^[a-z]+$/i)) return \"\";\r\n    else if (name && name.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfCityMeetsCriteria = () => {\r\n    if (city && city.match(/^[a-z]+$/i)) return \"\";\r\n    else if (city && city.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfStreetMeetsCriteria = () => {\r\n    if (street && street.match(/^[a-z ]+[0-9 ]+[/]{0,1}[a-z0-9 ]*$/i)) return \"\";\r\n    else if (street && street.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfPhoneMeetsCriteria = () => {\r\n    if (phone && phone.match(/^[+]?[0-9]{6,14}[0-9]$/)) return \"\";\r\n    else if (phone && phone.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfPostalMeetsCriteria = () => {\r\n    if (postal && postal.match(/^[0-9]{5}$/)) return \"\";\r\n    else if (postal && postal.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (passwordFirst && passwordSecond && passwordFirst === passwordSecond) setPasswordsMatch(true);\r\n    else setPasswordsMatch(false);\r\n  }, [passwordSecond]); //eslint-disable-line\r\n\r\n  return (\r\n    <SlideDown className={\"my-dropdown-slidedown\"}>\r\n      <Container>\r\n        <br />\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <h2>Sign up!</h2>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"firstName\">Meno:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                firstName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"firstName\"\r\n              value={firstName}\r\n              onChange={(e) =>\r\n                setFirstName(\r\n                  e.target.value &&\r\n                    e.target.value[0].toUpperCase() +\r\n                      e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"middleName\">Stredn meno (voliten):</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                middleName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"middleName\"\r\n              value={middleName}\r\n              onChange={(e) =>\r\n                setMiddleName(\r\n                  e.target.value &&\r\n                    e.target.value[0].toUpperCase() +\r\n                      e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"lastName\">Priezvisko:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                lastName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"lastName\"\r\n              value={lastName}\r\n              onChange={(e) =>\r\n                setLastName(\r\n                  e.target.value &&\r\n                  e.target.value[0].toUpperCase() +\r\n                  e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"email\">E-mail:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfEmailMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              onBlur={checkIfEmailInDatabase}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"phone\">Telefon:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfPhoneMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"phone\"\r\n              value={phone}\r\n              onChange={(e) => setPhone(e.target.value &&\r\n                (e.target.value).substring(0,16)\r\n                )}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"street\">Ulica a slo domu:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfStreetMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"street\"\r\n              value={street}\r\n              onChange={(e) => setStreet(\r\n                e.target.value &&\r\n                e.target.value[0].toUpperCase() +\r\n                e.target.value.substring(1)\r\n              )}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"postal\">PS:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfPostalMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"postal\"\r\n              value={postal}\r\n              onChange={(e) => setPostal(e.target.value && (e.target.value).substring(0,5))}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"city\">Mesto:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfCityMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"city\"\r\n              value={city}\r\n              onChange={(e) => setCity(e.target.value)}\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"passwordFirst\">Nov heslo:</label>\r\n            <input\r\n              className={`form-control text-center ${\r\n                !checkIfPasswordMeetsCriteria() && passwordFirst.length > 0\r\n                  ? \"invalid-input\"\r\n                  : \"\"\r\n              }`}\r\n              type=\"password\"\r\n              name=\"passwordFirst\"\r\n              value={passwordFirst}\r\n              onChange={(e) => setPasswordFirst(e.target.value)}\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"passwordSecond\">Zopakova heslo:</label>\r\n            <input\r\n              className=\"form-control text-center\"\r\n              type=\"password\"\r\n              name=\"passwordSecond\"\r\n              value={passwordSecond}\r\n              onChange={(e) => setPasswordSecond(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        {checkIfPasswordMeetsCriteria() ? null : (\r\n          <Row className=\"justify-content-md-center\">\r\n            <Col md={6} className=\"text-center mt-3\">\r\n              <em style={{ color: \"#7b1818\" }}>\r\n                Heslo mus ma 8 znakov a mus pozostva z najmenej jednho vekho, malho psmena a mus obsahova minimlne jednu slicu.\r\n              </em>\r\n            </Col>\r\n          </Row>\r\n        )}\r\n\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-3\">\r\n            {emailExists && (\r\n              <>\r\n                <em style={{ color: \"#7b1818\" }}>\r\n                  Tento e-mail u existuje v naom systme.\r\n                </em>\r\n                <br />\r\n                <br />\r\n              </>\r\n            )}\r\n            {checkIfPasswordMeetsCriteria() && !passwordsMatch && (\r\n              <>\r\n                <em style={{ color: \"#7b1818\" }}>Hesl musia by rovnak!</em>\r\n              </>\r\n            )}\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-3\">\r\n            {checkIfEmailMeetsCriteria() === \"\" &&\r\n            checkIfNameMeetsCriteria(firstName) === \"\" &&\r\n            checkIfNameMeetsCriteria(lastName) === \"\" &&\r\n            checkIfPasswordMeetsCriteria() &&\r\n            checkIfPhoneMeetsCriteria() === \"\" &&\r\n            checkIfStreetMeetsCriteria() === \"\" &&\r\n            checkIfPostalMeetsCriteria() === \"\" &&\r\n            checkIfCityMeetsCriteria() === \"\" &&\r\n            passwordsMatch &&\r\n            emailExists === null ? (\r\n              <Button onClick={handleSignUp} variant=\"dark\">\r\n                Prihlsi sa!\r\n              </Button>\r\n            ) : (\r\n              <Button disabled variant=\"dark\">\r\n                Prihlsi sa!\r\n              </Button>\r\n            )}\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </SlideDown>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport SignUp from \"./SignUp\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\n// Login.js\r\nexport default ({shoppingCart = false}) => {\r\n  const [signUp, setSignUp] = useState(\"display-none\");\r\n  const [hideButton, setHideButton] = useState(\"\");\r\n\r\n  const showSignUp = () => {\r\n    setSignUp(\"\");\r\n    setHideButton(\"display-none\");\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n        <SlideDown className={\"my-dropdown-slidedown\"}>\r\n        <br />\r\n        <Row>\r\n          <Col className=\"text-center\">\r\n            <h2>Sign in!</h2>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <form action={shoppingCart ? '${process.env.REACT_APP_BACKEND_URL}/login?shopping=cart' : '${process.env.REACT_APP_BACKEND_URL}/login'} method=\"post\">\r\n              <input\r\n                className=\"form-control text-center\"\r\n                type=\"text\"\r\n                placeholder=\"e-mail\"\r\n                name=\"username\"\r\n              />\r\n              <br />\r\n              <input\r\n                className=\"form-control text-center\"\r\n                type=\"password\"\r\n                placeholder=\"heslo\"\r\n                name=\"password\"\r\n              />\r\n              <br />\r\n              <input\r\n                className=\"btn btn-dark\"\r\n                id=\"sub\"\r\n                type=\"submit\"\r\n                value=\"Sign in!\"\r\n              ></input>\r\n            </form>\r\n          </Col>\r\n        </Row>\r\n        <hr />\r\n        {!shoppingCart &&\r\n        <>\r\n          <div className={`${hideButton}`}>\r\n            <Row className={`justify-content-md-center`}>\r\n              <Col md={6} className=\"text-center mt-1\">\r\n                <Button onClick={showSignUp} variant=\"dark\">\r\n                  Ete nemm prihlsenie.\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n          <div className={`${signUp}`}>\r\n            <SignUp />\r\n          </div>\r\n        </>}\r\n      </SlideDown>\r\n    </Container>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\"\r\n\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nexport default ({ showAddItems, setShowAddItems, shopData }) => {\r\n  const [itemName, setItemName] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [imageLink, setImageLink] = useState(\"\");\r\n  const [canSaveItem, setCanSaveItem] = useState(false);\r\n  const [maxCount, setMaxCount] = useState('')\r\n  const [color, setColor] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [taste, setTaste] = useState(\"\");\r\n\r\n  const shopId = shopData._id;\r\n\r\n  const resetPropsOnHide = () => {\r\n    setImageLink(\"\")\r\n    setItemName(\"\")\r\n    setPrice(\"\")\r\n    setDescription(\"\")\r\n    setCanSaveItem(false)\r\n    setShowAddItems(false)\r\n  }\r\n\r\n  const getImage = (image) => {\r\n    try {\r\n      const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n      return img;\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleSaveItem = () => {\r\n    if (imageLink && description && price && itemName && color) {\r\n      axios\r\n        .post(`${process.env.REACT_APP_BACKEND_URL}/shop/${shopId}/add-item`, {\r\n          itemName,\r\n          price,\r\n          description,\r\n          imageLink,\r\n          maxCount: maxCount,\r\n          color,\r\n          type,\r\n          taste\r\n        })\r\n        .then(() => setShowAddItems(false))\r\n        .catch((err) => err && console.log(err));\r\n    }\r\n  };\r\n\r\n  const deleteFile = (file) => {\r\n    axios\r\n      .get(`${process.env.REACT_APP_BACKEND_URL}/deleteFile/${shopId}`, {\r\n        params: file\r\n      })\r\n      .then(() => \r\n        {return}\r\n      )\r\n      .catch((err) => err && console.log(err));\r\n  };\r\n  useEffect(() => {\r\n    const isAlready = getImage(imageLink) ? getImage(imageLink) : imageLink;\r\n    if (isAlready && imageLink && description && price && itemName && color) {\r\n      setCanSaveItem(true);\r\n    }\r\n  }, [imageLink, description, price, itemName, color]);\r\n\r\n  // specify upload params and url for your files\r\n  const getUploadParams = ({ meta }) => {\r\n    return { url: `${process.env.REACT_APP_BACKEND_URL}/fileUpload/${shopId}` };\r\n  };\r\n\r\n  // called every time a file's `status` changes\r\n  const handleChangeStatus = ({ meta, file }, status) => {\r\n    if (status === \"removed\") {\r\n      deleteFile(meta);\r\n    }\r\n    if (status === \"done\") {\r\n      setImageLink(`${shopId}-${meta.name}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal show={showAddItems} onHide={() => resetPropsOnHide()}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Add an item to your shop.</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"shopName\">Name your item:</label>\r\n            <input\r\n              value={itemName}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"shopName\"\r\n              onChange={(e) => setItemName(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"price\">Price:</label>\r\n            <input\r\n              value={price}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"price\"\r\n              onChange={(e) => setPrice(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"color\">Farba:</label>\r\n            <input\r\n              value={color}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"color\"\r\n              placeholder=\"povinne\"\r\n              onChange={(e) => setColor(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"taste\">Chut:</label>\r\n            <input\r\n              value={taste}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"taste\"\r\n              onChange={(e) => setTaste(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"type\">Druh:</label>\r\n            <input\r\n              value={type}\r\n              className=\"form-control\"\r\n              type=\"text\"\r\n              name=\"type\"\r\n              onChange={(e) => setType(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col>\r\n            <label htmlFor=\"sizes\">Maximalny pocet flias v jednej objednavke:</label>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col className=\"form-group\">\r\n          <InputGroup>\r\n              <input\r\n                value={maxCount}\r\n                className=\"form-control\"\r\n                type=\"number\"\r\n                name=\"sizes\"\r\n                onChange={(e) => setMaxCount(e.target.value)}\r\n                placeholder=\"Nechaj prazdne ak nieje hranica\"\r\n              />\r\n            </InputGroup>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col className=\"form-group\">\r\n            <label htmlFor=\"description\">Description:</label>\r\n            <textarea\r\n              maxLength=\"230\"\r\n              value={description}\r\n              className=\"form-control\"\r\n              name=\"description\"\r\n              type=\"text\"\r\n              style={{ resize: \"none\", minHeight: \"100px\" }}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <br />\r\n        <SlideDown className={\"my-dropdown-slidedown\"}>\r\n        <Row>\r\n          <Col>\r\n            <Dropzone\r\n              maxFiles={1}\r\n              multiple={false}\r\n              canCancel={false}\r\n              getUploadParams={getUploadParams}\r\n              onChangeStatus={handleChangeStatus}\r\n              accept=\"image/*\"\r\n              inputContent={() => (\r\n                <p\r\n                  className=\"text-center\"\r\n                  key=\"label\"\r\n                  style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                >\r\n                  Drop or click to choose image.\r\n                  <br />\r\n                  <BsUpload />\r\n                </p>\r\n              )}\r\n              classNames={{\r\n                dropzone: \"dropzoning\"\r\n              }}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </SlideDown>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        {canSaveItem ? (\r\n          <Button variant=\"dark\" onClick={handleSaveItem}>\r\n            Save Item\r\n          </Button>\r\n        ) : (\r\n          <Button disabled variant=\"dark\">\r\n            Save Item\r\n          </Button>\r\n        )}\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport AddItems from \"./AddItems\";\r\n\r\nimport { FiPlusSquare } from \"react-icons/fi\";\r\n\r\nimport ShowItem from './ShowItem'\r\n\r\nexport default ({ shopData, isOwner, userId }) => {\r\n  const [showAddItems, setShowAddItems] = useState(false);\r\n  const [shopItems, setShopItems] = useState(shopData.shopItems);\r\n  const [shouldReload, setShouldReload] = useState(false);\r\n\r\n  const shopId = shopData._id\r\n\r\n  useEffect(() => {\r\n    if (!showAddItems) {\r\n      setShouldReload(!shouldReload);\r\n    }\r\n  }, [showAddItems]); //eslint-disable-line\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`${process.env.REACT_APP_BACKEND_URL}/shop/${shopId}`)\r\n      .then((res) => setShopItems(res.data.shopItems))\r\n      .catch((err) => err && console.log(err.data))\r\n      .then(() => {\r\n        return;\r\n      });\r\n  }, [shouldReload]); //eslint-disable-line\r\n\r\n  return (\r\n    <Container className=\"text-center\">\r\n      {isOwner &&\r\n        <AddItems\r\n          shopData={shopData}\r\n          showAddItems={showAddItems}\r\n          setShowAddItems={setShowAddItems}\r\n        />}\r\n      <Row>\r\n        <ShowItem \r\n          shopItems={shopItems} \r\n          userId={userId} \r\n          shopId={shopId} \r\n          setShouldReload={setShouldReload}\r\n          shouldReload={shouldReload}\r\n          isOwner={isOwner}\r\n          />\r\n        {isOwner && \r\n        <Col className=\"mt-2 mb-2\" md={6} lg={4} xl={3}>\r\n          <Card style={{height: '400px'}}>\r\n            <Button\r\n              variant=\"outline-light\"\r\n              style={{ border: '0px', height: '100%'}}\r\n              onClick={() => setShowAddItems(true)}\r\n            >\r\n              <FiPlusSquare\r\n                style={{\r\n                  margin: \"0 auto\",\r\n                  fontSize: \"400%\"\r\n                }}\r\n              />\r\n            </Button>\r\n          </Card>\r\n        </Col>}\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\"\r\nimport Button from \"react-bootstrap/Button\"\r\nimport Alert from \"react-bootstrap/Alert\"\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\n\r\nimport { BsUpload } from \"react-icons/bs\";\r\nimport { MdDelete } from \"react-icons/md\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport options from '../../../config/options';\r\nconst {MAX_HEIGHT_JUMBO} = options\r\n\r\n// CreateShop.js\r\nexport default ({ shopData, isOwner }) => {\r\n  let history = useHistory();\r\n  const url = shopData.url;\r\n  const [currentUrl, setCurrentUrl] = useState(url)\r\n  const [newUrl, setNewUrl] = useState(url)\r\n  const [isUrlAvailible, setIsUrlAvailible] = useState(true)\r\n  const [editMode, setEditMode] = useState(false)\r\n  const [shopName, setShopName] = useState(shopData.shopName)\r\n  const [error, setError] = useState('')\r\n  const [description, setDescription] = useState(shopData.description)\r\n  const [owner, setOwner] = useState(shopData.owner)\r\n  const [imageLink, setImageLink] = useState('');\r\n  const [overviewImage, setOverviewImage] = useState('');\r\n  const [showImageFromDb, setShowImageFromDb] = useState(shopData.imageLink ? shopData.imageLink : '')\r\n  const [localUploadingTitle, setLocalUploadingTitle] = useState(false)\r\n  const [localUploadingOverview, setLocalUploadingOverview] = useState(false)\r\n  const [textColor, setTextColor] = useState(shopData.textColor)\r\n\r\n  useEffect(() => {\r\n    if (textColor !== shopData.textColor) {\r\n      axios\r\n      .put(\r\n        `${process.env.REACT_APP_BACKEND_URL}/shop/${shopData._id}/update-shop/textColor/${textColor}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    } \r\n  }, [textColor])\r\n\r\n  const getImage = (image) => {\r\n    try {\r\n      const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n      return img;\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // specify upload params and url for your files\r\n  const getUploadParams = ({ meta }) => {\r\n    return { url: `${process.env.REACT_APP_BACKEND_URL}/fileUpload/${shopData._id}` };\r\n  };\r\n\r\n  const deleteFile = (file) => {\r\n    axios\r\n      .get(`${process.env.REACT_APP_BACKEND_URL}/deleteFile/${shopData._id}`, {\r\n        params: file\r\n      })\r\n      .then(() => \r\n        {return}\r\n      )\r\n      .catch((err) => err && console.log(err));\r\n  };\r\n\r\n  // called every time a file's `status` changes\r\n  const handleChangeStatus = ({ meta, file }, status) => {\r\n    if (status === \"removed\") {\r\n      deleteFile(meta);\r\n    }\r\n    if (status === \"done\") {\r\n      if (localUploadingTitle) {\r\n        setImageLink(`${shopData._id}-${meta.name.replace(/_/g,'-')}`);\r\n      } else if (localUploadingOverview) {\r\n        setOverviewImage(`${shopData._id}-${meta.name.replace(/_/g,'-')}`);\r\n      }\r\n    }\r\n  };\r\n\r\n  const deleteCard = (e) => {\r\n    axios\r\n        .delete(\r\n        `${process.env.REACT_APP_BACKEND_URL}/shop/${shopData._id}`\r\n        )\r\n        .then(() => history.push(`/vinarne`))\r\n        .catch((err) => err && console.log(`Error ${err}`));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (imageLink) {\r\n      axios\r\n      .put(\r\n        `${process.env.REACT_APP_BACKEND_URL}/shop/${shopData._id}/update-shop/imageLink/${imageLink}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    } \r\n  }, [imageLink])\r\n\r\n  useEffect(() => {\r\n    if (overviewImage) {\r\n      axios\r\n      .put(\r\n        `${process.env.REACT_APP_BACKEND_URL}/shop/${shopData._id}/update-shop/overviewImage/${overviewImage}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    } \r\n  }, [overviewImage])\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`${process.env.REACT_APP_BACKEND_URL}/shop/link/${currentUrl}`)\r\n      .then((res) => {\r\n        if (res.data && currentUrl !== newUrl) setIsUrlAvailible(false)\r\n        else setIsUrlAvailible(true)\r\n      })\r\n      .catch((err) => err && console.log(err))\r\n  }, [currentUrl])\r\n\r\n  const handleError = (error) => {\r\n    console.log('Error connecting to the database: ', error)\r\n    setError('Chyba pri aktualizacii dat, data neboli upravene v databaze.')\r\n    return setTimeout(() => setError(''), 5000)\r\n  }\r\n\r\n  const handleUrlChange = () => {\r\n    if (isUrlAvailible) {\r\n      axios\r\n      .put(\r\n        `${process.env.REACT_APP_BACKEND_URL}/shop/${shopData._id}/update-shop/url/${currentUrl}`\r\n      )\r\n      .then((res) => {\r\n        return setNewUrl(currentUrl);\r\n      })\r\n      .catch((err) => err && handleError(err))\r\n      .then(() => history.push(`/${currentUrl}`))\r\n    }\r\n  }\r\n\r\n  const handleShopNameChange = () => {\r\n    if (shopName) {\r\n      axios\r\n      .put(\r\n        `${process.env.REACT_APP_BACKEND_URL}/shop/${shopData._id}/update-shop/shopName/${shopName}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    }\r\n  }\r\n\r\n  const handleDescriptionChange = () => {\r\n    if (description) {\r\n      axios\r\n      .put(\r\n        `${process.env.REACT_APP_BACKEND_URL}/shop/${shopData._id}/update-shop/description/${description}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    }\r\n  }\r\n\r\n  const handleOwnerChange = () => {\r\n    if (owner) {\r\n      axios\r\n      .put(\r\n        `${process.env.REACT_APP_BACKEND_URL}/shop/${shopData._id}/update-shop/owner/${owner}`\r\n      )\r\n      .then((res) => {\r\n        return;\r\n      })\r\n      .catch((err) => err && handleError(err));\r\n    }\r\n  }\r\n\r\n  const handleLocalUploadingOverview = () => {\r\n    setLocalUploadingTitle(false)\r\n    setLocalUploadingOverview(true)\r\n  }\r\n\r\n  const handleLocalUploadingTitle = () => {\r\n    setLocalUploadingOverview(false)\r\n    setLocalUploadingTitle(true)\r\n  }\r\n\r\n  return (\r\n    <Jumbotron style={{\r\n                      color: textColor === 'white' ? 'whitesmoke' : '#333333', \r\n                      fontSize: '120%',\r\n                      background: `url(${getImage(showImageFromDb) ? getImage(showImageFromDb) : ''}) no-repeat`, \r\n                      backgroundSize: 'cover'\r\n                      }} fluid>\r\n    <Container className=\"text-center\">\r\n      {!editMode ?\r\n        <Row style={{padding: '15px', backgroundColor: textColor === 'white' ? 'rgba(0,0,0,0.25)' : 'rgba(255,255,255,0.25)', borderRadius: '7.5px'}}>\r\n          <Col>\r\n            <h2>{shopName}</h2>\r\n            <p>{description}</p>\r\n            <p>{owner}</p>\r\n          </Col>\r\n        </Row>\r\n        :\r\n        <>\r\n          <Row className=\"justify-content-md-center pb-2\">\r\n            <Col className=\"text-center\">\r\n              <Button variant={`${textColor === 'white' ? 'light' : 'dark'}`} onClick={() => setTextColor('white')} >Biely text</Button>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;\r\n              <Button variant={`${textColor === 'white' ? 'dark' : 'light'}`} onClick={() => setTextColor('black')} >Cierny text</Button>\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"justify-content-center\">\r\n            <Button\r\n              onClick={(e) => deleteCard(e)}\r\n              style={{\r\n                width: \"40px\",\r\n                height: \"40px\",\r\n                marginBottom: \"-40px\",\r\n                zIndex: \"+5\"\r\n              }}\r\n              variant=\"outline-danger\"\r\n            >\r\n              <MdDelete style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n            </Button>\r\n            <Col xs={8}>\r\n              <input \r\n                className={'form-control text-center'}\r\n                value={shopName} \r\n                onChange={(e) => setShopName(e.target.value)} \r\n                onBlur={handleShopNameChange}\r\n                name=\"shopName\"\r\n                placeholder=\"Nazov\"\r\n              />\r\n              <textarea \r\n                style={{minHeight: '100px'}}\r\n                className={'form-control text-center'}\r\n                value={description} \r\n                onChange={(e) => setDescription(e.target.value)} \r\n                onBlur={handleDescriptionChange}\r\n                name=\"description\"\r\n                placeholder=\"Popis\"\r\n              />\r\n              <input \r\n                className={'form-control text-center'}\r\n                value={owner} \r\n                onChange={(e) => setOwner(e.target.value)} \r\n                onBlur={handleOwnerChange}\r\n                name=\"owner\"\r\n                placeholder=\"Majitel\"\r\n              />\r\n              <div>\r\n                <InputGroup>\r\n              <p style={{marginRight: 10, marginTop: 5}}>www.vimko.sk/</p>\r\n                  <input \r\n                    className={isUrlAvailible ? 'form-control text-center' : 'text-center form-control invalid-input'}\r\n                    value={currentUrl} \r\n                    onChange={(e) => setCurrentUrl(e.target.value)} \r\n                    name=\"currentUrl\"\r\n                    onBlur={handleUrlChange}\r\n                  />\r\n                </InputGroup>\r\n                {!isUrlAvailible && <p style={{color: \"red\"}}>Adresa uz existuje, vyberte prosim inu.</p>}\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"justify-content-md-center\">\r\n            <Col className=\"text-center\">\r\n              <Button variant=\"dark\" onClick={() => handleLocalUploadingTitle()}>Upload title image</Button>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;\r\n              <Button variant=\"dark\" onClick={() => handleLocalUploadingOverview()}>Upload overview image</Button>\r\n            </Col>\r\n          </Row>\r\n        </>\r\n        }\r\n        {((localUploadingTitle || localUploadingOverview) && editMode) ? \r\n        <SlideDown className={\"my-dropdown-slidedown\"}>\r\n        <Row>\r\n          <Col>\r\n            <Dropzone\r\n              maxFiles={1}\r\n              multiple={false}\r\n              canCancel={false}\r\n              getUploadParams={getUploadParams}\r\n              onChangeStatus={handleChangeStatus}\r\n              accept=\"image/*\"\r\n              inputContent={() => (\r\n                <p\r\n                  className=\"text-center\"\r\n                  key=\"label\"\r\n                  style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                >\r\n                  Drop or click to choose {localUploadingTitle ? 'title' : 'overview'} image.\r\n                  <br />\r\n                  <BsUpload />\r\n                </p>\r\n              )}\r\n              classNames={{\r\n                dropzone: \"dropzoning\"\r\n              }}\r\n            />\r\n          </Col>\r\n        </Row></SlideDown> : null\r\n        }\r\n        {isOwner &&\r\n        <Row className=\"mt-4\">\r\n          <Col>\r\n            <Alert style={{display: `${error ? 'block' : 'none'}`}} variant=\"danger\">{error}</Alert>\r\n            {isUrlAvailible ? \r\n            <Button onClick={() => setEditMode(editMode ? false : true)} variant=\"dark\">{editMode ? 'Hotovo' : 'Upravit'}</Button> :\r\n            <Button disabled onClick={() => setEditMode(editMode ? false : true)} variant=\"dark\">{editMode ? 'Hotovo' : 'Upravit'}</Button>}\r\n          </Col>\r\n        </Row>}\r\n      </Container>\r\n    </Jumbotron>\r\n  );\r\n};","import React from \"react\";\r\n\r\nimport ShopItems from \"./ViewShop/ShopItems\";\r\nimport ShopJumbotron from \"./ViewShop/ShopJumbotron\";\r\n\r\n// CreateShop.js\r\nexport default ({ shopData, isOwner, userId }) => {\r\n  return (\r\n    <>\r\n      <ShopJumbotron shopData={shopData} isOwner={isOwner} />\r\n      <ShopItems shopData={shopData} isOwner={isOwner} userId={userId} />\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\"\r\n\r\nimport ViewShop from \"../ViewShop\"\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\nexport default ({userId, isOwner}) => {\r\n    const {shopUrl} = useParams()\r\n    const [isUrlAvailible, setIsUrlAvailible] = useState(true)\r\n    const [shopData, setShopData] = useState({})\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        axios.get(`${process.env.REACT_APP_BACKEND_URL}/shop/link/${shopUrl}`)\r\n            .then((res) => res.data ? setShopData(res.data) : setShopData({}))\r\n            .catch((err) => err && console.log(err))\r\n            .then(() => {\r\n                if (shopData._id) setIsUrlAvailible(false)\r\n                setLoading(false)\r\n            })\r\n    }, [])\r\n\r\n    return (\r\n        loading ? \r\n        <Spinner\r\n          style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n          animation=\"border\"\r\n        /> :\r\n        isUrlAvailible && shopData._id ? \r\n        <ViewShop shopData={shopData} isOwner={isOwner} userId={userId} /> :\r\n        <h5 style={{ marginTop: \"20%\" }} className=\"text-center\">Pod adresou ${process.env.REACT_APP_BACKEND_URL}/{shopUrl} ete neexistuje iadna vinre, ak si vinr a chce u ns predva, nevhaj ns kontaktova.</h5>\r\n        \r\n    )\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\n// Login.js\r\nexport default ({setUserInformation}) => {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [middleName, setMiddleName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\")\r\n\r\n  const [street, setStreet] = useState(\"\")\r\n  const [postal, setPostal] = useState(\"\")\r\n  const [city, setCity] = useState(\"\")\r\n\r\n  const handleSignUp = () => {\r\n    const fullName = middleName\r\n      ? firstName + \" \" + middleName + \" \" + lastName\r\n      : firstName + \" \" + lastName;\r\n    const address = `${street},${postal.toString()},${city}`\r\n    return setUserInformation({ fullName, email, phone, address })\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log('check')\r\n    if (\r\n      checkIfEmailMeetsCriteria() === \"\" &&\r\n      checkIfNameMeetsCriteria(firstName) === \"\" &&\r\n      checkIfNameMeetsCriteria(lastName) === \"\" &&\r\n      checkIfPhoneMeetsCriteria() === \"\" &&\r\n      checkIfStreetMeetsCriteria() === \"\" &&\r\n      checkIfPostalMeetsCriteria() === \"\" &&\r\n      checkIfCityMeetsCriteria() === \"\"\r\n    ) {\r\n      handleSignUp()\r\n    } else {\r\n      setUserInformation('')\r\n    }\r\n  }, [firstName, lastName, email, street, city, postal, phone])\r\n\r\n  const checkIfEmailMeetsCriteria = () => {\r\n    if (\r\n      email &&\r\n      email.match(/[a-z]+[.]?[a-z]*[@][a-z]+[.][a-z]{1,5}/gi)\r\n    )\r\n      return \"\";\r\n    else if (email && email.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfNameMeetsCriteria = (name) => {\r\n    if (name && name.match(/^[a-z]+$/i)) return \"\";\r\n    else if (name && name.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfCityMeetsCriteria = () => {\r\n    if (city && city.match(/^[a-z]+$/i)) return \"\";\r\n    else if (city && city.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfStreetMeetsCriteria = () => {\r\n    if (street && street.match(/^[a-z ]+[0-9 ]+[/]{0,1}[a-z0-9 ]*$/i)) return \"\";\r\n    else if (street && street.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfPhoneMeetsCriteria = () => {\r\n    if (phone && phone.match(/^[+]?[0-9]{6,14}[0-9]$/)) return \"\";\r\n    else if (phone && phone.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  const checkIfPostalMeetsCriteria = () => {\r\n    if (postal && postal.match(/^[0-9]{5}$/)) return \"\";\r\n    else if (postal && postal.length > 0) return \"invalid-input\";\r\n  };\r\n\r\n  return (\r\n    <SlideDown className={\"my-dropdown-slidedown\"}>\r\n      <Container>\r\n        <br />\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"firstName\">Meno:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                firstName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"firstName\"\r\n              value={firstName}\r\n              onChange={(e) =>\r\n                setFirstName(\r\n                  e.target.value &&\r\n                    e.target.value[0].toUpperCase() +\r\n                      e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"middleName\">Stredn meno (voliten):</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                middleName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"middleName\"\r\n              value={middleName}\r\n              onChange={(e) =>\r\n                setMiddleName(\r\n                  e.target.value &&\r\n                    e.target.value[0].toUpperCase() +\r\n                      e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className=\"text-center mt-1\">\r\n            <label htmlFor=\"lastName\">Priezvisko:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfNameMeetsCriteria(\r\n                lastName\r\n              )}`}\r\n              type=\"text\"\r\n              name=\"lastName\"\r\n              value={lastName}\r\n              onChange={(e) =>\r\n                setLastName(\r\n                  e.target.value &&\r\n                  e.target.value[0].toUpperCase() +\r\n                  e.target.value.substring(1)\r\n                )\r\n              }\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"email\">E-mail:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfEmailMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"phone\">Telefon:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfPhoneMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"phone\"\r\n              value={phone}\r\n              onChange={(e) => setPhone(e.target.value &&\r\n                (e.target.value).substring(0,16)\r\n                )}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"street\">Ulica a cislo domu:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfStreetMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"street\"\r\n              value={street}\r\n              onChange={(e) => setStreet(\r\n                e.target.value &&\r\n                e.target.value[0].toUpperCase() +\r\n                e.target.value.substring(1)\r\n              )}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"postal\">PS:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfPostalMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"postal\"\r\n              value={postal}\r\n              onChange={(e) => setPostal(e.target.value && (e.target.value).substring(0,5))}\r\n            />\r\n          </Col>\r\n          <Col md={6} className={`text-center mt-1`}>\r\n            <label htmlFor=\"city\">Mesto:</label>\r\n            <input\r\n              className={`form-control text-center ${checkIfCityMeetsCriteria()}`}\r\n              type=\"text\"\r\n              name=\"city\"\r\n              value={city}\r\n              onChange={(e) => setCity(e.target.value)}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col md={6} className=\"text-center mt-3\">\r\n            \r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </SlideDown>\r\n  );\r\n};\r\n","import React, { useEffect, useState, useRef } from \"react\"\r\nimport axios from 'axios'\r\nimport { nanoid } from 'nanoid'\r\n\r\nimport Row from 'react-bootstrap/Row'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Image from 'react-bootstrap/Image'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\nimport PlaceOrder from './PlaceOrder'\r\nimport SignUp from '../Login/SignUp'\r\nimport Login from '../Login/Login'\r\nimport PayGate from './PayGate'\r\n\r\nexport default ({userId}) => {\r\n    const lastRef = useRef(null)\r\n    const [shops, setShops] = useState('')\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [userInformation, setUserInformation] = useState('')\r\n    const [login, setLogin] = useState(false)\r\n    const [registration, setRegistration] = useState(false)\r\n    const [shipmentOnly, setShipmentOnly] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n    const [orderId, setOrderId] = useState(nanoid())\r\n    const [passOrderInfo, setPassOrderInfo] = useState({})\r\n    const [paymentPopup, setPaymentPopup] = useState(false)\r\n\r\n    const executeScroll = () => lastRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' })   \r\n \r\n    const sortItems = (cartItems) => {\r\n        let sortShop = []\r\n        for (let cartItem of cartItems) {\r\n            axios.get(`${process.env.REACT_APP_BACKEND_URL}/shop/${cartItem.shopId}`)\r\n                .then((res) => {\r\n                    if (res.data && res.data.shopName) {\r\n                        const { shopName, owner } = res.data\r\n                        const itemsArr = res.data.shopItems\r\n                        const { count, itemId } = cartItem\r\n                        const findItem = itemsArr.find(el => el._id === cartItem.itemId)\r\n                        if (findItem === undefined) {\r\n                            axios.post(`${process.env.REACT_APP_BACKEND_URL}/users/${userId}/cart/delete-cart-item/${cartItem.shopId}/${cartItem.itemId}`)\r\n                                .then((res) => console.log(res))\r\n                                .catch(err => err && console.log('could not delete item', err))\r\n                        } else {\r\n                            const { itemName, price, imageLink } = findItem\r\n                            const index = sortShop.findIndex(el => el.shopId === cartItem.shopId)\r\n                            if (index >= 0) {\r\n                                const prevItems = sortShop[index].itemData\r\n                                const isInCart = prevItems.findIndex(el => el.itemId === itemId)\r\n                                if (isInCart !== -1) {\r\n                                    const prevCount = sortShop[index].itemData[isInCart].count\r\n                                    sortShop[index].itemData[isInCart].count = Number(count) + Number(prevCount)\r\n                                } else {\r\n                                    sortShop[index].itemData = [...prevItems, {itemId, itemName, price, imageLink, count}]\r\n                                }\r\n                            } else {\r\n                                const newShopId = cartItem.shopId\r\n                                sortShop = [...sortShop, {shopId: newShopId, shopName, owner, itemData: [{itemId, itemName, price, imageLink, count}]}]\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    if (err) return console.log(err)\r\n                })\r\n                .then(() => setShops([...sortShop]))\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setLoading(true)\r\n        const localShoppingCart = localStorage.getItem('shoppingCart')\r\n        if (userId) {\r\n            const parsedShoppingCart = localShoppingCart ? JSON.parse(localShoppingCart) : []\r\n            if (parsedShoppingCart.length !== 0) {\r\n                const addItemsToShoppingCartFromLocal = async () => {\r\n                    for (let cartItem of parsedShoppingCart) {\r\n                        const {shopId, itemId, count} = cartItem\r\n                        console.log('importing item ', itemId)\r\n                        await axios\r\n                            .post(`${process.env.REACT_APP_BACKEND_URL}/users/${userId}/cart/add-cart-item/${shopId}/${itemId}`, {\r\n                                shopId, itemId, count\r\n                            })\r\n                            .then((res) => console.log(res))\r\n                            .catch(err => err && console.log(err))\r\n                    }\r\n                    localStorage.removeItem('shoppingCart')\r\n                    console.log('Importing done.')\r\n                }\r\n                addItemsToShoppingCartFromLocal()\r\n            }\r\n            axios\r\n                .get(`${process.env.REACT_APP_BACKEND_URL}/users/${userId}`)\r\n                .then((res) => {\r\n                    if (res.data) {\r\n                        const {shoppingCart, fullName, email, phone, address} = res.data\r\n                        sortItems([...shoppingCart, ...parsedShoppingCart])\r\n                        setUserInformation({ fullName, email, phone, address })\r\n                    }\r\n                })\r\n                .catch(err => err && console.log(err))\r\n        } else {\r\n            const localShoppingCart = localStorage.getItem('shoppingCart')\r\n            localShoppingCart && sortItems(JSON.parse(localShoppingCart))\r\n        }\r\n        setLoading(false)\r\n    }, [refresh])\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    const removeItemFromCart = (e, itemId, shopId) => {\r\n        if (userId) {\r\n            axios.post(`${process.env.REACT_APP_BACKEND_URL}/users/${userId}/cart/delete-cart-item/${shopId}/${itemId}`)\r\n                .then((res) => console.log(res))\r\n                .catch(err => err && console.log('could not delete item', err))\r\n                .then(() => setRefresh(!refresh)) \r\n            if (shops.length === 1) setShops('')\r\n        } else {\r\n            const localShoppingCart = JSON.parse(localStorage.getItem('shoppingCart'))\r\n            const newLocalShoppingCart = localShoppingCart.filter(item => item.itemId !== itemId)\r\n            localStorage.removeItem('shoppingCart')\r\n            console.log(newLocalShoppingCart, shops)\r\n            if (newLocalShoppingCart.length !== 0) {\r\n                localStorage.setItem('shoppingCart', JSON.stringify(newLocalShoppingCart))\r\n            } else {\r\n                setShops('')\r\n            }\r\n            setRefresh(!refresh)\r\n        }\r\n    }\r\n\r\n    const showItemData = (itemData, shopId) => {\r\n        const outputData = itemData.map((item, i) => {\r\n            return (\r\n                <Col data-id={`${item.itemId}`} md={3} xs={6} lg={2} key={`${item.itemId}`} style={{textAlign: \"center\"}}>\r\n                    <Image src={getImage(item.imageLink) ? getImage(item.imageLink) : ''} rounded style={{height:75}} />\r\n                    <h6>{item.itemName}</h6>\r\n                    <p>\r\n                    Count: {item.count}<br />\r\n                    {item.price} </p>\r\n                    <Button style={{position: 'absolute', right: \"20%\", top: 0}} onClick={(e) => removeItemFromCart(e, item.itemId, shopId)} variant=\"danger\" size=\"sm\">X</Button>\r\n                </Col>\r\n            )\r\n        })\r\n        return outputData\r\n    }\r\n\r\n    const getTotalPrice = (itemData) => {\r\n        let total = 0\r\n        for (let item of itemData) {\r\n            total += Number((item.price).replace(/,/g,\".\"))*item.count\r\n        }\r\n        return total\r\n    }\r\n\r\n    const showCartItems = () => {\r\n        return shops.sort().map(shop => {\r\n            return (\r\n                <Row key={shop.shopId} style={{marginBottom: \"15px\"}}>\r\n                    <Col style={{marginBottom: \"50px\"}} xs={12}>\r\n                        <hr />\r\n                        <div style={{display: \"flex\", justifyContent:\"space-between\"}}>\r\n                            <div>\r\n                                <h4>{shop.shopName}</h4>\r\n                            </div>\r\n                            <div className=\"text-right\">\r\n                                <h5>Suma: {(getTotalPrice(shop.itemData)).toFixed(2).toString().replace(/\\./g,',')} </h5>\r\n                            </div>\r\n                        </div>\r\n                    </Col>\r\n                    {showItemData(shop.itemData, shop.shopId)}\r\n                </Row>\r\n            )\r\n        })\r\n    }\r\n\r\n    const createNewOrder = () => {\r\n        let result = 0\r\n        shops.map(shop => (shop.itemData).map(item => result += (Number((item.price).replace(/,/g,\".\"))*item.count)))\r\n        console.log(shops, userId, result, nanoid(), userInformation)\r\n        const total = result\r\n        const status = 'vytvorena'\r\n        setPassOrderInfo({ orderId, userInformation, userId, shops, total, status })\r\n        setPaymentPopup(true)\r\n        axios.post(`${process.env.REACT_APP_BACKEND_URL}/orders/add`, { orderId, userInformation, userId, shops, total, status })\r\n            .then(res => {\r\n                return\r\n            })\r\n            .catch(err => err && console.log(err))\r\n    }\r\n\r\n    const handleRegistration = () => {\r\n        setTimeout(() => executeScroll(),500)\r\n        setLogin(false)\r\n        setShipmentOnly(false)\r\n        setRegistration(true)\r\n    }\r\n\r\n    const handleShipmentOnly = () => {\r\n        setTimeout(() => executeScroll(),500)\r\n        setLogin(false)\r\n        setRegistration(false)\r\n        setShipmentOnly(true)\r\n    }\r\n\r\n    const handleLogin = () => {\r\n        setTimeout(() => executeScroll(),500)\r\n        setRegistration(false)\r\n        setShipmentOnly(false)\r\n        setLogin(true)\r\n    }\r\n\r\n\r\n    const showTotalCartPrice = () => {\r\n        let result = 0\r\n        shops.map(shop => (shop.itemData).map(item => result += (Number((item.price).replace(/,/g,\".\"))*item.count)))\r\n        return (\r\n            <Col>\r\n                <h3>Finalna suma: {result.toFixed(2).toString().replace(/\\./g,',')} </h3>\r\n            </Col>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Container style={{paddingTop: \"50px\"}}>\r\n            { passOrderInfo && paymentPopup &&\r\n                <PayGate orderInfo={passOrderInfo} setPaymentPopup={setPaymentPopup} paymentPopup={paymentPopup} />\r\n            }\r\n            {loading ? \r\n                <Spinner\r\n                    style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n                    animation=\"border\"\r\n                /> : \r\n            (shops && showCartItems())}\r\n            <Row className=\"text-center\">\r\n                <Col>\r\n                    {(!userInformation && shops ) &&\r\n                        <p>\r\n                            <Button className=\"mt-2\" onClick={() => handleRegistration()} variant=\"dark\">Dorucovacie udaje s registraciou</Button>\r\n                            &nbsp;&nbsp;\r\n                            <Button className=\"mt-2\" onClick={() => handleLogin()} variant=\"dark\">Mam ucet a chcem sa prihlasit</Button>\r\n                            &nbsp;&nbsp;\r\n                            <Button className=\"mt-2\" onClick={() => handleShipmentOnly()} variant=\"dark\">Dorucovacie udaje bez registracie</Button>\r\n                        </p>\r\n                    }\r\n                </Col>\r\n            </Row>\r\n            <Row ref={lastRef} className=\"text-center\">\r\n                {login && <Login shoppingCart={true} />}\r\n                {registration && <SignUp shoppingCart={true} handleLogin={handleLogin} />}\r\n                {shipmentOnly && <PlaceOrder setUserInformation={setUserInformation} />}\r\n            </Row>\r\n            <Row className=\"text-center\">\r\n                <br />\r\n                <br />\r\n                {shops && showTotalCartPrice()}\r\n            </Row>\r\n            <Row className=\"text-center\">\r\n                <Col>\r\n                    {userInformation && shops.length > 0 ?\r\n                        <Button onClick={() => createNewOrder()} variant=\"dark\">Prejst k platbe</Button>\r\n                    :\r\n                    <>  \r\n                        {shops.length === 0 && \r\n                            <>\r\n                                <h4>Nakupny kosik je momentlne prazdny.</h4>\r\n                                <br />\r\n                                <br />\r\n                            </>\r\n                        }\r\n                        <Button disabled variant=\"dark\">Prejst k platbe</Button>\r\n                    </>\r\n                }\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    )\r\n}","import React, {useEffect, useState} from 'react';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\n\r\nimport Table from 'react-bootstrap/Table'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\n\r\nexport default ({userId, isOwner}) => {\r\n    const [ordersData, setOrdersData] = useState([])\r\n    const [shippedObj, setShippedObj] = useState({})\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [expandedObj, setExpandedObj] = useState({})\r\n\r\n    // TODO: pridat moznost znovu zaplatit pri rejected order\r\n\r\n    useEffect(() => {\r\n        axios.get(`${process.env.REACT_APP_BACKEND_URL}/orders`)\r\n            .then(res => {\r\n                const result = res.data\r\n                const validatedOrdersData = isOwner ? result : result.filter(obj => obj.userId === userId)\r\n                setOrdersData(validatedOrdersData)\r\n            })\r\n            .catch(err => err && console.log(err.data))\r\n    }, [])\r\n\r\n    const handleShipping = (e, _id) => {\r\n        e.stopPropagation()\r\n        const newVal = e.target.checked\r\n        let newObj = {}\r\n        let expandObj = {}\r\n\r\n        newObj[_id] = newVal\r\n        setShippedObj({...shippedObj, ...newObj})\r\n\r\n        const oldValue = expandedObj[_id] ?? false\r\n        expandObj[_id] = oldValue\r\n        setExpandedObj({...expandedObj, ...expandObj})\r\n\r\n        axios.put(`${process.env.REACT_APP_BACKEND_URL}/orders/${_id}/update-shipped/`, {isShipped: newVal})\r\n            .then(res => console.log(res.data))\r\n            .catch(err => err && console.log(err))\r\n            .then(() => setRefresh(!refresh))\r\n    }\r\n\r\n    const handleExpanded = (_id) => {\r\n        let newObj = {}\r\n        const oldValue = expandedObj[_id] ?? false\r\n        newObj[_id] = !oldValue\r\n        setExpandedObj({...expandedObj, ...newObj})\r\n    }\r\n\r\n    const ShowItemDataForOrder = ({passItemData}) => {\r\n        let shopTotal = 0\r\n        return passItemData.map((item, i) => {\r\n            const { itemName, price, count, itemId } = item\r\n            shopTotal += (count * Number(price.replace(/,/g, '.')))\r\n            return (\r\n                <React.Fragment key={itemId}>\r\n                    <Col style={{border: '1px solid #cccccc'}} md={3}>\r\n                        ({count}) <strong>{itemName}</strong>, {price}\r\n                    </Col>\r\n                    {!passItemData[i+1] && \r\n                        <Col className=\"text-center\" style={{border: '1px solid #cccccc', backgroundColor: \"rgb(245, 245, 245)\"}} md={2} order={12}>\r\n                            <h6 >spolu: <strong>{shopTotal.toFixed(2).toString().replace(/\\./g, ',')} </strong></h6>\r\n                        </Col>\r\n                    }\r\n                </React.Fragment>\r\n            )\r\n        })\r\n    }\r\n\r\n\r\n    const ShowOrderDetails = ({passShops}) => {\r\n        return passShops.map((shop, i) => {\r\n            const { shopName, itemData, shopId } = shop\r\n            return (\r\n                <Container key={shopId} fluid>\r\n                    <Row>\r\n                        <Col md={2}><h5>{shopName}:</h5></Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <ShowItemDataForOrder passItemData={itemData} />\r\n                    </Row>\r\n                    {passShops[i+1] && \r\n                    <hr />}\r\n                </Container>\r\n            )\r\n        })\r\n    }\r\n\r\n    const ShowBuyerDetails = ({passUserInformation, buyerId}) => {\r\n        const { fullName, email, phone, address, iban } = passUserInformation\r\n        return (\r\n            <div className=\"text-center\" key={buyerId}>\r\n                <Row>\r\n                    <Col md={{span: 2, offset: 1}}><strong>{fullName}</strong></Col>\r\n                    <Col md={2}><strong>{phone}</strong></Col>\r\n                    <Col md={3}><strong>{address}</strong></Col>\r\n                    <Col md={{span: 3}}><strong>{iban ?? 'IBAN NENAJDENY'}</strong></Col>\r\n                </Row>\r\n                <hr />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const ShowOrders = () => {\r\n        return ordersData.map(order => {\r\n            const { _id, orderId, userInformation, createdAt, status, shops, isShipped, total, userId: buyerId } = order\r\n            const { email } = userInformation\r\n            const statusColor = status === 'vytvorena' ? 'orange' : status === 'zaplatena' ? 'green' : status === 'odmietnuta' ? 'red' : 'black';\r\n            return (\r\n                <tbody key={orderId}>\r\n                    <tr onClick={() => handleExpanded(_id)}>\r\n                        <td>{orderId}</td>\r\n                        <td>{email}</td>\r\n                        <td>{moment(createdAt).format(\"DD MMM YYYY, HH:mm:ss\")}</td>\r\n                        <td>{total.toFixed(2).toString().replace(/\\./g,',')} </td>\r\n                        <td style={{color: statusColor}}>{(shippedObj[_id] ?? isShipped) ? <em style={{color: 'blue', float:'left'}}>odoslana</em> : status}\r\n                            {status === 'zaplatena' && isOwner &&\r\n                            <input \r\n                                style={{\r\n                                    float: 'right', \r\n                                    cursor: 'pointer',\r\n                                    paddingBottom: '-50px'\r\n                                }}\r\n                                type='checkbox'\r\n                                name='checkShipping'\r\n                                checked={shippedObj[_id] ?? isShipped}\r\n                                onChange={(e) => handleShipping(e, _id)}\r\n                            />}\r\n                        </td>\r\n                    </tr>\r\n                    {expandedObj[_id] &&\r\n                    <tr style={{backgroundColor: status === 'zaplatena' ? '#f4fff4' : status === 'odmietnuta' ? '#ffecec' : 'rgb(250, 250, 250)' }}>\r\n                        <td colSpan=\"5\">\r\n                            <ShowBuyerDetails passUserInformation={userInformation} buyerId={buyerId} />\r\n                            <ShowOrderDetails passShops={shops} />\r\n                        </td>    \r\n                    </tr>}\r\n                </tbody>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Table striped bordered hover>\r\n            <thead>\r\n                <tr>\r\n                    <th>ID</th>\r\n                    <th>Email</th>\r\n                    <th>Datum</th>\r\n                    <th>Total</th>\r\n                    <th>Stav</th>\r\n                </tr>\r\n            </thead>\r\n            <ShowOrders />\r\n        </Table>    \r\n    )\r\n}","import React, {useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\n\r\nconst useQuery = () => {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default ({userId}) => {\r\n    let query = useQuery();\r\n    const orderId = query.get('Reference')\r\n    const result = query.get('ResultCode')\r\n    const paymentId = query.get('PaymentRequestId')\r\n\r\n    useEffect(() => {\r\n        if (orderId.length !== 0) {\r\n            axios.post(`${process.env.REACT_APP_BACKEND_URL}/orders/${orderId}/process-payment/`, {paymentResultCode: result, paymentId})\r\n                .then(res => console.log(res.data))\r\n                .catch(err => err && console.log(err))\r\n                .then(() => {\r\n                    if (userId) {\r\n                        axios.get(`${process.env.REACT_APP_BACKEND_URL}/users/${userId}/cart/clear-cart`)\r\n                            .then(res => console.log(res.data))\r\n                            .catch(error => error && console.log(error))\r\n                    }\r\n                    localStorage.removeItem('shoppingCart')\r\n                })\r\n            \r\n        }\r\n    }, [])\r\n    \r\n    return (\r\n        <p className=\"text-center\">Platba za objednavku cislo {orderId} bola prijata. <br/>Cislo platby {paymentId}</p>\r\n    )\r\n}","import React, {useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst useQuery = () => {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default ({userId}) => {\r\n    let query = useQuery();\r\n    const orderId = query.get('Reference')\r\n    const paymentId = query.get('PaymentRequestId')\r\n    \r\n    return (\r\n        <p className=\"text-center\" style={{color:'red'}}>Platba za objednavku cislo {orderId} nepresla. <br/>Referencne cislo platby {paymentId}</p>\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\n\r\nimport ShowItem from '../Shop/ViewShop/ShowItem';\r\n\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nimport {BsTrash, BsTrashFill} from \"react-icons/bs\";\r\n\r\n//Shop.js\r\nexport default ({ userData, shopData }) => {\r\n  const [initialData, setInitialData] = useState([])\r\n  const {userId} = userData\r\n\r\n  const [wineTypes, setWineTypes] = useState([])\r\n  const [typeFilter, setTypeFilter] = useState([])\r\n  const [tasteFilter, setTasteFilter] = useState([])\r\n  const [colorFilter, setColorFilter] = useState([])\r\n  const [colorDrop, setColorDrop] = useState('')\r\n  const [tasteDrop, setTasteDrop] = useState('')\r\n  const [typeDrop, setTypeDrop] = useState('')\r\n  const [trashIsHovered, setTrashIsHovered] = useState(false)\r\n\r\n  const [selectedFilters, setSelectedFilters] = useState([])\r\n\r\n  const recalculateTypeFilter = (typeArr) => {\r\n    let wtSet = new Set()\r\n      for (let el of typeArr) {\r\n        if (el.length !== 0) {\r\n          el.forEach(val => val && wtSet.add(`${val[0].toUpperCase()}${val.substring(1).toLowerCase()}`))\r\n        }\r\n      }\r\n    return setWineTypes([...wineTypes, ...wtSet])\r\n  }\r\n  \r\n  useEffect(() => {\r\n    if (initialData.length === 0) {\r\n      setInitialData(shopData)\r\n      const allWineTypes = shopData.map(shop => {\r\n        const {shopItems} = shop\r\n        const getWineTypes = shopItems.map(wine => wine.type)\r\n        return getWineTypes\r\n      })\r\n      recalculateTypeFilter(allWineTypes)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setSelectedFilters([...colorFilter, ...tasteFilter, ...typeFilter])\r\n  }, [typeFilter, tasteFilter, colorFilter])\r\n  \r\n  const filterData = (items) => {      \r\n    if (typeFilter.length !== 0 || tasteFilter.length !== 0 || colorFilter.length !== 0) {\r\n      const filteredDataByColor = colorFilter.length !== 0 ? items.filter(item => {\r\n        if (colorFilter.includes((item.color).toLowerCase().trim())) {\r\n          return item\r\n        } \r\n      }) : items\r\n      const filteredDataByTaste = tasteFilter.length !== 0 ? filteredDataByColor.filter(item => {\r\n        if (tasteFilter.includes((item.taste).toLowerCase().trim())) {\r\n          return item\r\n        } \r\n      }) : filteredDataByColor\r\n      const filteredDataByType = typeFilter.length !== 0 ? filteredDataByTaste.filter(item => {\r\n        if (typeFilter.includes((item.type).toLowerCase().trim())) {\r\n          return item\r\n        } \r\n      }) : filteredDataByTaste\r\n      return filteredDataByType\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n\r\n  const handleColorDrop = (val) => {\r\n    setColorDrop(val)\r\n    setColorFilter([...colorFilter, val.toLowerCase().trim()].sort())\r\n  }\r\n\r\n  const handleTasteDrop = (val) => {\r\n    setTasteDrop(val)\r\n    setTasteFilter([...tasteFilter, val.toLowerCase().trim()].sort())\r\n  } \r\n  \r\n  const handleTypeDrop = (val) => {\r\n    setTypeDrop(val)\r\n    setTypeFilter([...typeFilter, val.toLowerCase().trim()].sort())\r\n  }\r\n\r\n  const getAllWineTypes = () => {\r\n    return wineTypes.map(type => {\r\n      return <option key={type.toLowerCase()}>{type}</option>\r\n    })\r\n  }\r\n\r\n  const ShowWines = () => {\r\n    return initialData.map((shop,i) => {\r\n      const {shopItems, url, _id: shopId} = shop\r\n      const filteredShopItems = filterData(shopItems)\r\n      return (\r\n        <ShowItem key={`${shopId}-${i}`} shopItems={filteredShopItems ? filteredShopItems : shopItems} url={url} shopId={shopId} userId={userId} setShouldReload={false} shouldReload={false} isOwner={false} />\r\n      )\r\n    })\r\n  }\r\n\r\n  const handleRemoveFilter = (e) => {\r\n    const nodeId = e.currentTarget.id\r\n    if (colorFilter.includes(nodeId.toLowerCase())) {\r\n      setColorFilter(colorFilter.filter(data => data !== nodeId.toLowerCase()))\r\n    }\r\n    if (tasteFilter.includes(nodeId.toLowerCase())) {\r\n      setTasteFilter(tasteFilter.filter(data => data !== nodeId.toLowerCase()))\r\n    }\r\n    if (typeFilter.includes(nodeId.toLowerCase())) {\r\n      setTypeFilter(typeFilter.filter(data => data !== nodeId.toLowerCase()))\r\n    }\r\n  }\r\n\r\n  const ShowSelectedFilters = () => {\r\n    const output = selectedFilters.map(filter => {\r\n      return (\r\n        <React.Fragment key={filter.toLowerCase()}>\r\n          {filter[0].toUpperCase()+filter.substring(1).toLowerCase()} \r\n          &nbsp;\r\n          <a id={filter} onClick={(e) => handleRemoveFilter(e)} className=\"link-no-deco\">\r\n            <BsTrashFill style={{marginTop: \"-2px\"}} />\r\n          </a>&nbsp;&nbsp;&nbsp;&nbsp;\r\n        </React.Fragment>\r\n      )\r\n    })\r\n    return output\r\n  } \r\n  \r\n  return (\r\n    <Container>\r\n      <Row className=\"mb-4 text-center justify-content-center\">\r\n        <Col>\r\n          <Form.Control\r\n            as=\"select\"\r\n            value={colorDrop}\r\n            onChange={(e) => handleColorDrop(e.target.value)}\r\n          >\r\n            {!colorDrop && <option>Farba</option>}\r\n            <option>Biele</option>\r\n            <option>erven</option>\r\n            <option>Ruov</option>\r\n            <option>Rbezov</option>\r\n          </Form.Control>\r\n        </Col>\r\n        <Col>\r\n          <Form.Control\r\n            as=\"select\"\r\n            value={tasteDrop}\r\n            onChange={(e) => handleTasteDrop(e.target.value)}\r\n          >\r\n            {!tasteDrop && <option>Chut</option>}\r\n            <option>Extra Such</option>\r\n            <option>Such</option>\r\n            <option>Polosladk</option>\r\n            <option>Sladk</option>\r\n            <option>Dezertn</option>\r\n          </Form.Control>\r\n        </Col>\r\n        <Col>\r\n          <Form.Control\r\n            as=\"select\"\r\n            value={typeDrop}\r\n            onChange={(e) => handleTypeDrop(e.target.value)}\r\n          >\r\n            {!typeDrop && <option>Odroda</option>}\r\n            {getAllWineTypes()}\r\n          </Form.Control>\r\n        </Col>\r\n      </Row>\r\n      {selectedFilters.length !== 0 &&\r\n      <Row className=\"mb-4 text-center justify-content-center\">\r\n        <Col>\r\n            <strong>\r\n              <ShowSelectedFilters />\r\n            </strong>\r\n        </Col>\r\n      </Row>}\r\n      <Row className=\"text-center\">\r\n        <ShowWines />\r\n      </Row>\r\n    </Container>\r\n  );\r\n};","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport WineOverview from \"./WineOverview\";\r\n\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\n//Shop.js\r\nexport default ({ userData }) => {\r\n  const [shopData, setShopData] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    axios\r\n      .get(`${process.env.REACT_APP_BACKEND_URL}/shop/`)\r\n      .then((res) => setShopData(res.data ? res.data : {}))\r\n      .catch((err) => {\r\n        if (err) return console.log(`Fetch error: ${err}`);\r\n      })\r\n      .then(() => setLoading(false));\r\n  }, []); //eslint-disable-line\r\n  return (\r\n    <><br/>\r\n      {loading ? (\r\n        <Spinner\r\n          style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n          animation=\"border\"\r\n        />\r\n      ) : <WineOverview userData={userData} shopData={shopData} />}\r\n    </>\r\n  );\r\n};","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nexport default ({eventPopup, setEventPopup, refresh, setRefresh}) => {\r\n    const [startDate, setStartDate] = useState(new Date());\r\n\r\n    const [name, setName] = useState('')\r\n    const [idFromName, setIdFromName] = useState('')\r\n    const [link, setLink] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [imageLink, setImageLink] = useState('')\r\n    const [where, setWhere] = useState('')\r\n    const [when, setWhen] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (name) {\r\n            const setNewId = name.replace(/\\s/g, '-').toLowerCase()\r\n            setIdFromName(setNewId)\r\n        }\r\n    }, [name])\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`${process.env.REACT_APP_BACKEND_URL}/deleteFile/${idFromName}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `${process.env.REACT_APP_BACKEND_URL}/fileUpload/${idFromName}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${idFromName}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setWhen(moment(startDate).format('DD.MM.YYYY, HH:mm'))\r\n    },[startDate])\r\n\r\n    const handleSave = () => {\r\n        axios.post(`${process.env.REACT_APP_BACKEND_URL}/events/add`, {name, link, description, imageLink, where, when})\r\n            .then(res => {\r\n                setRefresh(!refresh)\r\n                setEventPopup(false)\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n    \r\n    return (\r\n        <Modal show={eventPopup} onHide={() => setEventPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"name\">Nazov udalosti:</label>\r\n                        <input \r\n                            name=\"name\"\r\n                            className=\"form-control text-center\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"povinne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"where\">Miesto udalosti:</label>\r\n                        <input \r\n                            name=\"where\"\r\n                            className=\"form-control text-center\"\r\n                            value={where}\r\n                            onChange={(e) => setWhere(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"link\">Externy link udalosti:</label>\r\n                        <input \r\n                            name=\"link\"\r\n                            className=\"form-control text-center\"\r\n                            value={link}\r\n                            onChange={(e) => setLink(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        Cas a datum udalosti (povinne): <strong>{when}</strong>\r\n                        <br /><br />\r\n                        Vyber: <DatePicker showTimeSelect selected={startDate} onChange={date => setStartDate(date)} />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"200px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {name &&\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok udalosti. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(name && description && imageLink && when) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Pridat\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Pridat\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setEventPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n        )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nexport default ({eventPopup, setEventPopup, refresh, setRefresh, eventData}) => {\r\n    const [startDate, setStartDate] = useState(moment(eventData.when, 'DD.MM.YYYY, HH:mm').valueOf());\r\n\r\n    const [name, setName] = useState(eventData.name)\r\n    const [idFromName, setIdFromName] = useState(eventData.idFromName)\r\n    const [link, setLink] = useState(eventData.link)\r\n    const [description, setDescription] = useState(eventData.description)\r\n    const [imageLink, setImageLink] = useState(eventData.imageLink)\r\n    const [where, setWhere] = useState(eventData.where)\r\n    const [when, setWhen] = useState(eventData.when)\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            console.log(image)\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (name) {\r\n            const setNewId = name.replace(/\\s/g, '-').toLowerCase()\r\n            setIdFromName(setNewId)\r\n        }\r\n    }, [name])\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`${process.env.REACT_APP_BACKEND_URL}/deleteFile/${idFromName}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `${process.env.REACT_APP_BACKEND_URL}/fileUpload/${idFromName}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${idFromName}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setWhen(moment(startDate).format('DD.MM.YYYY, HH:mm'))\r\n    },[startDate])\r\n\r\n    const handleSave = () => {\r\n        axios.post(`${process.env.REACT_APP_BACKEND_URL}/events/update-event/${eventData._id}`, {name, link, description, imageLink, where, when})\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setRefresh(!refresh)\r\n                setEventPopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n    \r\n    return (\r\n        <Modal show={eventPopup} onHide={() => setEventPopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"name\">Nazov udalosti:</label>\r\n                        <input \r\n                            name=\"name\"\r\n                            className=\"form-control text-center\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"povinne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"where\">Miesto udalosti:</label>\r\n                        <input \r\n                            name=\"where\"\r\n                            className=\"form-control text-center\"\r\n                            value={where}\r\n                            onChange={(e) => setWhere(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"link\">Externy link udalosti:</label>\r\n                        <input \r\n                            name=\"link\"\r\n                            className=\"form-control text-center\"\r\n                            value={link}\r\n                            onChange={(e) => setLink(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        Cas a datum udalosti (povinne): <strong>{when}</strong>\r\n                        <br /><br />\r\n                        Vyber: <DatePicker showTimeSelect selected={startDate} onChange={date => setStartDate(date)} />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"200px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {\r\n                (name && imageLink) ? \r\n                <Row className=\"justify-content-center text-center\">\r\n                    <Col className=\"form-group\">\r\n                    <img style={{height:'110px', width: '160px'}} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                    <Button onClick={() => setImageLink('')} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n                    </Col>\r\n                </Row> :\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok udalosti. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(name && description && imageLink && when) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Pridat\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Pridat\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setEventPopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n        )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nimport Card from 'react-bootstrap/Card'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport AddEvent from './AddEvent'\r\nimport EditEvent from './EditEvent'\r\n\r\nimport {MdDateRange, MdLocationOn, MdDelete, MdEdit} from 'react-icons/md'\r\n\r\nexport default ({isOwner}) => {\r\n    const [eventsData, setEventsData] = useState([])\r\n    const [eventPopup, setEventPopup] = useState(false)\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [editing, setEditing] = useState('')\r\n\r\n    const handleEditing = (e) => {\r\n        const itemId = e.currentTarget.parentNode.id;\r\n        let editingObj = {}\r\n        editingObj[itemId] = true\r\n        setEditing({...editing, ...editingObj})\r\n    }\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n            return img;\r\n        } catch {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    const deleteCard = (eventId) => {\r\n        axios.delete(`${process.env.REACT_APP_BACKEND_URL}/events/${eventId}/`)\r\n            .then(() => setRefresh(!refresh))\r\n            .catch((err) => err && console.log(`Error ${err}`));\r\n    };\r\n\r\n    const sortEventsData = (data) => {\r\n        return data.sort((a, b) => (a.when < b.when) ? 1 : -1)\r\n    }\r\n\r\n    useEffect(() => {\r\n        axios.get(`${process.env.REACT_APP_BACKEND_URL}/events/`)\r\n            .then(res => {\r\n                const events = res.data\r\n                const result = sortEventsData(events)\r\n                setEventsData(result)\r\n            })\r\n            .catch(err => err && console.log(err))\r\n    }, [refresh])\r\n\r\n    const handleSubmit = (passLink) => {\r\n        const win = window.open(passLink, \"_blank\");\r\n        win.focus();\r\n    }\r\n\r\n    const ShowEvents = () => {\r\n        return eventsData.map(event => {\r\n            const { _id, name, link, description, imageLink, when, where } = event\r\n            return (\r\n                <Col key={_id} style={{maxWidth:'800px'}} className=\"mt-4\" md={12} lg={6}>\r\n                    <Card className=\"h-100\" id={_id}>\r\n                        {isOwner &&\r\n                            <Button\r\n                                onClick={() => deleteCard(_id)}\r\n                                style={{\r\n                                    width: \"40px\",\r\n                                    height: \"40px\",\r\n                                    marginBottom: \"-40px\",\r\n                                    zIndex: \"+5\"\r\n                                }}\r\n                                variant=\"outline-danger\"\r\n                                >\r\n                                <MdDelete style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n                            </Button>}\r\n                        {isOwner &&\r\n                        <Button\r\n                            onClick={(e) => handleEditing(e)}\r\n                            style={{\r\n                                width: \"40px\",\r\n                                height: \"40px\",\r\n                                marginBottom: \"-40px\",\r\n                                marginLeft: \"40px\",\r\n                                zIndex: \"+5\"\r\n                            }}\r\n                            variant=\"outline-warning\"\r\n                            >\r\n                            <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n                            </Button>}\r\n                            \r\n                        {editing &&\r\n                            <EditEvent refresh={refresh} setRefresh={setRefresh} setEventPopup={setEditing} eventPopup={editing[_id]} eventData={event} />\r\n                        }\r\n                        <Card.Img variant=\"top\" style={{ height: '350px' }} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                        <Card.Body>\r\n                            <Card.Title>{name}<Button onClick={() => handleSubmit(link)} size=\"sm\" variant=\"dark\" style={{float: 'right', marginTop: '-5px'}}>Viac info</Button></Card.Title>\r\n                            <Card.Text>{description}</Card.Text>\r\n                        </Card.Body>\r\n                        {(when || where) &&\r\n                        <Card.Footer>\r\n                            <small className=\"text-muted\"><MdDateRange style={{fontSize: '130%'}} /> {when}<br /> <MdLocationOn style={{fontSize: '130%'}} /> {where}</small>\r\n                        </Card.Footer>}\r\n                    </Card>\r\n                </Col>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Container className=\"mb-4\">\r\n            {eventPopup &&\r\n                <AddEvent refresh={refresh} setRefresh={setRefresh} setEventPopup={setEventPopup} eventPopup={eventPopup} />\r\n            }\r\n            {isOwner &&\r\n            <Row className=\"justify-content-center\" >\r\n                <Button className=\"mt-4\" variant=\"dark\" onClick={() => setEventPopup(true)}>Pridat Event</Button>\r\n            </Row>}\r\n            <Row className=\"justify-content-center justify-content-md-start\" >\r\n                <ShowEvents />\r\n            </Row>\r\n        </Container>\r\n    )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nexport default ({servicePopup, setServicePopup, refresh, setRefresh}) => {\r\n    const [name, setName] = useState('')\r\n    const [idFromName, setIdFromName] = useState('')\r\n    const [link, setLink] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [imageLink, setImageLink] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (name) {\r\n            const setNewId = name.replace(/\\s/g, '-').toLowerCase()\r\n            setIdFromName(setNewId)\r\n        }\r\n    }, [name])\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`${process.env.REACT_APP_BACKEND_URL}/deleteFile/${idFromName}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `${process.env.REACT_APP_BACKEND_URL}/fileUpload/${idFromName}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${idFromName}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        axios.post(`${process.env.REACT_APP_BACKEND_URL}/services/add`, {name, link, description, imageLink})\r\n            .then(res => {\r\n                setRefresh(!refresh)\r\n                setServicePopup(false)\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n    \r\n    return (\r\n        <Modal show={servicePopup} onHide={() => setServicePopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"name\">Nazov sluzby:</label>\r\n                        <input \r\n                            name=\"name\"\r\n                            className=\"form-control text-center\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"povinne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"link\">Externy link sluzby:</label>\r\n                        <input \r\n                            name=\"link\"\r\n                            className=\"form-control text-center\"\r\n                            value={link}\r\n                            onChange={(e) => setLink(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"200px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {name &&\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok sluzby. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(name && description && imageLink) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Pridat\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Pridat\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setServicePopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n        )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Col, Row } from 'react-bootstrap'\r\n\r\nimport { SlideDown } from \"react-slidedown\";\r\nimport \"react-slidedown/lib/slidedown.css\";\r\n\r\nimport Dropzone from \"react-dropzone-uploader\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\n\r\nexport default ({servicePopup, setServicePopup, refresh, setRefresh, serviceData}) => {\r\n    const [name, setName] = useState(serviceData.name)\r\n    const [idFromName, setIdFromName] = useState(serviceData.idFromName)\r\n    const [link, setLink] = useState(serviceData.link)\r\n    const [description, setDescription] = useState(serviceData.description)\r\n    const [imageLink, setImageLink] = useState(serviceData.imageLink)\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            console.log(image)\r\n          const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n          return img;\r\n        } catch {\r\n          return null;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (name) {\r\n            const setNewId = name.replace(/\\s/g, '-').toLowerCase()\r\n            setIdFromName(setNewId)\r\n        }\r\n    }, [name])\r\n\r\n    const deleteFile = (file) => {\r\n        axios\r\n          .get(`${process.env.REACT_APP_BACKEND_URL}/deleteFile/${idFromName}`, {\r\n            params: file\r\n          })\r\n          .then(() => \r\n            {return}\r\n          )\r\n          .catch((err) => err && console.log(err));\r\n    };\r\n\r\n    const getUploadParams = ({ meta }) => {\r\n        return { url: `${process.env.REACT_APP_BACKEND_URL}/fileUpload/${idFromName}` };\r\n    };\r\n\r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n        if (status === \"removed\") {\r\n        deleteFile(meta);\r\n        }\r\n        if (status === \"done\") {\r\n        setImageLink(`${idFromName}-${meta.name}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = () => {\r\n        console.log(serviceData)\r\n        axios.post(`${process.env.REACT_APP_BACKEND_URL}/services/update-service/${serviceData._id}`, {name, link, description, imageLink})\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setRefresh(!refresh)\r\n                setServicePopup('')\r\n            })\r\n            .catch(err => err && err.data)\r\n    }\r\n    \r\n    return (\r\n        <Modal show={servicePopup} onHide={() => setServicePopup(false)}>\r\n            <Modal.Body className=\"text-center\">\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"name\">Nazov sluzby:</label>\r\n                        <input \r\n                            name=\"name\"\r\n                            className=\"form-control text-center\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            placeholder=\"povinne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                        <label htmlFor=\"link\">Externy link sluzby:</label>\r\n                        <input \r\n                            name=\"link\"\r\n                            className=\"form-control text-center\"\r\n                            value={link}\r\n                            onChange={(e) => setLink(e.target.value)}\r\n                            placeholder=\"volitelne\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col className=\"form-group text-center mt-1\">\r\n                    <label htmlFor=\"description\">Description:</label>\r\n                    <textarea\r\n                        value={description}\r\n                        className=\"form-control text-center\"\r\n                        name=\"description\"\r\n                        type=\"text\"\r\n                        style={{ resize: \"none\", minHeight: \"200px\" }}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"povinne\"\r\n                    />\r\n                    </Col>\r\n                </Row>\r\n                <br />\r\n                <SlideDown className={\"my-dropdown-slidedown\"}>\r\n                {\r\n                (name && imageLink) ? \r\n                <Row className=\"justify-content-center text-center\">\r\n                    <Col className=\"form-group\">\r\n                    <img style={{height:'110px', width: '160px'}} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                    <Button onClick={() => setImageLink('')} variant=\"dark\" size=\"sm\" >Vymazat obrazok</Button>\r\n                    </Col>\r\n                </Row> :\r\n                <Row>\r\n                    <Col>\r\n                        <Dropzone\r\n                            maxFiles={1}\r\n                            multiple={false}\r\n                            canCancel={false}\r\n                            getUploadParams={getUploadParams}\r\n                            onChangeStatus={handleChangeStatus}\r\n                            accept=\"image/*\"\r\n                            inputContent={() => (\r\n                                <p\r\n                                className=\"text-center\"\r\n                                key=\"label\"\r\n                                style={{ marginTop: \"15px\", color: \"#333333\" }}\r\n                                >\r\n                                Pridat obrazok sluzby. <br /> (povinne)\r\n                                <br />\r\n                                <BsUpload />\r\n                                </p>\r\n                            )}\r\n                            classNames={{\r\n                                dropzone: \"dropzoning\"\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>}\r\n            </SlideDown>\r\n            <br />\r\n            {(name && description && imageLink) ?\r\n                <Button variant=\"dark\" onClick={() => handleSave()}>\r\n                    Pridat\r\n                </Button> :\r\n                <Button disabled variant=\"dark\">\r\n                    Pridat\r\n                </Button>\r\n            }&nbsp;&nbsp;&nbsp;&nbsp;\r\n            <Button variant=\"dark\" onClick={() => setServicePopup(false)}>\r\n                Zrusit\r\n            </Button>\r\n            </Modal.Body>\r\n        </Modal>\r\n        )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nimport Card from 'react-bootstrap/Card'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Button from 'react-bootstrap/Button'\r\n\r\nimport AddService from './AddService'\r\nimport EditService from './EditService'\r\n\r\nimport {MdDateRange, MdLocationOn, MdDelete, MdEdit} from 'react-icons/md'\r\n\r\nexport default ({isOwner}) => {\r\n    const [servicesData, setServicesData] = useState([])\r\n    const [servicePopup, setServicePopup] = useState(false)\r\n    const [refresh, setRefresh] = useState(false)\r\n    const [editing, setEditing] = useState('')\r\n\r\n    const handleEditing = (e) => {\r\n        const itemId = e.currentTarget.parentNode.id;\r\n        let editingObj = {}\r\n        editingObj[itemId] = true\r\n        setEditing({...editing, ...editingObj})\r\n    }\r\n\r\n    const getImage = (image) => {\r\n        try {\r\n            const img = `https://vineckabucket.s3.eu-central-1.amazonaws.com/${image.replace(/_/g, '-')}`\r\n            return img;\r\n        } catch {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    const deleteCard = (serviceId) => {\r\n        axios.delete(`${process.env.REACT_APP_BACKEND_URL}/services/${serviceId}/`)\r\n            .then(() => setRefresh(!refresh))\r\n            .catch((err) => err && console.log(`Error ${err}`));\r\n    };\r\n\r\n    useEffect(() => {\r\n        axios.get(`${process.env.REACT_APP_BACKEND_URL}/services/`)\r\n            .then(res => {\r\n                const result = res.data\r\n                setServicesData(result)\r\n            })\r\n            .catch(err => err && console.log(err))\r\n    }, [refresh])\r\n\r\n    const handleSubmit = (passLink) => {\r\n        const win = window.open(passLink, \"_blank\");\r\n        win.focus();\r\n    }\r\n\r\n    const ShowServices = () => {\r\n        return servicesData.map(service => {\r\n            const { _id, name, link, description, imageLink, when, where } = service\r\n            return (\r\n                <Col key={_id} style={{maxWidth:'800px'}} className=\"mt-4\" md={12} lg={6}>\r\n                    <Card bg=\"dark\" text=\"white\" className=\"h-100\" id={_id}>\r\n                        {isOwner &&\r\n                            <Button\r\n                                onClick={() => deleteCard(_id)}\r\n                                style={{\r\n                                    width: \"40px\",\r\n                                    height: \"40px\",\r\n                                    marginBottom: \"-40px\",\r\n                                    zIndex: \"+5\"\r\n                                }}\r\n                                variant=\"outline-danger\"\r\n                                >\r\n                                <MdDelete style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n                            </Button>}\r\n                        {isOwner &&\r\n                        <Button\r\n                            onClick={(e) => handleEditing(e)}\r\n                            style={{\r\n                                width: \"40px\",\r\n                                height: \"40px\",\r\n                                marginBottom: \"-40px\",\r\n                                marginLeft: \"40px\",\r\n                                zIndex: \"+5\"\r\n                            }}\r\n                            variant=\"outline-warning\"\r\n                            >\r\n                            <MdEdit style={{ fontSize: \"150%\", margin: \"0 0 15px -5px\" }} />\r\n                            </Button>}\r\n                            \r\n                        {editing &&\r\n                            <EditService refresh={refresh} setRefresh={setRefresh} setServicePopup={setEditing} servicePopup={editing[_id]} serviceData={service} />\r\n                        }\r\n                        <Card.Img variant=\"top\" style={{ height: '350px' }} src={getImage(imageLink) ? getImage(imageLink) : imageLink} />\r\n                        <Card.Body>\r\n                            <Card.Title>{name}<Button onClick={() => handleSubmit(link)} size=\"sm\" variant=\"outline-light\" style={{float: 'right', marginTop: '-5px'}}>Viac info</Button></Card.Title>\r\n                            <Card.Text>{description}</Card.Text>\r\n                        </Card.Body>\r\n                        {(when || where) &&\r\n                        <Card.Footer>\r\n                            <small className=\"text-muted\"><MdDateRange style={{fontSize: '130%'}} /> {when}<br /> <MdLocationOn style={{fontSize: '130%'}} /> {where}</small>\r\n                        </Card.Footer>}\r\n                    </Card>\r\n                </Col>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Container className=\"mb-4\">\r\n            {servicePopup &&\r\n                <AddService refresh={refresh} setRefresh={setRefresh} setServicePopup={setServicePopup} servicePopup={servicePopup} />\r\n            }\r\n            {isOwner &&\r\n            <Row className=\"justify-content-center\" >\r\n                <Button className=\"mt-4\" variant=\"dark\" onClick={() => setServicePopup(true)}>Pridat Sluzbu</Button>\r\n            </Row>}\r\n            <Row className=\"justify-content-center justify-content-md-start\" >\r\n                <ShowServices />\r\n            </Row>\r\n        </Container>\r\n    )\r\n}","import React from 'react';\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\n\r\nimport { MdMailOutline } from \"react-icons/md\";\r\nimport { BiCodeAlt } from \"react-icons/bi\";\r\nimport { FaFacebookF,FaInstagram } from \"react-icons/fa\";\r\n\r\nexport default () => {\r\n    return (\r\n        <div className=\"pt-1 pb-3\" style={{backgroundColor: 'rgba(55, 63, 39, 0.6)'}}>\r\n        <Container>\r\n          <Row className=\"text-center pt-4 pb-4 mt-4\">\r\n            <Col className=\"mb-2\" md={6} lg={3}>\r\n              <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://github.com/mattiass771\" style={{textDecoration: 'none', color: 'whitesmoke'}}>\r\n                <BiCodeAlt style={{fontSize: '150%', marginTop: '-2px'}} /> by <strong>MZ</strong>\r\n              </a>\r\n            </Col>\r\n            <Col className=\"mb-2\" md={6} lg={3}>\r\n              <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://facebook.com\" style={{textDecoration: 'none', color: 'whitesmoke'}}>\r\n                <FaFacebookF style={{fontSize: '130%', marginTop: '-2px', marginRight: '-4px'}} />acebook.com<strong>/masvino</strong>\r\n              </a>\r\n            </Col>\r\n            <Col className=\"mb-2\" md={6} lg={3}>\r\n              <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://instagram.com\" style={{textDecoration: 'none', color: 'whitesmoke'}}>\r\n                <FaInstagram style={{fontSize: '150%', marginTop: '-2px'}} /><strong>#masvino</strong>\r\n              </a>\r\n            </Col>\r\n            <Col className=\"mb-2\" md={6} lg={3}>\r\n              <MdMailOutline style={{fontSize: '150%', marginTop: '-2px', color: 'whitesmoke'}} /><strong style={{color: 'whitesmoke'}}>masvino@mail.com</strong>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    )\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { Route, Switch, BrowserRouter as Router } from \"react-router-dom\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport axios from \"axios\";\r\n\r\nimport \"./index.css\";\r\nimport \"react-dropzone-uploader/dist/styles.css\";\r\n\r\nimport Home from \"./components/Home/Home\";\r\nimport Vinarne from \"./components/Shop/Vinarne\";\r\nimport Login from \"./components/Login/Login\";\r\nimport ShopOnline from \"./components/Shop/shopOnline/ShopOnline\"\r\nimport ShoppingCart from \"./components/Cart/ShoppingCart\"\r\nimport PayGate from \"./components/Cart/PayGate\"\r\nimport Orders from \"./components/Payment/Orders\"\r\nimport SuccessPayment from \"./components/Payment/SuccessPayment\";\r\nimport RejectPayment from \"./components/Payment/RejectPayment\";\r\nimport Vinka from \"./components/Wines/Vinka\";\r\nimport Events from \"./components/Events/Events\";\r\nimport Services from \"./components/Services/Services\";\r\nimport Footer from \"./components/Footer\";\r\n\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\n\r\n// App.js\r\nexport default () => {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [userData, setUserData] = useState({});\r\n  const [loadingData, setLoadingData] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setLoadingData(true)\r\n    axios\r\n      .get(`${process.env.REACT_APP_BACKEND_URL}/get-user-data`, {\r\n        withCredentials: true\r\n      })\r\n      .then((res) => {\r\n        if (res.data) {\r\n          const { _id, userName, fullName, email, shopId, isOwner } = res.data;\r\n          setUserData({ _id, userName, fullName, email, shopId, isOwner });\r\n          setIsLoggedIn(userName ? true : false);\r\n        } else {\r\n          setUserData({})\r\n        }\r\n      })\r\n      .catch((err) => err && console.log(\"Load Error \" + err))\r\n      .then(() => setLoadingData(false))\r\n  }, []);\r\n  const handleLogOut = () => {\r\n    axios\r\n      .get(`${process.env.REACT_APP_BACKEND_URL}/logout`, {\r\n        withCredentials: true\r\n      })\r\n      .then(() => {\r\n        setUserData({});\r\n        setIsLoggedIn(false);\r\n      })\r\n      .catch((err) => console.log(`Error ${err}`))\r\n      .then(() => window.location.reload());\r\n  };\r\n  userData.isOwner = true\r\n  return (\r\n    <Router>\r\n      <link\r\n        rel=\"stylesheet\"\r\n        href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css\"\r\n        integrity=\"sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk\"\r\n        crossOrigin=\"anonymous\"\r\n      />\r\n      <div>\r\n        <Navbar userName={userData.fullName} isLoggedIn={isLoggedIn} handleLogOut={handleLogOut} />\r\n        {loadingData ? \r\n              <Spinner\r\n                style={{ marginLeft: \"49%\", marginTop: \"20%\" }}\r\n                animation=\"border\"\r\n              /> :\r\n        <div>\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <Home userId={userData._id} isOwner={userData.isOwner}  />\r\n            </Route>\r\n            <Route exact path=\"/vinarne\">\r\n              <Vinarne userData={userData} />\r\n            </Route>\r\n            <Route exact path=\"/vinka\">\r\n              <Vinka userData={userData} />\r\n            </Route>\r\n            <Route exact path=\"/login-page\">\r\n              {isLoggedIn ? <Home userId={userData._id} isOwner={userData.isOwner} /> : <Login />}\r\n            </Route>\r\n            <Route exact path=\"/cart-page\">\r\n              <ShoppingCart userId={userData._id} />\r\n            </Route>\r\n            <Route exact path={`/success-payment`}>\r\n              <SuccessPayment userId={userData._id} />\r\n            </Route>\r\n                <Route exact path={`/failed-payment`}>\r\n              <RejectPayment userId={userData._id} />\r\n            </Route>\r\n            <Route exact path={`/cancel-payment`}>\r\n              <RejectPayment userId={userData._id} />\r\n            </Route>\r\n            <Route exact path={`/objednavky`}>\r\n              <Orders userId={userData._id} isOwner={userData.isOwner} />\r\n            </Route>\r\n            <Route exact path={`/akcie`}>\r\n              <Events isOwner={userData.isOwner} />\r\n            </Route>\r\n            <Route exact path={`/sluzby`}>\r\n              <Services isOwner={userData.isOwner} />\r\n            </Route>\r\n            <Route exact path={`/:shopUrl`}>\r\n              <ShopOnline userId={userData._id} isOwner={userData.isOwner} />\r\n            </Route>\r\n            <Route exact path={`/shop/payment`}>\r\n              <PayGate />\r\n            </Route>\r\n          </Switch>\r\n        </div>}\r\n        <Footer />\r\n      </div>    \r\n    </Router>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}